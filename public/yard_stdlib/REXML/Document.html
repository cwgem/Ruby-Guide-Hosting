<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: REXML::Document
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../REXML.html" title="REXML (module)">REXML</a></span></span>
     &raquo; 
    <span class="title">Document</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: REXML::Document
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Element.html" title="REXML::Element (class)">Element</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Child.html" title="REXML::Child (class)">Child</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Parent.html" title="REXML::Parent (class)">Parent</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Element.html" title="REXML::Element (class)">Element</a></span></li>
          
            <li class="next">REXML::Document</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rexml/document.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Represents a full XML document, including PIs, a doctype, etc.  A Document
has a single child that can be accessed by root(). Note that if you want to
have an XML declaration written for a document you create, you must add
one; REXML documents do not write a default declaration for you.  See
|DECLARATION| and |write|.</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DECLARATION-constant" class="">DECLARATION =
          <div class="docstring">
  <div class="discussion">
    
<p>A convenient default XML declaration.  If you want an XML declaration, the
easiest way to add one is mydoc &lt;&lt; Document::DECLARATION
<tt>DEPRECATED</tt> Use: mydoc &lt;&lt; XMLDecl.default</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='const'>XMLDecl</span><span class='period'>.</span><span class='id default'>default</span></pre></dd>
      
        <dt id="entity_expansion_limit-classvariable" class="">@@entity_expansion_limit =
          
        </dt>
        <dd><pre class="code"><span class='int'>10_000</span></pre></dd>
      
    </dl>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <span class='object_link'><a href="Element.html" title="REXML::Element (class)">Element</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Element.html#UNDEFINED-constant" title="REXML::Element::UNDEFINED (constant)">UNDEFINED</a></span></p>

  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="Namespace.html" title="REXML::Namespace (module)">Namespace</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Namespace.html#NAMESPLIT-constant" title="REXML::Namespace::NAMESPLIT (constant)">NAMESPLIT</a></span></p>

  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="XMLTokens.html" title="REXML::XMLTokens (module)">XMLTokens</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="XMLTokens.html#NAME-constant" title="REXML::XMLTokens::NAME (constant)">NAME</a></span>, <span class='object_link'><a href="XMLTokens.html#NAMECHAR-constant" title="REXML::XMLTokens::NAMECHAR (constant)">NAMECHAR</a></span>, <span class='object_link'><a href="XMLTokens.html#NAME_STR-constant" title="REXML::XMLTokens::NAME_STR (constant)">NAME_STR</a></span>, <span class='object_link'><a href="XMLTokens.html#NCNAME_STR-constant" title="REXML::XMLTokens::NCNAME_STR (constant)">NCNAME_STR</a></span>, <span class='object_link'><a href="XMLTokens.html#NMTOKEN-constant" title="REXML::XMLTokens::NMTOKEN (constant)">NMTOKEN</a></span>, <span class='object_link'><a href="XMLTokens.html#NMTOKENS-constant" title="REXML::XMLTokens::NMTOKENS (constant)">NMTOKENS</a></span>, <span class='object_link'><a href="XMLTokens.html#REFERENCE-constant" title="REXML::XMLTokens::REFERENCE (constant)">REFERENCE</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#entity_expansion_count-instance_method" title="#entity_expansion_count (instance method)">- (Object) <strong>entity_expansion_count</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute entity_expansion_count.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  
  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Element.html" title="REXML::Element (class)">Element</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Element.html#attributes-instance_method" title="REXML::Element#attributes (method)">attributes</a></span>, <span class='object_link'><a href="Element.html#context-instance_method" title="REXML::Element#context (method)">context</a></span>, <span class='object_link'><a href="Element.html#elements-instance_method" title="REXML::Element#elements (method)">elements</a></span></p>

  
  
  
  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Namespace.html" title="REXML::Namespace (module)">Namespace</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Namespace.html#expanded_name-instance_method" title="REXML::Namespace#expanded_name (method)">expanded_name</a></span>, <span class='object_link'><a href="Namespace.html#name-instance_method" title="REXML::Namespace#name (method)">name</a></span>, <span class='object_link'><a href="Namespace.html#prefix-instance_method" title="REXML::Namespace#prefix (method)">prefix</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Child.html" title="REXML::Child (class)">Child</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Child.html#parent-instance_method" title="REXML::Child#parent (method)">parent</a></span></p>

  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#entity_expansion_limit-class_method" title="entity_expansion_limit (class method)">+ (Object) <strong>entity_expansion_limit</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the entity expansion limit.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#entity_expansion_limit%3D-class_method" title="entity_expansion_limit= (class method)">+ (Object) <strong>entity_expansion_limit=</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the entity expansion limit.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_stream-class_method" title="parse_stream (class method)">+ (Object) <strong>parse_stream</strong>(source, listener) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add-instance_method" title="#add (instance method)">- (Object) <strong>add</strong>(child) </a>
    

    
      (also: #&lt;&lt;)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>We override this, because XMLDecls and DocTypes must go at the start of the
document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_element-instance_method" title="#add_element (instance method)">- (Object) <strong>add_element</strong>(arg = nil, arg2 = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-instance_method" title="#build (instance method)">- (Object) <strong>build</strong>(source) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clone-instance_method" title="#clone (instance method)">- (Object) <strong>clone</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Should be obvious.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doctype-instance_method" title="#doctype (instance method)">- (Object) <strong>doctype</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>and nil otherwise.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encoding-instance_method" title="#encoding (instance method)">- (Object) <strong>encoding</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Encoding object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expanded_name-instance_method" title="#expanded_name (instance method)">- (Object) <strong>expanded_name</strong> </a>
    

    
      (also: #name)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>According to the XML spec, a root node has no expanded name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Document) <strong>initialize</strong>(source = nil, context = {}) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructor Documents have their context and Element attributes cloned.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_type-instance_method" title="#node_type (instance method)">- (Object) <strong>node_type</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#record_entity_expansion-instance_method" title="#record_entity_expansion (instance method)">- (Object) <strong>record_entity_expansion</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">- (Object) <strong>root</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>has no children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stand_alone%3F-instance_method" title="#stand_alone? (instance method)">- (Boolean) <strong>stand_alone?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If no XMLDecl has been set, returns the default setting.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#version-instance_method" title="#version (instance method)">- (Object) <strong>version</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If no XMLDecl has been set, returns the default version.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write-instance_method" title="#write (instance method)">- (Object) <strong>write</strong>(output = $stdout, indent = 1, transitive = false, ie_hack = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Write the XML tree out, optionally with indent.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xml_decl-instance_method" title="#xml_decl (instance method)">- (Object) <strong>xml_decl</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>set, the default declaration is returned.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Element.html" title="REXML::Element (class)">Element</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Element.html#__to_xpath_helper-instance_method" title="REXML::Element#__to_xpath_helper (method)">#__to_xpath_helper</a></span>, <span class='object_link'><a href="Element.html#add_attribute-instance_method" title="REXML::Element#add_attribute (method)">#add_attribute</a></span>, <span class='object_link'><a href="Element.html#add_attributes-instance_method" title="REXML::Element#add_attributes (method)">#add_attributes</a></span>, <span class='object_link'><a href="Element.html#add_namespace-instance_method" title="REXML::Element#add_namespace (method)">#add_namespace</a></span>, <span class='object_link'><a href="Element.html#add_text-instance_method" title="REXML::Element#add_text (method)">#add_text</a></span>, <span class='object_link'><a href="Element.html#attribute-instance_method" title="REXML::Element#attribute (method)">#attribute</a></span>, <span class='object_link'><a href="Element.html#cdatas-instance_method" title="REXML::Element#cdatas (method)">#cdatas</a></span>, <span class='object_link'><a href="Element.html#comments-instance_method" title="REXML::Element#comments (method)">#comments</a></span>, <span class='object_link'><a href="Element.html#delete_attribute-instance_method" title="REXML::Element#delete_attribute (method)">#delete_attribute</a></span>, <span class='object_link'><a href="Element.html#delete_element-instance_method" title="REXML::Element#delete_element (method)">#delete_element</a></span>, <span class='object_link'><a href="Element.html#delete_namespace-instance_method" title="REXML::Element#delete_namespace (method)">#delete_namespace</a></span>, <span class='object_link'><a href="Element.html#document-instance_method" title="REXML::Element#document (method)">#document</a></span>, <span class='object_link'><a href="Element.html#each_element-instance_method" title="REXML::Element#each_element (method)">#each_element</a></span>, <span class='object_link'><a href="Element.html#each_element_with_attribute-instance_method" title="REXML::Element#each_element_with_attribute (method)">#each_element_with_attribute</a></span>, <span class='object_link'><a href="Element.html#each_element_with_text-instance_method" title="REXML::Element#each_element_with_text (method)">#each_element_with_text</a></span>, <span class='object_link'><a href="Element.html#each_with_something-instance_method" title="REXML::Element#each_with_something (method)">#each_with_something</a></span>, <span class='object_link'><a href="Element.html#get_elements-instance_method" title="REXML::Element#get_elements (method)">#get_elements</a></span>, <span class='object_link'><a href="Element.html#get_text-instance_method" title="REXML::Element#get_text (method)">#get_text</a></span>, <span class='object_link'><a href="Element.html#has_attributes%3F-instance_method" title="REXML::Element#has_attributes? (method)">#has_attributes?</a></span>, <span class='object_link'><a href="Element.html#has_elements%3F-instance_method" title="REXML::Element#has_elements? (method)">#has_elements?</a></span>, <span class='object_link'><a href="Element.html#has_text%3F-instance_method" title="REXML::Element#has_text? (method)">#has_text?</a></span>, <span class='object_link'><a href="Element.html#ignore_whitespace_nodes-instance_method" title="REXML::Element#ignore_whitespace_nodes (method)">#ignore_whitespace_nodes</a></span>, <span class='object_link'><a href="Element.html#inspect-instance_method" title="REXML::Element#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Element.html#instructions-instance_method" title="REXML::Element#instructions (method)">#instructions</a></span>, <span class='object_link'><a href="Element.html#namespace-instance_method" title="REXML::Element#namespace (method)">#namespace</a></span>, <span class='object_link'><a href="Element.html#namespaces-instance_method" title="REXML::Element#namespaces (method)">#namespaces</a></span>, <span class='object_link'><a href="Element.html#next_element-instance_method" title="REXML::Element#next_element (method)">#next_element</a></span>, <span class='object_link'><a href="Element.html#prefixes-instance_method" title="REXML::Element#prefixes (method)">#prefixes</a></span>, <span class='object_link'><a href="Element.html#previous_element-instance_method" title="REXML::Element#previous_element (method)">#previous_element</a></span>, <span class='object_link'><a href="Element.html#raw-instance_method" title="REXML::Element#raw (method)">#raw</a></span>, <span class='object_link'><a href="Element.html#root_node-instance_method" title="REXML::Element#root_node (method)">#root_node</a></span>, <span class='object_link'><a href="Element.html#text-instance_method" title="REXML::Element#text (method)">#text</a></span>, <span class='object_link'><a href="Element.html#text%3D-instance_method" title="REXML::Element#text= (method)">#text=</a></span>, <span class='object_link'><a href="Element.html#texts-instance_method" title="REXML::Element#texts (method)">#texts</a></span>, <span class='object_link'><a href="Element.html#whitespace-instance_method" title="REXML::Element#whitespace (method)">#whitespace</a></span>, <span class='object_link'><a href="Element.html#xpath-instance_method" title="REXML::Element#xpath (method)">#xpath</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Namespace.html" title="REXML::Namespace (module)">Namespace</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Namespace.html#fully_expanded_name-instance_method" title="REXML::Namespace#fully_expanded_name (method)">#fully_expanded_name</a></span>, <span class='object_link'><a href="Namespace.html#has_name%3F-instance_method" title="REXML::Namespace#has_name? (method)">#has_name?</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Parent.html" title="REXML::Parent (class)">Parent</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Parent.html#%5B%5D-instance_method" title="REXML::Parent#[] (method)">#[]</a></span>, <span class='object_link'><a href="Parent.html#%5B%5D%3D-instance_method" title="REXML::Parent#[]= (method)">#[]=</a></span>, <span class='object_link'><a href="Parent.html#deep_clone-instance_method" title="REXML::Parent#deep_clone (method)">#deep_clone</a></span>, <span class='object_link'><a href="Parent.html#delete-instance_method" title="REXML::Parent#delete (method)">#delete</a></span>, <span class='object_link'><a href="Parent.html#delete_at-instance_method" title="REXML::Parent#delete_at (method)">#delete_at</a></span>, <span class='object_link'><a href="Parent.html#delete_if-instance_method" title="REXML::Parent#delete_if (method)">#delete_if</a></span>, <span class='object_link'><a href="Parent.html#each-instance_method" title="REXML::Parent#each (method)">#each</a></span>, <span class='object_link'><a href="Parent.html#each_index-instance_method" title="REXML::Parent#each_index (method)">#each_index</a></span>, <span class='object_link'><a href="Parent.html#index-instance_method" title="REXML::Parent#index (method)">#index</a></span>, <span class='object_link'><a href="Parent.html#insert_after-instance_method" title="REXML::Parent#insert_after (method)">#insert_after</a></span>, <span class='object_link'><a href="Parent.html#insert_before-instance_method" title="REXML::Parent#insert_before (method)">#insert_before</a></span>, <span class='object_link'><a href="Parent.html#parent%3F-instance_method" title="REXML::Parent#parent? (method)">#parent?</a></span>, <span class='object_link'><a href="Parent.html#replace_child-instance_method" title="REXML::Parent#replace_child (method)">#replace_child</a></span>, <span class='object_link'><a href="Parent.html#size-instance_method" title="REXML::Parent#size (method)">#size</a></span>, <span class='object_link'><a href="Parent.html#to_a-instance_method" title="REXML::Parent#to_a (method)">#to_a</a></span>, <span class='object_link'><a href="Parent.html#unshift-instance_method" title="REXML::Parent#unshift (method)">#unshift</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Enumerable.html#to_set-instance_method" title="Enumerable#to_set (method)">#to_set</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Child.html" title="REXML::Child (class)">Child</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Child.html#bytes-instance_method" title="REXML::Child#bytes (method)">#bytes</a></span>, <span class='object_link'><a href="Child.html#document-instance_method" title="REXML::Child#document (method)">#document</a></span>, <span class='object_link'><a href="Child.html#next_sibling%3D-instance_method" title="REXML::Child#next_sibling= (method)">#next_sibling=</a></span>, <span class='object_link'><a href="Child.html#previous_sibling%3D-instance_method" title="REXML::Child#previous_sibling= (method)">#previous_sibling=</a></span>, <span class='object_link'><a href="Child.html#remove-instance_method" title="REXML::Child#remove (method)">#remove</a></span>, <span class='object_link'><a href="Child.html#replace_with-instance_method" title="REXML::Child#replace_with (method)">#replace_with</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Node.html" title="REXML::Node (module)">Node</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Node.html#each_recursive-instance_method" title="REXML::Node#each_recursive (method)">#each_recursive</a></span>, <span class='object_link'><a href="Node.html#find_first_recursive-instance_method" title="REXML::Node#find_first_recursive (method)">#find_first_recursive</a></span>, <span class='object_link'><a href="Node.html#indent-instance_method" title="REXML::Node#indent (method)">#indent</a></span>, <span class='object_link'><a href="Node.html#index_in_parent-instance_method" title="REXML::Node#index_in_parent (method)">#index_in_parent</a></span>, <span class='object_link'><a href="Node.html#next_sibling_node-instance_method" title="REXML::Node#next_sibling_node (method)">#next_sibling_node</a></span>, <span class='object_link'><a href="Node.html#parent%3F-instance_method" title="REXML::Node#parent? (method)">#parent?</a></span>, <span class='object_link'><a href="Node.html#previous_sibling_node-instance_method" title="REXML::Node#previous_sibling_node (method)">#previous_sibling_node</a></span>, <span class='object_link'><a href="Node.html#to_s-instance_method" title="REXML::Node#to_s (method)">#to_s</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="REXML::Document (class)">Document</a></span></tt>) <strong>initialize</strong>(source = nil, context = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Constructor Documents have their context and Element attributes cloned.
Strings are expected to be valid XML documents.  IOs are expected to be
sources of valid XML documents. this should be a Hash.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>if supplied, must be a Document, String, or IO.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>if supplied, contains the context of the document;</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 34</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span> <span class='id source'>source</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id context'>context</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='rparen'>)</span>
  <span class='ivar'>@entity_expansion_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id context'>context</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id source'>source</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='kw'>if</span> <span class='id source'>source</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>Document</span>
    <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id source'>source</span><span class='period'>.</span><span class='id context'>context</span>
    <span class='kw'>super</span> <span class='id source'>source</span>
  <span class='kw'>else</span>
    <span class='id build'>build</span><span class='lparen'>(</span>  <span class='id source'>source</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="entity_expansion_count-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="entity_expansion_count-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>entity_expansion_count</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute entity_expansion_count</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 220</span>

<span class='kw'>def</span> <span class='id entity_expansion_count'>entity_expansion_count</span>
  <span class='ivar'>@entity_expansion_count</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="entity_expansion_limit-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>entity_expansion_limit</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Get the entity expansion limit. By default the limit is set to 10000.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 216</span>

<span class='kw'>def</span> <span class='const'>Document</span><span class='op'>::</span><span class='id entity_expansion_limit'>entity_expansion_limit</span>
  <span class='kw'>return</span> <span class='cvar'>@@entity_expansion_limit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="entity_expansion_limit=-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>entity_expansion_limit=</strong>(val) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Set the entity expansion limit. By default the limit is set to 10000.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 211</span>

<span class='kw'>def</span> <span class='const'>Document</span><span class='op'>::</span><span class='id entity_expansion_limit='>entity_expansion_limit=</span><span class='lparen'>(</span> <span class='id val'>val</span> <span class='rparen'>)</span>
  <span class='cvar'>@@entity_expansion_limit</span> <span class='op'>=</span> <span class='id val'>val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parse_stream-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parse_stream</strong>(source, listener) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 204</span>

<span class='kw'>def</span> <span class='const'>Document</span><span class='op'>::</span><span class='id parse_stream'>parse_stream</span><span class='lparen'>(</span> <span class='id source'>source</span><span class='comma'>,</span> <span class='id listener'>listener</span> <span class='rparen'>)</span>
  <span class='const'>Parsers</span><span class='op'>::</span><span class='const'>StreamParser</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id source'>source</span><span class='comma'>,</span> <span class='id listener'>listener</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="add-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add</strong>(child) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='<<-instance_method'>&lt;&lt;</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>We override this, because XMLDecls and DocTypes must go at the start of the
document</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 67</span>

<span class='kw'>def</span> <span class='id add'>add</span><span class='lparen'>(</span> <span class='id child'>child</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id child'>child</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>XMLDecl</span>
    <span class='kw'>if</span> <span class='ivar'>@children</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>XMLDecl</span>
      <span class='ivar'>@children</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id child'>child</span>
    <span class='kw'>else</span>
      <span class='ivar'>@children</span><span class='period'>.</span><span class='id unshift'>unshift</span> <span class='id child'>child</span>
    <span class='kw'>end</span>
    <span class='id child'>child</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='kw'>elsif</span> <span class='id child'>child</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>DocType</span>
    <span class='comment'># Find first Element or DocType node and insert the decl right
</span>    <span class='comment'># before it.  If there is no such node, just insert the child at the
</span>    <span class='comment'># end.  If there is a child and it is an DocType, then replace it.
</span>    <span class='id insert_before_index'>insert_before_index</span> <span class='op'>=</span> <span class='ivar'>@children</span><span class='period'>.</span><span class='id find_index'>find_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id x'>x</span><span class='op'>|</span>
      <span class='id x'>x</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Element</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id x'>x</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>DocType</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='id insert_before_index'>insert_before_index</span> <span class='comment'># Not null = not end of list
</span>      <span class='kw'>if</span> <span class='ivar'>@children</span><span class='lbracket'>[</span> <span class='id insert_before_index'>insert_before_index</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>DocType</span>
        <span class='ivar'>@children</span><span class='lbracket'>[</span> <span class='id insert_before_index'>insert_before_index</span> <span class='rbracket'>]</span> <span class='op'>=</span> <span class='id child'>child</span>
      <span class='kw'>else</span>
        <span class='ivar'>@children</span><span class='lbracket'>[</span> <span class='id insert_before_index'>insert_before_index</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span> <span class='rbracket'>]</span> <span class='op'>=</span> <span class='id child'>child</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>  <span class='comment'># Insert at end of list
</span>      <span class='ivar'>@children</span> <span class='op'>&lt;&lt;</span> <span class='id child'>child</span>
    <span class='kw'>end</span>
    <span class='id child'>child</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='kw'>else</span>
    <span class='id rv'>rv</span> <span class='op'>=</span> <span class='kw'>super</span>
    <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attempted adding second root element to document</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@elements</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id rv'>rv</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_element-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add_element</strong>(arg = nil, arg2 = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 100</span>

<span class='kw'>def</span> <span class='id add_element'>add_element</span><span class='lparen'>(</span><span class='id arg'>arg</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id arg2'>arg2</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id rv'>rv</span> <span class='op'>=</span> <span class='kw'>super</span>
  <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>attempted adding second root element to document</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@elements</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
  <span class='id rv'>rv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="build-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>build</strong>(source) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 230</span>

<span class='kw'>def</span> <span class='id build'>build</span><span class='lparen'>(</span> <span class='id source'>source</span> <span class='rparen'>)</span>
  <span class='const'>Parsers</span><span class='op'>::</span><span class='const'>TreeParser</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id source'>source</span><span class='comma'>,</span> <span class='kw'>self</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id parse'>parse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="clone-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>clone</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Should be obvious</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 52</span>

<span class='kw'>def</span> <span class='id clone'>clone</span>
  <span class='const'>Document</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="doctype-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>doctype</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>and nil otherwise.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the DocType child of the document, if one exists,</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 116</span>

<span class='kw'>def</span> <span class='id doctype'>doctype</span>
  <span class='ivar'>@children</span><span class='period'>.</span><span class='id find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id item'>item</span><span class='op'>|</span> <span class='id item'>item</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>DocType</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="encoding-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>encoding</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Encoding object. If no XMLDecl has been set, returns the default encoding.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the XMLDecl encoding of this document as an</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 137</span>

<span class='kw'>def</span> <span class='id encoding'>encoding</span>
  <span class='id xml_decl'>xml_decl</span><span class='lparen'>(</span><span class='rparen'>)</span><span class='period'>.</span><span class='id encoding'>encoding</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="expanded_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>expanded_name</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='name-instance_method'>name</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>According to the XML spec, a root node has no expanded name</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 57</span>

<span class='kw'>def</span> <span class='id expanded_name'>expanded_name</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='comment'>#d = doc_type
</span>  <span class='comment'>#d ? d.name : &quot;UNDEFINED&quot;
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="node_type-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>node_type</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 47</span>

<span class='kw'>def</span> <span class='id node_type'>node_type</span>
  <span class='symbol'>:document</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="record_entity_expansion-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>record_entity_expansion</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 222</span>

<span class='kw'>def</span> <span class='id record_entity_expansion'>record_entity_expansion</span>
  <span class='ivar'>@entity_expansion_count</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>if</span> <span class='ivar'>@entity_expansion_count</span> <span class='op'>&gt;</span> <span class='cvar'>@@entity_expansion_limit</span>
    <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>number of entity expansions exceeded, processing aborted.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="root-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>root</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>has no children.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the root Element of the document, or nil if this document</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 108</span>

<span class='kw'>def</span> <span class='id root'>root</span>
  <span class='id elements'>elements</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='comment'>#self
</span>  <span class='comment'>#@children.find { |item| item.kind_of? Element }
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="stand_alone?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>stand_alone?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>If no XMLDecl has been set, returns the default setting.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the XMLDecl standalone value of this document as a String.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 143</span>

<span class='kw'>def</span> <span class='id stand_alone?'>stand_alone?</span>
  <span class='id xml_decl'>xml_decl</span><span class='lparen'>(</span><span class='rparen'>)</span><span class='period'>.</span><span class='id stand_alone?'>stand_alone?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="version-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>version</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>If no XMLDecl has been set, returns the default version.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the XMLDecl version of this document as a String.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 130</span>

<span class='kw'>def</span> <span class='id version'>version</span>
  <span class='id xml_decl'>xml_decl</span><span class='lparen'>(</span><span class='rparen'>)</span><span class='period'>.</span><span class='id version'>version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>write</strong>(output = $stdout, indent = 1, transitive = false, ie_hack = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Write the XML tree out, optionally with indent.  This writes out the entire
XML document, including XML declarations, doctype declarations, and
processing instructions (if any are given).</p>

<p>A controversial point is whether Document should always write the XML
declaration (&lt;?xml version='1.0'?&gt;) whether or not one is given by
the user (or source document).  REXML does not write one if one was not
specified, because it adds unnecessary bandwidth to applications such as
XML-RPC.</p>

<p>See also the classes in the rexml/formatters package for the proper way to
change the default formatting of XML output</p>

<p><em>Examples</em></p>

<pre class="code"><span class='const'>Document</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id serialize'>serialize</span>

<span class='id output_string'>output_string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='id tr'>tr</span> <span class='op'>=</span> <span class='const'>Transitive</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id output_string'>output_string</span> <span class='rparen'>)</span>
<span class='const'>Document</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id serialize'>serialize</span><span class='lparen'>(</span> <span class='id tr'>tr</span> <span class='rparen'>)</span></pre>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>output</p></td>
<td>
<p>output an object which supports '&lt;&lt; string'; this is where the</p>
</td></tr></table>

<pre class="code">document will be written.</pre>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>indent</p></td>
<td>
<p>An integer.  If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount.  For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1</p>
</td></tr><tr><td class="rdoc-term"><p>transitive</p></td>
<td>
<p>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document -- that is, it leaves the value and
number of Text nodes in the document unchanged.</p>
</td></tr><tr><td class="rdoc-term"><p>ie_hack</p></td>
<td>
<p>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself.  Since IE is unable to parse
proper XML, we have to provide a hack to generate XML that IE's limited
abilities can handle.  This hack inserts a space before the /&gt; on empty
tags.  Defaults to false</p>
</td></tr></table>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 186</span>

<span class='kw'>def</span> <span class='id write'>write</span><span class='lparen'>(</span> <span class='id output'>output</span><span class='op'>=</span><span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='id indent'>indent</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='id transitive'>transitive</span><span class='op'>=</span><span class='kw'>false</span><span class='comma'>,</span> <span class='id ie_hack'>ie_hack</span><span class='op'>=</span><span class='kw'>false</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id xml_decl'>xml_decl</span><span class='period'>.</span><span class='id encoding'>encoding</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id output'>output</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Output</span><span class='rparen'>)</span>
    <span class='id output'>output</span> <span class='op'>=</span> <span class='const'>Output</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id output'>output</span><span class='comma'>,</span> <span class='id xml_decl'>xml_decl</span><span class='period'>.</span><span class='id encoding'>encoding</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id formatter'>formatter</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id indent'>indent</span> <span class='op'>&gt;</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>if</span> <span class='id transitive'>transitive</span>
        <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rexml/formatters/transitive</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Formatters</span><span class='op'>::</span><span class='const'>Transitive</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id indent'>indent</span><span class='comma'>,</span> <span class='id ie_hack'>ie_hack</span> <span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Formatters</span><span class='op'>::</span><span class='const'>Pretty</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id indent'>indent</span><span class='comma'>,</span> <span class='id ie_hack'>ie_hack</span> <span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Formatters</span><span class='op'>::</span><span class='const'>Default</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='id ie_hack'>ie_hack</span> <span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='id formatter'>formatter</span><span class='period'>.</span><span class='id write'>write</span><span class='lparen'>(</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id output'>output</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xml_decl-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>xml_decl</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>set, the default declaration is returned.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>the XMLDecl of this document; if no XMLDecl has been</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/document.rb', line 122</span>

<span class='kw'>def</span> <span class='id xml_decl'>xml_decl</span>
  <span class='id rv'>rv</span> <span class='op'>=</span> <span class='ivar'>@children</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='id rv'>rv</span> <span class='kw'>if</span> <span class='id rv'>rv</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>XMLDecl</span>
  <span class='id rv'>rv</span> <span class='op'>=</span> <span class='ivar'>@children</span><span class='period'>.</span><span class='id unshift'>unshift</span><span class='lparen'>(</span><span class='const'>XMLDecl</span><span class='period'>.</span><span class='id default'>default</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:11:11 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>