<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Module: OpenSSL</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./ext/openssl/lib/openssl/bn_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/bn.rb">ext/openssl/lib/openssl/bn.rb</a></li>
          
            <li><a href="./ext/openssl/lib/openssl/cipher_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/cipher.rb">ext/openssl/lib/openssl/cipher.rb</a></li>
          
            <li><a href="./ext/openssl/lib/openssl/config_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/config.rb">ext/openssl/lib/openssl/config.rb</a></li>
          
            <li><a href="./ext/openssl/lib/openssl/digest_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/digest.rb">ext/openssl/lib/openssl/digest.rb</a></li>
          
            <li><a href="./ext/openssl/lib/openssl/ssl-internal_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/ssl-internal.rb">ext/openssl/lib/openssl/ssl-internal.rb</a></li>
          
            <li><a href="./ext/openssl/lib/openssl/x509-internal_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/lib/openssl/x509-internal.rb">ext/openssl/lib/openssl/x509-internal.rb</a></li>
          
            <li><a href="./ext/openssl/ossl_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl.c">ext/openssl/ossl.c</a></li>
          
            <li><a href="./ext/openssl/ossl_asn1_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_asn1.c">ext/openssl/ossl_asn1.c</a></li>
          
            <li><a href="./ext/openssl/ossl_bn_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_bn.c">ext/openssl/ossl_bn.c</a></li>
          
            <li><a href="./ext/openssl/ossl_cipher_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_cipher.c">ext/openssl/ossl_cipher.c</a></li>
          
            <li><a href="./ext/openssl/ossl_digest_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_digest.c">ext/openssl/ossl_digest.c</a></li>
          
            <li><a href="./ext/openssl/ossl_hmac_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_hmac.c">ext/openssl/ossl_hmac.c</a></li>
          
            <li><a href="./ext/openssl/ossl_pkey_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_pkey.c">ext/openssl/ossl_pkey.c</a></li>
          
            <li><a href="./ext/openssl/ossl_pkey_dh_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_pkey_dh.c">ext/openssl/ossl_pkey_dh.c</a></li>
          
            <li><a href="./ext/openssl/ossl_pkey_dsa_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_pkey_dsa.c">ext/openssl/ossl_pkey_dsa.c</a></li>
          
            <li><a href="./ext/openssl/ossl_pkey_ec_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_pkey_ec.c">ext/openssl/ossl_pkey_ec.c</a></li>
          
            <li><a href="./ext/openssl/ossl_pkey_rsa_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_pkey_rsa.c">ext/openssl/ossl_pkey_rsa.c</a></li>
          
            <li><a href="./ext/openssl/ossl_rand_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_rand.c">ext/openssl/ossl_rand.c</a></li>
          
            <li><a href="./ext/openssl/ossl_ssl_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_ssl.c">ext/openssl/ossl_ssl.c</a></li>
          
            <li><a href="./ext/openssl/ossl_ssl_session_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/openssl/ossl_ssl_session.c">ext/openssl/ossl_ssl_session.c</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/ASN1.html">OpenSSL::ASN1</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/Buffering.html">OpenSSL::Buffering</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/Netscape.html">OpenSSL::Netscape</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/OCSP.html">OpenSSL::OCSP</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/PKCS5.html">OpenSSL::PKCS5</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/PKey.html">OpenSSL::PKey</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/Random.html">OpenSSL::Random</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/SSL.html">OpenSSL::SSL</a></li>
          
          <li><span class="type">MODULE</span> <a href="OpenSSL/X509.html">OpenSSL::X509</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/BN.html">OpenSSL::BN</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/BNError.html">OpenSSL::BNError</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/Cipher.html">OpenSSL::Cipher</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/Config.html">OpenSSL::Config</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/ConfigError.html">OpenSSL::ConfigError</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/Digest.html">OpenSSL::Digest</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/Engine.html">OpenSSL::Engine</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/HMAC.html">OpenSSL::HMAC</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/HMACError.html">OpenSSL::HMACError</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/OpenSSLError.html">OpenSSL::OpenSSLError</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/PKCS12.html">OpenSSL::PKCS12</a></li>
          
          <li><span class="type">CLASS</span> <a href="OpenSSL/PKCS7.html">OpenSSL::PKCS7</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-debug">::debug</a></li>
          
          <li><a href="#method-c-debug-3D">::debug=</a></li>
          
          <li><a href="#method-c-errors">::errors</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./OpenSSL.html">OpenSSL</a></li>
        
          <li><a href="./OpenSSL/ASN1.html">OpenSSL::ASN1</a></li>
        
          <li><a href="./OpenSSL/ASN1/ASN1Data.html">OpenSSL::ASN1::ASN1Data</a></li>
        
          <li><a href="./OpenSSL/ASN1/ASN1Error.html">OpenSSL::ASN1::ASN1Error</a></li>
        
          <li><a href="./OpenSSL/ASN1/Constructive.html">OpenSSL::ASN1::Constructive</a></li>
        
          <li><a href="./OpenSSL/ASN1/Primitive.html">OpenSSL::ASN1::Primitive</a></li>
        
          <li><a href="./OpenSSL/BN.html">OpenSSL::BN</a></li>
        
          <li><a href="./OpenSSL/BNError.html">OpenSSL::BNError</a></li>
        
          <li><a href="./OpenSSL/Buffering.html">OpenSSL::Buffering</a></li>
        
          <li><a href="./OpenSSL/Cipher.html">OpenSSL::Cipher</a></li>
        
          <li><a href="./OpenSSL/Cipher/Cipher.html">OpenSSL::Cipher::Cipher</a></li>
        
          <li><a href="./OpenSSL/Cipher/CipherError.html">OpenSSL::Cipher::CipherError</a></li>
        
          <li><a href="./OpenSSL/Config.html">OpenSSL::Config</a></li>
        
          <li><a href="./OpenSSL/ConfigError.html">OpenSSL::ConfigError</a></li>
        
          <li><a href="./OpenSSL/Digest.html">OpenSSL::Digest</a></li>
        
          <li><a href="./OpenSSL/Digest/Digest.html">OpenSSL::Digest::Digest</a></li>
        
          <li><a href="./OpenSSL/Digest/DigestError.html">OpenSSL::Digest::DigestError</a></li>
        
          <li><a href="./OpenSSL/Engine.html">OpenSSL::Engine</a></li>
        
          <li><a href="./OpenSSL/Engine/EngineError.html">OpenSSL::Engine::EngineError</a></li>
        
          <li><a href="./OpenSSL/HMAC.html">OpenSSL::HMAC</a></li>
        
          <li><a href="./OpenSSL/HMACError.html">OpenSSL::HMACError</a></li>
        
          <li><a href="./OpenSSL/Netscape.html">OpenSSL::Netscape</a></li>
        
          <li><a href="./OpenSSL/Netscape/SPKI.html">OpenSSL::Netscape::SPKI</a></li>
        
          <li><a href="./OpenSSL/Netscape/SPKIError.html">OpenSSL::Netscape::SPKIError</a></li>
        
          <li><a href="./OpenSSL/OCSP.html">OpenSSL::OCSP</a></li>
        
          <li><a href="./OpenSSL/OCSP/BasicResponse.html">OpenSSL::OCSP::BasicResponse</a></li>
        
          <li><a href="./OpenSSL/OCSP/CertificateId.html">OpenSSL::OCSP::CertificateId</a></li>
        
          <li><a href="./OpenSSL/OCSP/OCSPError.html">OpenSSL::OCSP::OCSPError</a></li>
        
          <li><a href="./OpenSSL/OCSP/Request.html">OpenSSL::OCSP::Request</a></li>
        
          <li><a href="./OpenSSL/OCSP/Response.html">OpenSSL::OCSP::Response</a></li>
        
          <li><a href="./OpenSSL/OpenSSLError.html">OpenSSL::OpenSSLError</a></li>
        
          <li><a href="./OpenSSL/PKCS12.html">OpenSSL::PKCS12</a></li>
        
          <li><a href="./OpenSSL/PKCS12/PKCS12Error.html">OpenSSL::PKCS12::PKCS12Error</a></li>
        
          <li><a href="./OpenSSL/PKCS5.html">OpenSSL::PKCS5</a></li>
        
          <li><a href="./OpenSSL/PKCS5/PKCS5Error.html">OpenSSL::PKCS5::PKCS5Error</a></li>
        
          <li><a href="./OpenSSL/PKCS7.html">OpenSSL::PKCS7</a></li>
        
          <li><a href="./OpenSSL/PKCS7/PKCS7Error.html">OpenSSL::PKCS7::PKCS7Error</a></li>
        
          <li><a href="./OpenSSL/PKCS7/RecipientInfo.html">OpenSSL::PKCS7::RecipientInfo</a></li>
        
          <li><a href="./OpenSSL/PKCS7/SignerInfo.html">OpenSSL::PKCS7::SignerInfo</a></li>
        
          <li><a href="./OpenSSL/PKey.html">OpenSSL::PKey</a></li>
        
          <li><a href="./OpenSSL/PKey/DH.html">OpenSSL::PKey::DH</a></li>
        
          <li><a href="./OpenSSL/PKey/DHError.html">OpenSSL::PKey::DHError</a></li>
        
          <li><a href="./OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a></li>
        
          <li><a href="./OpenSSL/PKey/DSAError.html">OpenSSL::PKey::DSAError</a></li>
        
          <li><a href="./OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Group.html">OpenSSL::PKey::EC::Group</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Group/Error.html">OpenSSL::PKey::EC::Group::Error</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Point.html">OpenSSL::PKey::EC::Point</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Point/Error.html">OpenSSL::PKey::EC::Point::Error</a></li>
        
          <li><a href="./OpenSSL/PKey/ECError.html">OpenSSL::PKey::ECError</a></li>
        
          <li><a href="./OpenSSL/PKey/PKey.html">OpenSSL::PKey::PKey</a></li>
        
          <li><a href="./OpenSSL/PKey/PKeyError.html">OpenSSL::PKey::PKeyError</a></li>
        
          <li><a href="./OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a></li>
        
          <li><a href="./OpenSSL/PKey/RSAError.html">OpenSSL::PKey::RSAError</a></li>
        
          <li><a href="./OpenSSL/Random.html">OpenSSL::Random</a></li>
        
          <li><a href="./OpenSSL/Random/RandomError.html">OpenSSL::Random::RandomError</a></li>
        
          <li><a href="./OpenSSL/SSL.html">OpenSSL::SSL</a></li>
        
          <li><a href="./OpenSSL/SSL/Nonblock.html">OpenSSL::SSL::Nonblock</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLContext.html">OpenSSL::SSL::SSLContext</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLError.html">OpenSSL::SSL::SSLError</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLServer.html">OpenSSL::SSL::SSLServer</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLSocket.html">OpenSSL::SSL::SSLSocket</a></li>
        
          <li><a href="./OpenSSL/SSL/Session.html">OpenSSL::SSL::Session</a></li>
        
          <li><a href="./OpenSSL/SSL/Session/SessionError.html">OpenSSL::SSL::Session::SessionError</a></li>
        
          <li><a href="./OpenSSL/SSL/SocketForwarder.html">OpenSSL::SSL::SocketForwarder</a></li>
        
          <li><a href="./OpenSSL/X509.html">OpenSSL::X509</a></li>
        
          <li><a href="./OpenSSL/X509/Attribute.html">OpenSSL::X509::Attribute</a></li>
        
          <li><a href="./OpenSSL/X509/AttributeError.html">OpenSSL::X509::AttributeError</a></li>
        
          <li><a href="./OpenSSL/X509/CRL.html">OpenSSL::X509::CRL</a></li>
        
          <li><a href="./OpenSSL/X509/CRLError.html">OpenSSL::X509::CRLError</a></li>
        
          <li><a href="./OpenSSL/X509/Certificate.html">OpenSSL::X509::Certificate</a></li>
        
          <li><a href="./OpenSSL/X509/CertificateError.html">OpenSSL::X509::CertificateError</a></li>
        
          <li><a href="./OpenSSL/X509/Extension.html">OpenSSL::X509::Extension</a></li>
        
          <li><a href="./OpenSSL/X509/ExtensionError.html">OpenSSL::X509::ExtensionError</a></li>
        
          <li><a href="./OpenSSL/X509/ExtensionFactory.html">OpenSSL::X509::ExtensionFactory</a></li>
        
          <li><a href="./OpenSSL/X509/Name.html">OpenSSL::X509::Name</a></li>
        
          <li><a href="./OpenSSL/X509/Name/RFC2253DN.html">OpenSSL::X509::Name::RFC2253DN</a></li>
        
          <li><a href="./OpenSSL/X509/NameError.html">OpenSSL::X509::NameError</a></li>
        
          <li><a href="./OpenSSL/X509/Request.html">OpenSSL::X509::Request</a></li>
        
          <li><a href="./OpenSSL/X509/RequestError.html">OpenSSL::X509::RequestError</a></li>
        
          <li><a href="./OpenSSL/X509/Revoked.html">OpenSSL::X509::Revoked</a></li>
        
          <li><a href="./OpenSSL/X509/RevokedError.html">OpenSSL::X509::RevokedError</a></li>
        
          <li><a href="./OpenSSL/X509/Store.html">OpenSSL::X509::Store</a></li>
        
          <li><a href="./OpenSSL/X509/StoreContext.html">OpenSSL::X509::StoreContext</a></li>
        
          <li><a href="./OpenSSL/X509/StoreError.html">OpenSSL::X509::StoreError</a></li>
        
          <li><a href="./Psych.html">Psych</a></li>
        
          <li><a href="./Psych/Coder.html">Psych::Coder</a></li>
        
          <li><a href="./Psych/Emitter.html">Psych::Emitter</a></li>
        
          <li><a href="./Psych/Exception.html">Psych::Exception</a></li>
        
          <li><a href="./Psych/Handler.html">Psych::Handler</a></li>
        
          <li><a href="./Psych/JSON.html">Psych::JSON</a></li>
        
          <li><a href="./Psych/JSON/Stream.html">Psych::JSON::Stream</a></li>
        
          <li><a href="./Psych/JSON/TreeBuilder.html">Psych::JSON::TreeBuilder</a></li>
        
          <li><a href="./Psych/Nodes.html">Psych::Nodes</a></li>
        
          <li><a href="./Psych/Nodes/Alias.html">Psych::Nodes::Alias</a></li>
        
          <li><a href="./Psych/Nodes/Document.html">Psych::Nodes::Document</a></li>
        
          <li><a href="./Psych/Nodes/Mapping.html">Psych::Nodes::Mapping</a></li>
        
          <li><a href="./Psych/Nodes/Node.html">Psych::Nodes::Node</a></li>
        
          <li><a href="./Psych/Nodes/Scalar.html">Psych::Nodes::Scalar</a></li>
        
          <li><a href="./Psych/Nodes/Sequence.html">Psych::Nodes::Sequence</a></li>
        
          <li><a href="./Psych/Nodes/Stream.html">Psych::Nodes::Stream</a></li>
        
          <li><a href="./Psych/Omap.html">Psych::Omap</a></li>
        
          <li><a href="./Psych/Parser.html">Psych::Parser</a></li>
        
          <li><a href="./Psych/Parser/Mark.html">Psych::Parser::Mark</a></li>
        
          <li><a href="./Psych/ScalarScanner.html">Psych::ScalarScanner</a></li>
        
          <li><a href="./Psych/Set.html">Psych::Set</a></li>
        
          <li><a href="./Psych/Stream.html">Psych::Stream</a></li>
        
          <li><a href="./Psych/Streaming.html">Psych::Streaming</a></li>
        
          <li><a href="./Psych/SyntaxError.html">Psych::SyntaxError</a></li>
        
          <li><a href="./Psych/TreeBuilder.html">Psych::TreeBuilder</a></li>
        
          <li><a href="./Psych/Visitors.html">Psych::Visitors</a></li>
        
          <li><a href="./Psych/Visitors/DepthFirst.html">Psych::Visitors::DepthFirst</a></li>
        
          <li><a href="./Psych/Visitors/Emitter.html">Psych::Visitors::Emitter</a></li>
        
          <li><a href="./Psych/Visitors/JSONTree.html">Psych::Visitors::JSONTree</a></li>
        
          <li><a href="./Psych/Visitors/ToRuby.html">Psych::Visitors::ToRuby</a></li>
        
          <li><a href="./Psych/Visitors/Visitor.html">Psych::Visitors::Visitor</a></li>
        
          <li><a href="./Psych/Visitors/YAMLTree.html">Psych::Visitors::YAMLTree</a></li>
        
          <li><a href="./DL.html">DL</a></li>
        
          <li><a href="./DL/BasicTypes.html">DL::BasicTypes</a></li>
        
          <li><a href="./DL/CFunc.html">DL::CFunc</a></li>
        
          <li><a href="./DL/CParser.html">DL::CParser</a></li>
        
          <li><a href="./DL/CPtr.html">DL::CPtr</a></li>
        
          <li><a href="./DL/CStruct.html">DL::CStruct</a></li>
        
          <li><a href="./DL/CStructBuilder.html">DL::CStructBuilder</a></li>
        
          <li><a href="./DL/CStructEntity.html">DL::CStructEntity</a></li>
        
          <li><a href="./DL/CUnion.html">DL::CUnion</a></li>
        
          <li><a href="./DL/CUnionEntity.html">DL::CUnionEntity</a></li>
        
          <li><a href="./DL/CarriedFunction.html">DL::CarriedFunction</a></li>
        
          <li><a href="./DL/CompositeHandler.html">DL::CompositeHandler</a></li>
        
          <li><a href="./DL/DLError.html">DL::DLError</a></li>
        
          <li><a href="./DL/DLTypeError.html">DL::DLTypeError</a></li>
        
          <li><a href="./DL/Function.html">DL::Function</a></li>
        
          <li><a href="./DL/Handle.html">DL::Handle</a></li>
        
          <li><a href="./DL/Importer.html">DL::Importer</a></li>
        
          <li><a href="./DL/PackInfo.html">DL::PackInfo</a></li>
        
          <li><a href="./DL/Packer.html">DL::Packer</a></li>
        
          <li><a href="./DL/Stack.html">DL::Stack</a></li>
        
          <li><a href="./DL/TempFunction.html">DL::TempFunction</a></li>
        
          <li><a href="./DL/ValueUtil.html">DL::ValueUtil</a></li>
        
          <li><a href="./DL/Win32Types.html">DL::Win32Types</a></li>
        
          <li><a href="./Zlib.html">Zlib</a></li>
        
          <li><a href="./Zlib/BufError.html">Zlib::BufError</a></li>
        
          <li><a href="./Zlib/DataError.html">Zlib::DataError</a></li>
        
          <li><a href="./Zlib/Deflate.html">Zlib::Deflate</a></li>
        
          <li><a href="./Zlib/Error.html">Zlib::Error</a></li>
        
          <li><a href="./Zlib/GzipFile.html">Zlib::GzipFile</a></li>
        
          <li><a href="./Zlib/GzipFile/CRCError.html">Zlib::GzipFile::CRCError</a></li>
        
          <li><a href="./Zlib/GzipFile/Error.html">Zlib::GzipFile::Error</a></li>
        
          <li><a href="./Zlib/GzipFile/LengthError.html">Zlib::GzipFile::LengthError</a></li>
        
          <li><a href="./Zlib/GzipFile/NoFooter.html">Zlib::GzipFile::NoFooter</a></li>
        
          <li><a href="./Zlib/GzipReader.html">Zlib::GzipReader</a></li>
        
          <li><a href="./Zlib/GzipWriter.html">Zlib::GzipWriter</a></li>
        
          <li><a href="./Zlib/Inflate.html">Zlib::Inflate</a></li>
        
          <li><a href="./Zlib/MemError.html">Zlib::MemError</a></li>
        
          <li><a href="./Zlib/NeedDict.html">Zlib::NeedDict</a></li>
        
          <li><a href="./Zlib/StreamEnd.html">Zlib::StreamEnd</a></li>
        
          <li><a href="./Zlib/StreamError.html">Zlib::StreamError</a></li>
        
          <li><a href="./Zlib/VersionError.html">Zlib::VersionError</a></li>
        
          <li><a href="./Zlib/ZStream.html">Zlib::ZStream</a></li>
        
          <li><a href="./Win32.html">Win32</a></li>
        
          <li><a href="./Win32/Registry.html">Win32::Registry</a></li>
        
          <li><a href="./Win32/Registry/API.html">Win32::Registry::API</a></li>
        
          <li><a href="./Win32/Registry/Constants.html">Win32::Registry::Constants</a></li>
        
          <li><a href="./Win32/Registry/Error.html">Win32::Registry::Error</a></li>
        
          <li><a href="./Win32/Registry/Error/Kernel32.html">Win32::Registry::Error::Kernel32</a></li>
        
          <li><a href="./Win32/Registry/PredefinedKey.html">Win32::Registry::PredefinedKey</a></li>
        
          <li><a href="./Win32/Resolv.html">Win32::Resolv</a></li>
        
          <li><a href="./Win32/Resolv/Kernel32.html">Win32::Resolv::Kernel32</a></li>
        
          <li><a href="./Win32/SSPI.html">Win32::SSPI</a></li>
        
          <li><a href="./Win32/SSPI/API.html">Win32::SSPI::API</a></li>
        
          <li><a href="./Win32/SSPI/Identity.html">Win32::SSPI::Identity</a></li>
        
          <li><a href="./Win32/SSPI/NegotiateAuth.html">Win32::SSPI::NegotiateAuth</a></li>
        
          <li><a href="./Win32/SSPI/SSPIResult.html">Win32::SSPI::SSPIResult</a></li>
        
          <li><a href="./Win32/SSPI/SecurityBuffer.html">Win32::SSPI::SecurityBuffer</a></li>
        
          <li><a href="./Win32/SSPI/SecurityHandle.html">Win32::SSPI::SecurityHandle</a></li>
        
          <li><a href="./Win32/SSPI/TimeStamp.html">Win32::SSPI::TimeStamp</a></li>
        
          <li><a href="./JSON.html">JSON</a></li>
        
          <li><a href="./JSON/Ext.html">JSON::Ext</a></li>
        
          <li><a href="./JSON/GeneratorError.html">JSON::GeneratorError</a></li>
        
          <li><a href="./JSON/JSONError.html">JSON::JSONError</a></li>
        
          <li><a href="./JSON/MissingUnicodeSupport.html">JSON::MissingUnicodeSupport</a></li>
        
          <li><a href="./JSON/NestingError.html">JSON::NestingError</a></li>
        
          <li><a href="./JSON/ParserError.html">JSON::ParserError</a></li>
        
          <li><a href="./JSON/GeneratorError.html">JSON::UnparserError</a></li>
        
          <li><a href="./Iconv.html">Iconv</a></li>
        
          <li><a href="./Iconv/BrokenLibrary.html">Iconv::BrokenLibrary</a></li>
        
          <li><a href="./Iconv/Failure.html">Iconv::Failure</a></li>
        
          <li><a href="./Iconv/IllegalSequence.html">Iconv::IllegalSequence</a></li>
        
          <li><a href="./Iconv/InvalidCharacter.html">Iconv::InvalidCharacter</a></li>
        
          <li><a href="./Iconv/InvalidEncoding.html">Iconv::InvalidEncoding</a></li>
        
          <li><a href="./Iconv/OutOfRange.html">Iconv::OutOfRange</a></li>
        
          <li><a href="./Ripper.html">Ripper</a></li>
        
          <li><a href="./Ripper/Filter.html">Ripper::Filter</a></li>
        
          <li><a href="./Ripper/TokenPattern.html">Ripper::TokenPattern</a></li>
        
          <li><a href="./Ripper/TokenPattern/CompileError.html">Ripper::TokenPattern::CompileError</a></li>
        
          <li><a href="./Ripper/TokenPattern/Error.html">Ripper::TokenPattern::Error</a></li>
        
          <li><a href="./Ripper/TokenPattern/MatchData.html">Ripper::TokenPattern::MatchData</a></li>
        
          <li><a href="./Ripper/TokenPattern/MatchError.html">Ripper::TokenPattern::MatchError</a></li>
        
          <li><a href="./Digest.html">Digest</a></li>
        
          <li><a href="./Digest/Base.html">Digest::Base</a></li>
        
          <li><a href="./Digest/Class.html">Digest::Class</a></li>
        
          <li><a href="./Digest/HMAC.html">Digest::HMAC</a></li>
        
          <li><a href="./Digest/Instance.html">Digest::Instance</a></li>
        
          <li><a href="./Fiddle.html">Fiddle</a></li>
        
          <li><a href="./Fiddle/Closure.html">Fiddle::Closure</a></li>
        
          <li><a href="./Fiddle/Closure/BlockCaller.html">Fiddle::Closure::BlockCaller</a></li>
        
          <li><a href="./Fiddle/Function.html">Fiddle::Function</a></li>
        
          <li><a href="./DL/CPtr.html">Fiddle::Pointer</a></li>
        
          <li><a href="./Socket.html">Socket</a></li>
        
          <li><a href="./Socket/AncillaryData.html">Socket::AncillaryData</a></li>
        
          <li><a href="./Socket/Constants.html">Socket::Constants</a></li>
        
          <li><a href="./Socket/Option.html">Socket::Option</a></li>
        
          <li><a href="./Socket/UDPSource.html">Socket::UDPSource</a></li>
        
          <li><a href="./Curses.html">Curses</a></li>
        
          <li><a href="./Curses/Key.html">Curses::Key</a></li>
        
          <li><a href="./Curses/MouseEvent.html">Curses::MouseEvent</a></li>
        
          <li><a href="./Curses/Window.html">Curses::Window</a></li>
        
          <li><a href="./PTY.html">PTY</a></li>
        
          <li><a href="./PTY/ChildExited.html">PTY::ChildExited</a></li>
        
          <li><a href="./StringScanner.html">StringScanner</a></li>
        
          <li><a href="./StringScanner/Error.html">StringScanner::Error</a></li>
        
          <li><a href="./Syslog.html">Syslog</a></li>
        
          <li><a href="./Syslog/Constants.html">Syslog::Constants</a></li>
        
          <li><a href="./WIN32OLE.html">WIN32OLE</a></li>
        
          <li><a href="./WIN32OLE/VARIANT.html">WIN32OLE::VARIANT</a></li>
        
          <li><a href="./Addrinfo.html">Addrinfo</a></li>
        
          <li><a href="./BasicSocket.html">BasicSocket</a></li>
        
          <li><a href="./BigDecimal.html">BigDecimal</a></li>
        
          <li><a href="./BigMath.html">BigMath</a></li>
        
          <li><a href="./Class.html">Class</a></li>
        
          <li><a href="./Coverage.html">Coverage</a></li>
        
          <li><a href="./DBM.html">DBM</a></li>
        
          <li><a href="./DBMError.html">DBMError</a></li>
        
          <li><a href="./Date.html">Date</a></li>
        
          <li><a href="./DateTime.html">DateTime</a></li>
        
          <li><a href="./Etc.html">Etc</a></li>
        
          <li><a href="./Exception.html">Exception</a></li>
        
          <li><a href="./Fcntl.html">Fcntl</a></li>
        
          <li><a href="./Float.html">Float</a></li>
        
          <li><a href="./GDBM.html">GDBM</a></li>
        
          <li><a href="./GDBMError.html">GDBMError</a></li>
        
          <li><a href="./GDBMFatalError.html">GDBMFatalError</a></li>
        
          <li><a href="./IO.html">IO</a></li>
        
          <li><a href="./IPSocket.html">IPSocket</a></li>
        
          <li><a href="./Integer.html">Integer</a></li>
        
          <li><a href="./Jacobian.html">Jacobian</a></li>
        
          <li><a href="./Kconv.html">Kconv</a></li>
        
          <li><a href="./Kernel.html">Kernel</a></li>
        
          <li><a href="./LUSolve.html">LUSolve</a></li>
        
          <li><a href="./Module.html">Module</a></li>
        
          <li><a href="./NKF.html">NKF</a></li>
        
          <li><a href="./Newton.html">Newton</a></li>
        
          <li><a href="./OLEProperty.html">OLEProperty</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
          <li><a href="./Pathname.html">Pathname</a></li>
        
          <li><a href="./Range.html">Range</a></li>
        
          <li><a href="./Rational.html">Rational</a></li>
        
          <li><a href="./Readline.html">Readline</a></li>
        
          <li><a href="./Regexp.html">Regexp</a></li>
        
          <li><a href="./SDBM.html">SDBM</a></li>
        
          <li><a href="./SDBMError.html">SDBMError</a></li>
        
          <li><a href="./SOCKSSocket.html">SOCKSSocket</a></li>
        
          <li><a href="./SocketError.html">SocketError</a></li>
        
          <li><a href="./String.html">String</a></li>
        
          <li><a href="./StringIO.html">StringIO</a></li>
        
          <li><a href="./Struct.html">Struct</a></li>
        
          <li><a href="./Symbol.html">Symbol</a></li>
        
          <li><a href="./TCPServer.html">TCPServer</a></li>
        
          <li><a href="./TCPSocket.html">TCPSocket</a></li>
        
          <li><a href="./Thread.html">Thread</a></li>
        
          <li><a href="./Time.html">Time</a></li>
        
          <li><a href="./UDPSocket.html">UDPSocket</a></li>
        
          <li><a href="./UNIXServer.html">UNIXServer</a></li>
        
          <li><a href="./UNIXSocket.html">UNIXSocket</a></li>
        
          <li><a href="./WIN32OLERuntimeError.html">WIN32OLERuntimeError</a></li>
        
          <li><a href="./WIN32OLE_EVENT.html">WIN32OLE_EVENT</a></li>
        
          <li><a href="./WIN32OLE_METHOD.html">WIN32OLE_METHOD</a></li>
        
          <li><a href="./WIN32OLE_PARAM.html">WIN32OLE_PARAM</a></li>
        
          <li><a href="./WIN32OLE_TYPE.html">WIN32OLE_TYPE</a></li>
        
          <li><a href="./WIN32OLE_TYPELIB.html">WIN32OLE_TYPELIB</a></li>
        
          <li><a href="./WIN32OLE_VARIABLE.html">WIN32OLE_VARIABLE</a></li>
        
          <li><a href="./WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a></li>
        
          <li><a href="./Win32API.html">Win32API</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">OpenSSL</h1>

    <div id="description" class="description">
      
<h1>$RCSfile$ -- Ruby-space definitions that completes C-space funcs for <a href="OpenSSL/BN.html">BN</a></h1>

<h1>Info</h1>

<pre>'OpenSSL for Ruby 2' project
Copyright (C) 2002  Michal Rokos &lt;m.rokos@sh.cvut.cz&gt;
All rights reserved.</pre>

<h1>Licence</h1>

<pre>This program is licenced under the same licence as Ruby.
(See the file 'LICENCE'.)</pre>

<h1>Version</h1>

<pre>$Id: bn.rb 31148 2011-03-22 04:39:04Z nahi $</pre>
<hr style="height: 1px">

<h1>$RCSfile$ -- Ruby-space predefined <a href="OpenSSL/Cipher.html">Cipher</a> subclasses</h1>

<h1>Info</h1>

<pre>'OpenSSL for Ruby 2' project
Copyright (C) 2002  Michal Rokos &lt;m.rokos@sh.cvut.cz&gt;
All rights reserved.</pre>

<h1>Licence</h1>

<pre>This program is licenced under the same licence as Ruby.
(See the file 'LICENCE'.)</pre>

<h1>Version</h1>

<pre>$Id: cipher.rb 32176 2011-06-20 09:48:05Z nahi $</pre>
<hr style="height: 1px">

<h1>$RCSfile$ -- Ruby-space predefined <a href="OpenSSL/Digest.html">Digest</a> subclasses</h1>

<h1>Info</h1>

<pre>'OpenSSL for Ruby 2' project
Copyright (C) 2002  Michal Rokos &lt;m.rokos@sh.cvut.cz&gt;
All rights reserved.</pre>

<h1>Licence</h1>

<pre>This program is licenced under the same licence as Ruby.
(See the file 'LICENCE'.)</pre>

<h1>Version</h1>

<pre>$Id: digest.rb 31148 2011-03-22 04:39:04Z nahi $</pre>
<hr style="height: 1px">

<h1>$RCSfile$ -- Ruby-space definitions that completes C-space funcs for <a href="OpenSSL/X509.html">X509</a> and subclasses</h1>

<h1>Info</h1>

<pre>'OpenSSL for Ruby 2' project
Copyright (C) 2002  Michal Rokos &lt;m.rokos@sh.cvut.cz&gt;
All rights reserved.</pre>

<h1>Licence</h1>

<pre>This program is licenced under the same licence as Ruby.
(See the file 'LICENCE'.)</pre>

<h1>Version</h1>

<pre>$Id: x509-internal.rb 32663 2011-07-25 04:51:26Z nahi $</pre>
<hr style="height: 1px">

<p><a href="OpenSSL.html">OpenSSL</a> provides <a
href="OpenSSL/SSL.html">SSL</a>, TLS and general purpose cryptography.  It
wraps the <a href="http://www.openssl.org/">OpenSSL</a> library.</p>

<h1>Examples</h1>

<p>All examples assume you have loaded <a href="OpenSSL.html">OpenSSL</a>
with:</p>

<pre>require 'openssl'</pre>

<p>These examples build atop each other.  For example the key created in the
next is used in throughout these examples.</p>

<h2>Keys</h2>

<h3>Creating a Key</h3>

<p>This example creates a 2048 bit RSA keypair and writes it to the current
directory.</p>

<pre>key = OpenSSL::PKey::RSA.new 2048

open 'private_key.pem', 'w' do |io| io.write key.to_pem end
open 'public_key.pem', 'w' do |io| io.write key.public_key.to_pem end</pre>

<h3>Exporting a Key</h3>

<p>Keys saved to disk without encryption are not secure as anyone who gets
ahold of the key may use it unless it is encrypted.  In order to securely
export a key you may export it with a pass phrase.</p>

<pre>cipher = OpenSSL::Cipher::Cipher.new 'AES-128-CBC'
pass_phrase = 'my secure pass phrase goes here'

key_secure = key.export cipher, pass_phrase

open 'private.secure.pem', 'w' do |io|
  io.write key_secure
end</pre>

<p><a href="OpenSSL/Cipher.html#method-c-ciphers">OpenSSL::Cipher.ciphers</a>
returns a list of available ciphers.</p>

<h3>Loading a Key</h3>

<p>A key can also be loaded from a file.</p>

<pre>key2 = OpenSSL::PKey::RSA.new File.read 'private_key.pem'
key2.public? # =&gt; true</pre>

<p>or</p>

<pre>key3 = OpenSSL::PKey::RSA.new File.read 'public_key.pem'
key3.private? # =&gt; false</pre>

<h3>Loading an Encrypted Key</h3>

<p><a href="OpenSSL.html">OpenSSL</a> will prompt you for your pass phrase
when loading an encrypted key. If you will not be able to type in the pass
phrase you may provide it when loading the key:</p>

<pre>key4_pem = File.read 'private.secure.pem'
key4 = OpenSSL::PKey::RSA.new key4_pem, pass_phrase</pre>

<h2>RSA Encryption</h2>

<p>RSA provides ecryption and decryption using the public and private keys.
You can use a variety of padding methods depending upon the intended use of
encrypted data.</p>

<h3>Encryption</h3>

<p>Documents encrypted with the public key can only be decrypted with the
private key.</p>

<pre>public_encrypted = key.public_encrypt 'top secret document'</pre>

<p>Documents encrypted with the private key can only be decrypted with the
public key.</p>

<pre>private_encrypted = key.private_encrypt 'public release document'</pre>

<h3>Decryption</h3>

<p>Use the opposite key type do decrypt the document</p>

<pre>top_secret = key.public_decrypt public_encrypted

public_release = key.private_decrypt private_encrypted</pre>

<h2>PKCS #5 Password-based Encryption</h2>

<p>PKCS #5 is a password-based encryption standard documented at <a
href="http://www.ietf.org/rfc/rfc2898.txt">RFC2898</a>.  It allows a short
password or passphrase to be used to create a secure encryption key.</p>

<p>PKCS #5 uses a <a href="OpenSSL/Cipher.html">Cipher</a>, a pass phrase and
a salt to generate an encryption key.</p>

<pre>pass_phrase = 'my secure pass phrase goes here'
salt = '8 octets'</pre>

<h3>Encryption</h3>

<p>First set up the cipher for encryption</p>

<pre>encrypter = OpenSSL::Cipher::Cipher.new 'AES-128-CBC'
encrypter.encrypt
encrypter.pkcs5_keyivgen pass_phrase, salt</pre>

<p>Then pass the data you want to encrypt through</p>

<pre>encrypted = encrypter.update 'top secret document'
encrypted &lt;&lt; encrypter.final</pre>

<h3>Decryption</h3>

<p>Use a new <a href="OpenSSL/Cipher.html">Cipher</a> instance set up for
decryption</p>

<pre>decrypter = OpenSSL::Cipher::Cipher.new 'AES-128-CBC'
decrypter.decrypt
decrypter.pkcs5_keyivgen pass_phrase, salt</pre>

<p>Then pass the data you want to decrypt through</p>

<pre>plain = decrypter.update encrypted
plain &lt;&lt; decrypter.final</pre>

<h2><a href="OpenSSL/X509.html">X509</a> Certificates</h2>

<h3>Creating a Certificate</h3>

<p>This example creates a self-signed certificate using an RSA key and a SHA1
signature.</p>

<pre>name = OpenSSL::X509::Name.parse 'CN=nobody/DC=example'

cert = OpenSSL::X509::Certificate.new
cert.version = 2
cert.serial = 0
cert.not_before = Time.now
cert.not_after = Time.now + 3600

cert.public_key = key.public_key
cert.subject = name</pre>

<h3>Certificate Extensions</h3>

<p>You can add extensions to the certificate with
OpenSSL::SSL::ExtensionFactory to indicate the purpose of the certificate.</p>

<pre>extension_factory = OpenSSL::X509::ExtensionFactory.new nil, cert

extension_factory.create_extension 'basicConstraints', 'CA:FALSE'
extension_factory.create_extension 'keyUsage',
  'keyEncipherment,dataEncipherment,digitalSignature'
extension_factory.create_extension 'subjectKeyIdentifier', 'hash'</pre>

<h3>Signing a Certificate</h3>

<p>To sign a certificate set the issuer and use <a
href="OpenSSL/X509/Certificate.html#method-i-sign">OpenSSL::X509::Certificate#sign</a>
with a digest algorithm.  This creates a self-signed cert because we're
using the same name and key to sign the certificate as was used to create
the certificate.</p>

<pre>cert.issuer = name
cert.sign key, OpenSSL::Digest::SHA1.new

open 'certificate.pem', 'w' do |io| io.write cert.to_pem end</pre>

<h3>Loading a Certificate</h3>

<p>Like a key, a cert can also be loaded from a file.</p>

<pre>cert2 = OpenSSL::X509::Certificate.new File.read 'certificate.pem'</pre>

<h3>Verifying a Certificate</h3>

<p>Certificate#verify will return true when a certificate was signed with the
given public key.</p>

<pre>raise 'certificate can not be verified' unless cert2.verify key</pre>

<h2>Certificate Authority</h2>

<p>A certificate authority (CA) is a trusted third party that allows you to
verify the ownership of unknown certificates.  The CA issues key signatures
that indicate it trusts the user of that key.  A user encountering the key
can verify the signature by using the CA's public key.</p>

<h3>CA Key</h3>

<p>CA keys are valuable, so we encrypt and save it to disk and make sure it is
not readable by other users.</p>

<pre>ca_key = OpenSSL::PKey::RSA.new 2048

cipher = OpenSSL::Cipher::Cipher.new 'AES-128-CBC'

open 'ca_key.pem', 'w', 0400 do |io|
  io.write key.export(cipher, pass_phrase)
end</pre>

<h3>CA Certificate</h3>

<p>A CA certificate is created the same way we created a certificate above,
but with different extensions.</p>

<pre>ca_name = OpenSSL::X509::Name.parse 'CN=ca/DC=example'

ca_cert = OpenSSL::X509::Certificate.new
ca_cert.serial = 0
ca_cert.version = 2
ca_cert.not_before = Time.now
ca_cert.not_after = Time.now + 86400

ca_cert.public_key = ca_key.public_key
ca_cert.subject = ca_name
ca_cert.issuer = ca_name

extension_factory = OpenSSL::X509::ExtensionFactory.new
extension_factory.subject_certificate = ca_cert
extension_factory.issuer_certificate = ca_cert

extension_factory.create_extension 'subjectKeyIdentifier', 'hash'</pre>

<p>This extension indicates the CA's key may be used as a CA.</p>

<pre>extension_factory.create_extension 'basicConstraints', 'CA:TRUE', true</pre>

<p>This extension indicates the CA's key may be used to verify signatures on
both certificates and certificate revocations.</p>

<pre>extension_factory.create_extension 'keyUsage', 'cRLSign,keyCertSign', true</pre>

<p>Root CA certificates are self-signed.</p>

<pre>ca_cert.sign ca_key, OpenSSL::Digest::SHA1.new</pre>

<p>The CA certificate is saved to disk so it may be distributed to all the
users of the keys this CA will sign.</p>

<pre>open 'ca_cert.pem', 'w' do |io|
  io.write ca_cert.to_pem
end</pre>

<h3>Certificate Signing Request</h3>

<p>The CA signs keys through a Certificate Signing Request (CSR).  The CSR
contains the information necessary to identify the key.</p>

<pre>csr = OpenSSL::X509::Request.new
csr.version = 0
csr.subject = name
csr.public_key = key.public_key
csr.sign key, OpenSSL::Digest::SHA1.new</pre>

<p>A CSR is saved to disk and sent to the CA for signing.</p>

<pre>open 'csr.pem', 'w' do |io|
  io.write csr.to_pem
end</pre>

<h3>Creating a Certificate from a CSR</h3>

<p>Upon receiving a CSR the CA will verify it before signing it.  A minimal
verification would be to check the CSR's signature.</p>

<pre>csr = OpenSSL::X509::Request.new File.read 'csr.pem'

raise 'CSR can not be verified' unless csr.verify csr.public_key</pre>

<p>After verification a certificate is created, marked for various usages,
signed with the CA key and returned to the requester.</p>

<pre>csr_cert = OpenSSL::X509::Certificate.new
csr_cert.serial = 0
csr_cert.version = 2
csr_cert.not_before = Time.now
csr_cert.not_after = Time.now + 600

csr_cert.subject = csr.subject
csr_cert.public_key = csr.public_key
csr_cert.issuer = ca_cert.subject

extension_factory = OpenSSL::X509::ExtensionFactory.new
extension_factory.subject_certificate = csr_cert
extension_factory.issuer_certificate = ca_cert

extension_factory.create_extension 'basicConstraints', 'CA:FALSE'
extension_factory.create_extension 'keyUsage',
  'keyEncipherment,dataEncipherment,digitalSignature'
extension_factory.create_extension 'subjectKeyIdentifier', 'hash'

csr_cert.sign ca_key, OpenSSL::Digest::SHA1.new

open 'csr_cert.pem', 'w' do |io|
  io.write csr_cert.to_pem
end</pre>

<h2><a href="OpenSSL/SSL.html">SSL</a> and TLS Connections</h2>

<p>Using our created key and certificate we can create an <a
href="OpenSSL/SSL.html">SSL</a> or TLS connection. An SSLContext is used to
set up an <a href="OpenSSL/SSL.html">SSL</a> session.</p>

<pre>context = OpenSSL::SSL::SSLContext.new</pre>

<h3><a href="OpenSSL/SSL.html">SSL</a> Server</h3>

<p>An <a href="OpenSSL/SSL.html">SSL</a> server requires the certificate and
private key to communicate securely with its clients:</p>

<pre>context.cert = cert
context.key = key</pre>

<p>Then create an SSLServer with a TCP server socket and the context.  Use the
SSLServer like an ordinary TCP server.</p>

<pre>require 'socket'

tcp_server = TCPServer.new 5000
ssl_server = OpenSSL::SSL::SSLServer.new tcp_server, context

loop do
  ssl_connection = ssl_server.accept

  data = connection.gets

  response = &quot;I got #{data.dump}&quot;
  puts response

  connection.puts &quot;I got #{data.dump}&quot;
  connection.close
end</pre>

<h3><a href="OpenSSL/SSL.html">SSL</a> client</h3>

<p>An <a href="OpenSSL/SSL.html">SSL</a> client is created with a TCP socket
and the context. SSLSocket#connect must be called to initiate the <a
href="OpenSSL/SSL.html">SSL</a> handshake and start encryption.  A key and
certificate are not required for the client socket.</p>

<pre>require 'socket'

tcp_client = TCPSocket.new 'localhost', 5000
ssl_client = OpenSSL::SSL::SSLSocket.new client_socket, context
ssl_client.connect

ssl_client.puts &quot;hello server!&quot;
puts ssl_client.gets</pre>

<h3>Peer Verification</h3>

<p>An unverified <a href="OpenSSL/SSL.html">SSL</a> connection does not
provide much security.  For enhanced security the client or server can
verify the certificate of its peer.</p>

<p>The client can be modified to verify the server's certificate against the
certificate authority's certificate:</p>

<pre>context.ca_file = 'ca_cert.pem'
context.verify_mode = OpenSSL::SSL::VERIFY_PEER

require 'socket'

tcp_client = TCPSocket.new 'localhost', 5000
ssl_client = OpenSSL::SSL::SSLSocket.new client_socket, context
ssl_client.connect

ssl_client.puts &quot;hello server!&quot;
puts ssl_client.gets</pre>

<p>If the server certificate is invalid or <tt>context.ca_file</tt> is not set
when verifying peers an <a
href="OpenSSL/SSL/SSLError.html">OpenSSL::SSL::SSLError</a> will be raised.</p>

    </div><!-- description -->

    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="OPENSSL_VERSION">OPENSSL_VERSION</a></dt>
          
          <dd class="description"><p>Version of <a href="OpenSSL.html">OpenSSL</a> the ruby <a
href="OpenSSL.html">OpenSSL</a> extension was built with</p></dd>
          
        
          <dt><a name="OPENSSL_VERSION_NUMBER">OPENSSL_VERSION_NUMBER</a></dt>
          
          <dd class="description"><p>Version number of <a href="OpenSSL.html">OpenSSL</a> the ruby <a
href="OpenSSL.html">OpenSSL</a> extension was built with (base 16)</p></dd>
          
        
          <dt><a name="VERSION">VERSION</a></dt>
          
          <dd class="description"><p><a href="OpenSSL.html">OpenSSL</a> ruby extension version</p></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="debug-method" class="method-detail ">
          <a name="method-c-debug"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">debug &rarr; true | false</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="debug-source">
<pre>
static VALUE
ossl_debug_get(VALUE self)
{
    return dOSSL;
}</pre>
            </div><!-- debug-source -->
            
          </div>

          

          
        </div><!-- debug-method -->

      
        <div id="debug-3D-method" class="method-detail ">
          <a name="method-c-debug-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">debug = boolean &rarr; boolean</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Turns on or off CRYPTO_MEM_CHECK. Also shows some debugging message on
stderr.</p>
            

            
            <div class="method-source-code" id="debug-3D-source">
<pre>
static VALUE
ossl_debug_set(VALUE self, VALUE val)
{
    VALUE old = dOSSL;
    dOSSL = val;

    if (old != dOSSL) {
        if (dOSSL == Qtrue) {
            CRYPTO_mem_ctrl(CRYPTO_MEM_CHECK_ON);
            fprintf(stderr, &quot;OSSL_DEBUG: IS NOW ON!\n&quot;);
        } else if (old == Qtrue) {
            CRYPTO_mem_ctrl(CRYPTO_MEM_CHECK_OFF);
            fprintf(stderr, &quot;OSSL_DEBUG: IS NOW OFF!\n&quot;);
        }
    }
    return val;
}</pre>
            </div><!-- debug-3D-source -->
            
          </div>

          

          
        </div><!-- debug-3D-method -->

      
        <div id="errors-method" class="method-detail ">
          <a name="method-c-errors"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">errors &rarr; [String...]</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>See any remaining errors held in queue.</p>

<p>Any errors you see here are probably due to a bug in rubys <a
href="OpenSSL.html">OpenSSL</a> implementation.</p>
            

            
            <div class="method-source-code" id="errors-source">
<pre>
VALUE
ossl_get_errors()
{
    VALUE ary;
    long e;

    ary = rb_ary_new();
    while ((e = ERR_get_error()) != 0){
        rb_ary_push(ary, rb_str_new2(ERR_error_string(e, NULL)));
    }

    return ary;
}</pre>
            </div><!-- errors-source -->
            
          </div>

          

          
        </div><!-- errors-method -->

      
      </div><!-- public-class-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

