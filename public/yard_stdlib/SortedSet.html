<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: SortedSet
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo; 
    
    
    <span class="title">SortedSet</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: SortedSet
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></li>
          
            <li class="next">SortedSet</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/set.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>SortedSet implements a Set that guarantees that it's element are yielded in
sorted order (according to the return values of their #&lt;=&gt; methods)
when iterating over them.</p>

<p>All elements that are added to a SortedSet must respond to the &lt;=&gt;
method for comparison.</p>

<p>Also, all elements must be <em>mutually comparable</em>: <tt>el1 &lt;=&gt;
el2</tt> must not return <tt>nil</tt> for any elements <tt>el1</tt> and
<tt>el2</tt>, else an ArgumentError will be raised when iterating over the
SortedSet.</p>

<h2>Example</h2>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set</span><span class='tstring_end'>&quot;</span></span>

<span class='id set'>set</span> <span class='op'>=</span> <span class='const'>SortedSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

<span class='id set'>set</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id obj'>obj</span><span class='op'>|</span>
  <span class='id ary'>ary</span> <span class='op'>&lt;&lt;</span> <span class='id obj'>obj</span>
<span class='kw'>end</span>

<span class='id p'>p</span> <span class='id ary'>ary</span> <span class='comment'># =&gt; [1, 2, 3, 4, 5, 6]
</span>
<span class='id set2'>set2</span> <span class='op'>=</span> <span class='const'>SortedSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id set2'>set2</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id obj'>obj</span><span class='op'>|</span> <span class='rbrace'>}</span> <span class='comment'># =&gt; raises ArgumentError: comparison of Fixnum with String failed</span></pre>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="setup-classvariable" class="">@@setup =
          
        </dt>
        <dd><pre class="code"><span class='kw'>false</span></pre></dd>
      
    </dl>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Set.html#InspectKey-constant" title="Set::InspectKey (constant)">InspectKey</a></span></p>

  
  
  
  


  
  
  
  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-class_method" title="[] (class method)">+ (Object) <strong>[]</strong>(*ary) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup-class_method" title="setup (class method)">+ (Object) <strong>setup</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (SortedSet) <strong>initialize</strong>(*args, &amp;block) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Set.html#%26-instance_method" title="Set#& (method)">#&</a></span>, <span class='object_link'><a href="Set.html#--instance_method" title="Set#- (method)">#-</a></span>, <span class='object_link'><a href="Set.html#%3D%3D-instance_method" title="Set#== (method)">#==</a></span>, <span class='object_link'><a href="Set.html#%5E-instance_method" title="Set#^ (method)">#^</a></span>, <span class='object_link'><a href="Set.html#add-instance_method" title="Set#add (method)">#add</a></span>, <span class='object_link'><a href="Set.html#add%3F-instance_method" title="Set#add? (method)">#add?</a></span>, <span class='object_link'><a href="Set.html#classify-instance_method" title="Set#classify (method)">#classify</a></span>, <span class='object_link'><a href="Set.html#clear-instance_method" title="Set#clear (method)">#clear</a></span>, <span class='object_link'><a href="Set.html#collect%21-instance_method" title="Set#collect! (method)">#collect!</a></span>, <span class='object_link'><a href="Set.html#delete-instance_method" title="Set#delete (method)">#delete</a></span>, <span class='object_link'><a href="Set.html#delete%3F-instance_method" title="Set#delete? (method)">#delete?</a></span>, <span class='object_link'><a href="Set.html#delete_if-instance_method" title="Set#delete_if (method)">#delete_if</a></span>, <span class='object_link'><a href="Set.html#divide-instance_method" title="Set#divide (method)">#divide</a></span>, <span class='object_link'><a href="Set.html#each-instance_method" title="Set#each (method)">#each</a></span>, <span class='object_link'><a href="Set.html#empty%3F-instance_method" title="Set#empty? (method)">#empty?</a></span>, <span class='object_link'><a href="Set.html#eql%3F-instance_method" title="Set#eql? (method)">#eql?</a></span>, <span class='object_link'><a href="Set.html#flatten-instance_method" title="Set#flatten (method)">#flatten</a></span>, <span class='object_link'><a href="Set.html#flatten%21-instance_method" title="Set#flatten! (method)">#flatten!</a></span>, <span class='object_link'><a href="Set.html#freeze-instance_method" title="Set#freeze (method)">#freeze</a></span>, <span class='object_link'><a href="Set.html#hash-instance_method" title="Set#hash (method)">#hash</a></span>, <span class='object_link'><a href="Set.html#include%3F-instance_method" title="Set#include? (method)">#include?</a></span>, <span class='object_link'><a href="Set.html#initialize_copy-instance_method" title="Set#initialize_copy (method)">#initialize_copy</a></span>, <span class='object_link'><a href="Set.html#inspect-instance_method" title="Set#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Set.html#keep_if-instance_method" title="Set#keep_if (method)">#keep_if</a></span>, <span class='object_link'><a href="Set.html#merge-instance_method" title="Set#merge (method)">#merge</a></span>, <span class='object_link'><a href="Set.html#pretty_print-instance_method" title="Set#pretty_print (method)">#pretty_print</a></span>, <span class='object_link'><a href="Set.html#pretty_print_cycle-instance_method" title="Set#pretty_print_cycle (method)">#pretty_print_cycle</a></span>, <span class='object_link'><a href="Set.html#proper_subset%3F-instance_method" title="Set#proper_subset? (method)">#proper_subset?</a></span>, <span class='object_link'><a href="Set.html#proper_superset%3F-instance_method" title="Set#proper_superset? (method)">#proper_superset?</a></span>, <span class='object_link'><a href="Set.html#reject%21-instance_method" title="Set#reject! (method)">#reject!</a></span>, <span class='object_link'><a href="Set.html#replace-instance_method" title="Set#replace (method)">#replace</a></span>, <span class='object_link'><a href="Set.html#select%21-instance_method" title="Set#select! (method)">#select!</a></span>, <span class='object_link'><a href="Set.html#size-instance_method" title="Set#size (method)">#size</a></span>, <span class='object_link'><a href="Set.html#subset%3F-instance_method" title="Set#subset? (method)">#subset?</a></span>, <span class='object_link'><a href="Set.html#subtract-instance_method" title="Set#subtract (method)">#subtract</a></span>, <span class='object_link'><a href="Set.html#superset%3F-instance_method" title="Set#superset? (method)">#superset?</a></span>, <span class='object_link'><a href="Set.html#taint-instance_method" title="Set#taint (method)">#taint</a></span>, <span class='object_link'><a href="Set.html#to_a-instance_method" title="Set#to_a (method)">#to_a</a></span>, <span class='object_link'><a href="Set.html#untaint-instance_method" title="Set#untaint (method)">#untaint</a></span>, <span class='object_link'><a href="Set.html#%7C-instance_method" title="Set#| (method)">#|</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#to_set-instance_method" title="Enumerable#to_set (method)">#to_set</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="SortedSet (class)">SortedSet</a></span></tt>) <strong>initialize</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


613
614
615
616</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 613</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='const'>SortedSet</span><span class='period'>.</span><span class='id setup'>setup</span>
  <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="[]-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(*ary) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 518</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='op'>*</span><span class='id ary'>ary</span><span class='rparen'>)</span>        <span class='comment'># :nodoc:
</span>  <span class='id new'>new</span><span class='lparen'>(</span><span class='id ary'>ary</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setup-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>setup</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 522</span>

<span class='kw'>def</span> <span class='id setup'>setup</span>   <span class='comment'># :nodoc:
</span>  <span class='cvar'>@@setup</span> <span class='kw'>and</span> <span class='kw'>return</span>

  <span class='id module_eval'>module_eval</span> <span class='lbrace'>{</span>
    <span class='comment'># a hack to shut up warning
</span>    <span class='kw'>alias</span> <span class='id old_init'>old_init</span> <span class='id initialize'>initialize</span>
    <span class='id remove_method'>remove_method</span> <span class='symbol'>:old_init</span>
  <span class='rbrace'>}</span>
  <span class='kw'>begin</span>
    <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rbtree</span><span class='tstring_end'>'</span></span>

    <span class='id module_eval'>module_eval</span> <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>
      def initialize(*args, &amp;block)
        @hash = RBTree.new
        super
      end

      def add(o)
        o.respond_to?(:&lt;=&gt;) or raise ArgumentError, &quot;value must respond to &lt;=&gt;&quot;
        super
      end
      alias &lt;&lt; add
    </span><span class='tstring_end'>}</span></span>
  <span class='kw'>rescue</span> <span class='const'>LoadError</span>
    <span class='id module_eval'>module_eval</span> <span class='tstring'><span class='tstring_beg'>%{</span><span class='tstring_content'>
      def initialize(*args, &amp;block)
        @keys = nil
        super
      end

      def clear
        @keys = nil
        super
      end

      def replace(enum)
        @keys = nil
        super
      end

      def add(o)
        o.respond_to?(:&lt;=&gt;) or raise ArgumentError, &quot;value must respond to &lt;=&gt;&quot;
        @keys = nil
        super
      end
      alias &lt;&lt; add

      def delete(o)
        @keys = nil
        @hash.delete(o)
        self
      end

      def delete_if
        block_given? or return enum_for(__method__)
        n = @hash.size
        super
        @keys = nil if @hash.size != n
        self
      end

      def keep_if
        block_given? or return enum_for(__method__)
        n = @hash.size
        super
        @keys = nil if @hash.size != n
        self
      end

      def merge(enum)
        @keys = nil
        super
      end

      def each
        block_given? or return enum_for(__method__)
        to_a.each { |o| yield(o) }
        self
      end

      def to_a
        (@keys = @hash.keys).sort! unless @keys
        @keys
      end
    </span><span class='tstring_end'>}</span></span>
  <span class='kw'>end</span>

  <span class='cvar'>@@setup</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:09:57 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>