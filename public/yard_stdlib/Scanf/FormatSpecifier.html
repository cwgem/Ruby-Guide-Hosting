<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Scanf::FormatSpecifier
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Scanf.html" title="Scanf (module)">Scanf</a></span></span>
     &raquo; 
    <span class="title">FormatSpecifier</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Scanf::FormatSpecifier
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Scanf::FormatSpecifier</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/scanf.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2>Technical notes</h2>

<h3>Rationale behind scanf for Ruby</h3>

<p>The impetus for a scanf implementation in Ruby comes chiefly from the fact
that existing pattern matching operations, such as Regexp#match and
String#scan, return all results as strings, which have to be converted to
integers or floats explicitly in cases where what's ultimately wanted are
integer or float values.</p>

<h3>Design of scanf for Ruby</h3>

<p>scanf for Ruby is essentially a &lt;format string&gt;-to-&lt;regular
expression&gt; converter.</p>

<p>When scanf is called, a FormatString object is generated from the format
string ("%d%s...") argument. The FormatString object breaks the format
string down into atoms ("%d", "%5f", "blah", etc.), and from each atom it
creates a FormatSpecifier object, which it saves.</p>

<p>Each FormatSpecifier has a regular expression fragment and a "handler"
associated with it. For example, the regular expression fragment associated
with the format "%d" is "([-+]?d+)", and the handler associated with it is
a wrapper around String#to_i. scanf itself calls FormatString#match,
passing in the input string. FormatString#match iterates through its
FormatSpecifiers; for each one, it matches the corresponding regular
expression fragment against the string. If there's a match, it sends the
matched string to the handler associated with the FormatSpecifier.</p>

<p>Thus, to follow up the "%d" example: if "123" occurs in the input string
when a FormatSpecifier consisting of "%d" is reached, the "123" will be
matched against "([-+]?d+)", and the matched string will be rendered into
an integer by a call to to_i.</p>

<p>The rendered match is then saved to an accumulator array, and the input
string is reduced to the post-match substring. Thus the string is "eaten"
from the left as the FormatSpecifiers are applied in sequence.  (This is
done to a duplicate string; the original string is not altered.)</p>

<p>As soon as a regular expression fragment fails to match the string, or when
the FormatString object runs out of FormatSpecifiers, scanning stops and
results accumulated so far are returned in an array.</p>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#conversion-instance_method" title="#conversion (instance method)">- (Object) <strong>conversion</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute conversion.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#matched-instance_method" title="#matched (instance method)">- (Object) <strong>matched</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute matched.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#matched_string-instance_method" title="#matched_string (instance method)">- (Object) <strong>matched_string</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute matched_string.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#re_string-instance_method" title="#re_string (instance method)">- (Object) <strong>re_string</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute re_string.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count_space%3F-instance_method" title="#count_space? (instance method)">- (Boolean) <strong>count_space?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_decimal-instance_method" title="#extract_decimal (instance method)">- (Object) <strong>extract_decimal</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_float-instance_method" title="#extract_float (instance method)">- (Object) <strong>extract_float</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_hex-instance_method" title="#extract_hex (instance method)">- (Object) <strong>extract_hex</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_integer-instance_method" title="#extract_integer (instance method)">- (Object) <strong>extract_integer</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_octal-instance_method" title="#extract_octal (instance method)">- (Object) <strong>extract_octal</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_plain-instance_method" title="#extract_plain (instance method)">- (Object) <strong>extract_plain</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (FormatSpecifier) <strong>initialize</strong>(str) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of FormatSpecifier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#letter-instance_method" title="#letter (instance method)">- (Object) <strong>letter</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(str) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mid_match%3F-instance_method" title="#mid_match? (instance method)">- (Boolean) <strong>mid_match?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nil_proc-instance_method" title="#nil_proc (instance method)">- (Object) <strong>nil_proc</strong>(s) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip-instance_method" title="#skip (instance method)">- (Object) <strong>skip</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_re-instance_method" title="#to_re (instance method)">- (Object) <strong>to_re</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#width-instance_method" title="#width (instance method)">- (Object) <strong>width</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Scanf::FormatSpecifier (class)">FormatSpecifier</a></span></tt>) <strong>initialize</strong>(str) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A new instance of FormatSpecifier</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 331</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id str'>str</span><span class='rparen'>)</span>
  <span class='ivar'>@spec_string</span> <span class='op'>=</span> <span class='id str'>str</span>
  <span class='id h'>h</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[A-Fa-f0-9]</span><span class='tstring_end'>'</span></span>

  <span class='ivar'>@re_string</span><span class='comma'>,</span> <span class='ivar'>@handler</span> <span class='op'>=</span>
    <span class='kw'>case</span> <span class='ivar'>@spec_string</span>

      <span class='comment'># %[[:...:]]
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\[\[:[a-z]+:\]\])</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>+)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %5[[:...:]]
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)(\[\[:[a-z]+:\]\])</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='backref'>$2</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %[...]
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?\[([^\]]*)\]</span><span class='regexp_end'>/</span></span>
      <span class='id yes'>yes</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\^</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id yes'>yes</span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='id no'>no</span> <span class='op'>=</span> <span class='id yes'>yes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>else</span> <span class='id no'>no</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>^</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id yes'>yes</span> <span class='kw'>end</span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([</span><span class='embexpr_beg'>#{</span><span class='id yes'>yes</span><span class='rbrace'>}</span><span class='tstring_content'>]+)(?=[</span><span class='embexpr_beg'>#{</span><span class='id no'>no</span><span class='rbrace'>}</span><span class='tstring_content'>]|\\z)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %5[...]
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)\[([^\]]*)\]</span><span class='regexp_end'>/</span></span>
      <span class='id yes'>yes</span> <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id w'>w</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([</span><span class='embexpr_beg'>#{</span><span class='id yes'>yes</span><span class='rbrace'>}</span><span class='tstring_content'>]{1,</span><span class='embexpr_beg'>#{</span><span class='id w'>w</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %i
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?i</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-+]?(?:(?:0[0-7]+)|(?:0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>+)|(?:[1-9]\\d*)))</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_integer</span> <span class='rbracket'>]</span>

      <span class='comment'># %5i
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)i</span><span class='regexp_end'>/</span></span>
      <span class='id n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
      <span class='id s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[1-9]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+][1-9]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>3</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>3</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\d</span><span class='tstring_end'>&quot;</span></span>
      <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='lbracket'>[</span> <span class='id s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_integer</span> <span class='rbracket'>]</span>

      <span class='comment'># %d, %u
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[du]</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>([-+]?\d+)</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:extract_decimal</span> <span class='rbracket'>]</span>

      <span class='comment'># %5d, %5u
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[du]</span><span class='regexp_end'>/</span></span>
      <span class='id n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
      <span class='id s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]\\d{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\d{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span>
      <span class='lbracket'>[</span> <span class='id s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_decimal</span> <span class='rbracket'>]</span>

      <span class='comment'># %x
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[Xx]</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-+]?(?:0[Xx])?</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>+)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_hex</span> <span class='rbracket'>]</span>

      <span class='comment'># %5x
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[Xx]</span><span class='regexp_end'>/</span></span>
      <span class='id n'>n</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
      <span class='id s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>3</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>3</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>2</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0[Xx]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>2</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id n'>n</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[-+]</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='op'>-</span><span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'>}|</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>
      <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id h'>h</span><span class='rbrace'>}</span><span class='tstring_content'>{1,</span><span class='embexpr_beg'>#{</span><span class='id n'>n</span><span class='rbrace'>}</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='lbracket'>[</span> <span class='id s'>s</span><span class='comma'>,</span> <span class='symbol'>:extract_hex</span> <span class='rbracket'>]</span>

      <span class='comment'># %o
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?o</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>([-+]?[0-7]+)</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:extract_octal</span> <span class='rbracket'>]</span>

      <span class='comment'># %5o
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)o</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>([-+][0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='op'>-</span><span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'>}|[0-7]{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_octal</span> <span class='rbracket'>]</span>

      <span class='comment'># %f
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?[aefgAEFG]</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>([-+]?(?:0[xX](?:\.\h+|\h+(?:\.\h*)?)[pP][-+]\d+|\d+(?![\d.])|\d*\.\d*(?:[eE][-+]?\d+)?))</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:extract_float</span> <span class='rbracket'>]</span>

      <span class='comment'># %5f
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)[aefgAEFG]</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>(?=[-+]?(?:0[xX](?:\.\h+|\h+(?:\.\h*)?)[pP][-+]\d+|\d+(?![\d.])|\d*\.\d*(?:[eE][-+]?\d+)?))</span><span class='tstring_end'>'</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\S{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_float</span> <span class='rbracket'>]</span>

      <span class='comment'># %5s
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)s</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(\\S{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %s
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?s</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>(\S+)</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %c
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s%\*?c</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\s*(.)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %c
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?c</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(.)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %5c (whitespace issues are handled by the count_*_space? methods)
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)c</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(.{1,</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_content'>})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:extract_plain</span> <span class='rbracket'>]</span>

      <span class='comment'># %%
</span>    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%%</span><span class='regexp_end'>/</span></span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>(\s*%)</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:nil_proc</span> <span class='rbracket'>]</span>

      <span class='comment'># literal characters
</span>    <span class='kw'>else</span>
      <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:nil_proc</span> <span class='rbracket'>]</span>
    <span class='kw'>end</span>

  <span class='ivar'>@re_string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>\A</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='ivar'>@re_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="conversion-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="conversion-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>conversion</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute conversion</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 289</span>

<span class='kw'>def</span> <span class='id conversion'>conversion</span>
  <span class='ivar'>@conversion</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="matched-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="matched-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>matched</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute matched</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 289</span>

<span class='kw'>def</span> <span class='id matched'>matched</span>
  <span class='ivar'>@matched</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="matched_string-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="matched_string-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>matched_string</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute matched_string</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 289</span>

<span class='kw'>def</span> <span class='id matched_string'>matched_string</span>
  <span class='ivar'>@matched_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="re_string-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="re_string-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>re_string</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute re_string</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 289</span>

<span class='kw'>def</span> <span class='id re_string'>re_string</span>
  <span class='ivar'>@re_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="count_space?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>count_space?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 327</span>

<span class='kw'>def</span> <span class='id count_space?'>count_space?</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?:\A|\S)%\*?\d*c|%\d*\[</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_decimal-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_decimal</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 313</span>

<span class='kw'>def</span> <span class='id extract_decimal'>extract_decimal</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='kw'>if</span> <span class='id s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_float-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_float</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 295</span>

<span class='kw'>def</span> <span class='id extract_float'>extract_float</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id skip'>skip</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(?&lt;sign&gt;[-+]?)0[xX](?&lt;frac&gt;\.\h+|\h+(?:\.\h*)?)[pP](?&lt;exp&gt;[-+]\d+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id s'>s</span>
    <span class='id f1'>f1</span><span class='comma'>,</span> <span class='id f2'>f2</span> <span class='op'>=</span> <span class='id frac'>frac</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='id f'>f</span> <span class='op'>=</span> <span class='id f1'>f1</span><span class='period'>.</span><span class='id hex'>hex</span>
    <span class='kw'>if</span> <span class='id f2'>f2</span>
      <span class='id len'>len</span> <span class='op'>=</span> <span class='id f2'>f2</span><span class='period'>.</span><span class='id length'>length</span>
      <span class='kw'>if</span> <span class='id len'>len</span> <span class='op'>&gt;</span> <span class='int'>0</span>
        <span class='id f'>f</span> <span class='op'>+=</span> <span class='id f2'>f2</span><span class='period'>.</span><span class='id hex'>hex</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='float'>16.0</span> <span class='op'>**</span> <span class='id len'>len</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='lparen'>(</span><span class='id sign'>sign</span> <span class='op'>==</span> <span class='CHAR'>?-</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='const'>Math</span><span class='period'>.</span><span class='id ldexp'>ldexp</span><span class='lparen'>(</span><span class='id f'>f</span><span class='comma'>,</span> <span class='id exp'>exp</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([-+]?\d+)\.([eE][-+]\d+)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id s'>s</span>
    <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>&lt;&lt;</span> <span class='backref'>$2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_f'>to_f</span>
  <span class='kw'>else</span>
    <span class='id s'>s</span><span class='period'>.</span><span class='id to_f'>to_f</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_hex-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_hex</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 314</span>

<span class='kw'>def</span> <span class='id extract_hex'>extract_hex</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id hex'>hex</span> <span class='kw'>if</span> <span class='id s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_integer-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_integer</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 316</span>

<span class='kw'>def</span> <span class='id extract_integer'>extract_integer</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='const'>Integer</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_octal-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_octal</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 315</span>

<span class='kw'>def</span> <span class='id extract_octal'>extract_octal</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id oct'>oct</span> <span class='kw'>if</span> <span class='id s'>s</span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_plain-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_plain</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 317</span>

<span class='kw'>def</span> <span class='id extract_plain'>extract_plain</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='id s'>s</span> <span class='kw'>unless</span> <span class='id skip'>skip</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="letter-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>letter</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 469</span>

<span class='kw'>def</span> <span class='id letter'>letter</span>
  <span class='ivar'>@spec_string</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?\d*([a-z\[])</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match</strong>(str) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459
460
461
462
463
464
465
466
467</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 456</span>

<span class='kw'>def</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='id str'>str</span><span class='rparen'>)</span>
  <span class='ivar'>@matched</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id s'>s</span> <span class='op'>=</span> <span class='id str'>str</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id s'>s</span><span class='period'>.</span><span class='id sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id count_space?'>count_space?</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='id to_re'>to_re</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id res'>res</span>
    <span class='ivar'>@conversion</span> <span class='op'>=</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='ivar'>@handler</span><span class='comma'>,</span> <span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@matched_string</span> <span class='op'>=</span> <span class='ivar'>@conversion</span><span class='period'>.</span><span class='id to_s'>to_s</span>
    <span class='ivar'>@matched</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mid_match?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>mid_match?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480
481
482
483
484
485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 478</span>

<span class='kw'>def</span> <span class='id mid_match?'>mid_match?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='ivar'>@matched</span>
  <span class='id cc_no_width'>cc_no_width</span>    <span class='op'>=</span> <span class='id letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span> <span class='op'>&amp;&amp;</span><span class='op'>!</span> <span class='id width'>width</span>
  <span class='id c_or_cc_width'>c_or_cc_width</span>  <span class='op'>=</span> <span class='lparen'>(</span><span class='id letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>c</span><span class='tstring_end'>'</span></span> <span class='op'>||</span> <span class='id letter'>letter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id width'>width</span>
  <span class='id width_left'>width_left</span>     <span class='op'>=</span> <span class='id c_or_cc_width'>c_or_cc_width</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id matched_string'>matched_string</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&lt;</span> <span class='id width'>width</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='id width_left'>width_left</span> <span class='op'>||</span> <span class='id cc_no_width'>cc_no_width</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nil_proc-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>nil_proc</strong>(s) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 319</span>

<span class='kw'>def</span> <span class='id nil_proc'>nil_proc</span><span class='lparen'>(</span><span class='id s'>s</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>nil</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="skip-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>skip</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 293</span>

<span class='kw'>def</span> <span class='id skip'>skip</span><span class='semicolon'>;</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*%\*</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='ivar'>@spec_string</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_re-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_re</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 452</span>

<span class='kw'>def</span> <span class='id to_re'>to_re</span>
  <span class='const'>Regexp</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='ivar'>@re_string</span><span class='comma'>,</span><span class='const'>Regexp</span><span class='op'>::</span><span class='const'>MULTILINE</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_s-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_s</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 323</span>

<span class='kw'>def</span> <span class='id to_s'>to_s</span>
  <span class='ivar'>@spec_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="width-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>width</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


473
474
475
476</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/scanf.rb', line 473</span>

<span class='kw'>def</span> <span class='id width'>width</span>
  <span class='id w'>w</span> <span class='op'>=</span> <span class='ivar'>@spec_string</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%\*?(\d+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
  <span class='id w'>w</span> <span class='op'>&amp;&amp;</span> <span class='id w'>w</span><span class='period'>.</span><span class='id to_i'>to_i</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:01 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>