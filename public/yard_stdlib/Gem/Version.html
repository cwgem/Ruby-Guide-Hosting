<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Gem::Version
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (V)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Gem.html" title="Gem (module)">Gem</a></span></span>
     &raquo; 
    <span class="title">Version</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Gem::Version
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Gem::Version</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Comparable</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rubygems/version.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Version class processes string versions into comparable values. A
version string should normally be a series of numbers separated by periods.
Each part (digits separated by periods) is considered its own number, and
these are used for sorting. So for instance, 3.10 sorts higher than 3.2
because ten is greater than two.</p>

<p>If any part contains letters (currently only a-z are supported) then that
version is considered prerelease. Versions with a prerelease part in the
Nth part sort less than versions with N-1 parts. Prerelease parts are
sorted alphabetically using the normal Ruby string sorting rules. If a
prerelease part contains both letters and numbers, it will be broken into
multiple parts to provide expected sort behavior (1.0.a10 becomes 1.0.a.10,
and is greater than 1.0.a9).</p>

<p>Prereleases sort between real releases (newest to oldest):</p>
<ol><li>
<p>1.0</p>
</li><li>
<p>1.0.b1</p>
</li><li>
<p>1.0.a.2</p>
</li><li>
<p>0.9</p>
</li></ol>

<h2>How Software Changes</h2>

<p>Users expect to be able to specify a version constraint that gives them
some reasonable expectation that new versions of a library will work with
their software if the version constraint is true, and not work with their
software if the version constraint is false.  In other words, the perfect
system will accept all compatible versions of the library and reject all
incompatible versions.</p>

<p>Libraries change in 3 ways (well, more than 3, but stay focused here!).</p>
<ol><li>
<p>The change may be an implementation detail only and have no effect on the
client software.</p>
</li><li>
<p>The change may add new features, but do so in a way that client software
written to an earlier version is still compatible.</p>
</li><li>
<p>The change may change the public interface of the library in such a way
that old software is no longer compatible.</p>
</li></ol>

<p>Some examples are appropriate at this point.  Suppose I have a Stack class
that supports a <tt>push</tt> and a <tt>pop</tt> method.</p>

<h3>Examples of Category 1 changes:</h3>
<ul><li>
<p>Switch from an array based implementation to a linked-list based
implementation.</p>
</li><li>
<p>Provide an automatic (and transparent) backing store for large stacks.</p>
</li></ul>

<h3>Examples of Category 2 changes might be:</h3>
<ul><li>
<p>Add a <tt>depth</tt> method to return the current depth of the stack.</p>
</li><li>
<p>Add a <tt>top</tt> method that returns the current top of stack (without
changing the stack).</p>
</li><li>
<p>Change <tt>push</tt> so that it returns the item pushed (previously it had
no usable return value).</p>
</li></ul>

<h3>Examples of Category 3 changes might be:</h3>
<ul><li>
<p>Changes <tt>pop</tt> so that it no longer returns a value (you must use
<tt>top</tt> to get the top of the stack).</p>
</li><li>
<p>Rename the methods to <tt>push_item</tt> and <tt>pop_item</tt>.</p>
</li></ul>

<h2>RubyGems Rational Versioning</h2>
<ul><li>
<p>Versions shall be represented by three non-negative integers, separated by
periods (e.g. 3.1.4).  The first integers is the "major" version number,
the second integer is the "minor" version number, and the third integer is
the "build" number.</p>
</li><li>
<p>A category 1 change (implementation detail) will increment the build
number.</p>
</li><li>
<p>A category 2 change (backwards compatible) will increment the minor version
number and reset the build number.</p>
</li><li>
<p>A category 3 change (incompatible) will increment the major build number
and reset the minor and build numbers.</p>
</li><li>
<p>Any "public" release of a gem should have a different version.  Normally
that means incrementing the build number.  This means a developer can
generate builds all day long for himself, but as soon as he/she makes a
public release, the version must be updated.</p>
</li></ul>

<h3>Examples</h3>

<p>Let's work through a project lifecycle using our Stack example from above.</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>Version 0.0.1</p></td>
<td>
<p>The initial Stack class is release.</p>
</td></tr><tr><td class="rdoc-term"><p>Version 0.0.2</p></td>
<td>
<p>Switched to a linked=list implementation because it is cooler.</p>
</td></tr><tr><td class="rdoc-term"><p>Version 0.1.0</p></td>
<td>
<p>Added a <tt>depth</tt> method.</p>
</td></tr><tr><td class="rdoc-term"><p>Version 1.0.0</p></td>
<td>
<p>Added <tt>top</tt> and made <tt>pop</tt> return nil (<tt>pop</tt> used to
return the  old top item).</p>
</td></tr><tr><td class="rdoc-term"><p>Version 1.1.0</p></td>
<td>
<p><tt>push</tt> now returns the value pushed (it used it return nil).</p>
</td></tr><tr><td class="rdoc-term"><p>Version 1.1.1</p></td>
<td>
<p>Fixed a bug in the linked list implementation.</p>
</td></tr><tr><td class="rdoc-term"><p>Version 1.1.2</p></td>
<td>
<p>Fixed a bug introduced in the last fix.</p>
</td></tr></table>

<p>Client A needs a stack with basic push/pop capability.  He writes to the
original interface (no <tt>top</tt>), so his version constraint looks like:</p>

<pre class="code"><span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>stack</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>~&gt; 0.0</span><span class='tstring_end'>'</span></span></pre>

<p>Essentially, any version is OK with Client A.  An incompatible change to
the library will cause him grief, but he is willing to take the chance (we
call Client A optimistic).</p>

<p>Client B is just like Client A except for two things: (1) He uses the
<tt>depth</tt> method and (2) he is worried about future incompatibilities,
so he writes his version constraint like this:</p>

<pre class="code"><span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>stack</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>~&gt; 0.1</span><span class='tstring_end'>'</span></span></pre>

<p>The <tt>depth</tt> method was introduced in version 0.1.0, so that version
or anything later is fine, as long as the version stays below version 1.0
where incompatibilities are introduced.  We call Client B pessimistic
because he is worried about incompatible future changes (it is OK to be
pessimistic!).</p>

<h2>Preventing Version Catastrophe:</h2>

<p>From: <a
href="http://blog.zenspider.com/2008/10/rubygems-howto-preventing-cata.html">blog.zenspider.com/2008/10/rubygems-howto-preventing-cata.html</a></p>

<p>Let's say you're depending on the fnord gem version 2.y.z. If you specify
your dependency as "&gt;= 2.0.0" then, you're good, right? What happens if
fnord 3.0 comes out and it isn't backwards compatible with 2.y.z? Your
stuff will break as a result of using "&gt;=". The better route is to
specify your dependency with a "spermy" version specifier. They're a tad
confusing, so here is how the dependency specifiers work:</p>

<pre class="code">Specification From  ... To (exclusive)
&quot;&gt;= 3.0&quot;      3.0   ... &amp;infin;
&quot;~&gt; 3.0&quot;      3.0   ... 4.0
&quot;~&gt; 3.0.0&quot;    3.0.0 ... 3.1
&quot;~&gt; 3.5&quot;      3.5   ... 4.0
&quot;~&gt; 3.5.0&quot;    3.5.0 ... 3.6</pre>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="VERSION_PATTERN-constant" class="">VERSION_PATTERN =
          <div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[0-9]+(\.[0-9a-zA-Z]+)*</span><span class='tstring_end'>'</span></span></pre></dd>
      
        <dt id="ANCHORED_VERSION_PATTERN-constant" class="">ANCHORED_VERSION_PATTERN =
          <div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*(</span><span class='embexpr_beg'>#{</span><span class='const'>VERSION_PATTERN</span><span class='rbrace'>}</span><span class='tstring_content'>)*\s*\z</span><span class='regexp_end'>/</span></span></pre></dd>
      
    </dl>
  


  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#version-instance_method" title="#version (instance method)">- (Object) <strong>version</strong> </a>
    

    
      (also: #to_s)
    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A string representation of this Version.</p>
</div></span>
  
</li>

    
  </ul>



  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#correct%3F-class_method" title="correct? (class method)">+ (Boolean) <strong>correct?</strong>(version) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>True if the <tt>version</tt> string matches RubyGems' requirements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">+ (Object) <strong>create</strong>(input) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Factory method to create a Version object.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">- (Object) <strong>&lt;=&gt;</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compares this version with <tt>other</tt> returning -1, 0, or 1 if the
other version is larger, the same, or smaller than this one.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump-instance_method" title="#bump (instance method)">- (Object) <strong>bump</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new version object where the next to the last revision number is
one greater (e.g., 5.3.1 =&gt; 5.4).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">- (Boolean) <strong>eql?</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A Version is only eql? to another version if it's specified to the same
precision.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">- (Object) <strong>hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Version) <strong>initialize</strong>(version) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructs a Version from the <tt>version</tt> string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#marshal_dump-instance_method" title="#marshal_dump (instance method)">- (Object) <strong>marshal_dump</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dump only the raw version string, not the complete object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#marshal_load-instance_method" title="#marshal_load (instance method)">- (Object) <strong>marshal_load</strong>(array) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Load custom marshal format.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prerelease%3F-instance_method" title="#prerelease? (instance method)">- (Boolean) <strong>prerelease?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A version is considered a prerelease if it contains a letter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pretty_print-instance_method" title="#pretty_print (instance method)">- (Object) <strong>pretty_print</strong>(q) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release-instance_method" title="#release (instance method)">- (Object) <strong>release</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The release for this version (e.g. 1.2.0.a -&gt; 1.2.0).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#segments-instance_method" title="#segments (instance method)">- (Object) <strong>segments</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spermy_recommendation-instance_method" title="#spermy_recommendation (instance method)">- (Object) <strong>spermy_recommendation</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A recommended version for use with a ~&gt; Requirement.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Gem::Version (class)">Version</a></span></tt>) <strong>initialize</strong>(version) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Constructs a Version from the <tt>version</tt> string.  A version string is
a series of digits or ASCII letters separated by dots.</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 186</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id version'>version</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Malformed version number string </span><span class='embexpr_beg'>#{</span><span class='id version'>version</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id correct?'>correct?</span><span class='lparen'>(</span><span class='id version'>version</span><span class='rparen'>)</span>

  <span class='ivar'>@version</span> <span class='op'>=</span> <span class='id version'>version</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='ivar'>@version</span><span class='period'>.</span><span class='id strip!'>strip!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="version-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="version-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>version</strong>  <span class="extras">(readonly)</span>
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_s-instance_method'>to_s</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>A string representation of this Version.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 154</span>

<span class='kw'>def</span> <span class='id version'>version</span>
  <span class='ivar'>@version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="correct?-class_method">
  
    + (<tt>Boolean</tt>) <strong>correct?</strong>(version) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>True if the <tt>version</tt> string matches RubyGems' requirements.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 160</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id correct?'>correct?</span> <span class='id version'>version</span>
  <span class='id version'>version</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>=~</span> <span class='const'>ANCHORED_VERSION_PATTERN</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>create</strong>(input) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Factory method to create a Version object. Input may be a Version or a
String. Intended to simplify client code.</p>

<pre class="code"><span class='id ver1'>ver1</span> <span class='op'>=</span> <span class='const'>Version</span><span class='period'>.</span><span class='id create'>create</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1.3.17</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>   <span class='comment'># -&gt; (Version object)
</span><span class='id ver2'>ver2</span> <span class='op'>=</span> <span class='const'>Version</span><span class='period'>.</span><span class='id create'>create</span><span class='lparen'>(</span><span class='id ver1'>ver1</span><span class='rparen'>)</span>       <span class='comment'># -&gt; (ver1)
</span><span class='id ver3'>ver3</span> <span class='op'>=</span> <span class='const'>Version</span><span class='period'>.</span><span class='id create'>create</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>        <span class='comment'># -&gt; nil</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 172</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id create'>create</span> <span class='id input'>input</span>
  <span class='kw'>if</span> <span class='id input'>input</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span> <span class='symbol'>:version</span> <span class='kw'>then</span>
    <span class='id input'>input</span>
  <span class='kw'>elsif</span> <span class='id input'>input</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='kw'>then</span>
    <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id new'>new</span> <span class='id input'>input</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="<=>-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;=&gt;</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Compares this version with <tt>other</tt> returning -1, 0, or 1 if the
other version is larger, the same, or smaller than this one. Attempts to
compare to something that's not a <tt>Gem::Version</tt> return
<tt>nil</tt>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 293</span>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span> <span class='id other'>other</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Version</span> <span class='op'>===</span> <span class='id other'>other</span>
  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='ivar'>@version</span> <span class='op'>==</span> <span class='id other'>other</span><span class='period'>.</span><span class='id version'>version</span>

  <span class='id lhsegments'>lhsegments</span> <span class='op'>=</span> <span class='id segments'>segments</span>
  <span class='id rhsegments'>rhsegments</span> <span class='op'>=</span> <span class='id other'>other</span><span class='period'>.</span><span class='id segments'>segments</span>

  <span class='id lhsize'>lhsize</span> <span class='op'>=</span> <span class='id lhsegments'>lhsegments</span><span class='period'>.</span><span class='id size'>size</span>
  <span class='id rhsize'>rhsize</span> <span class='op'>=</span> <span class='id rhsegments'>rhsegments</span><span class='period'>.</span><span class='id size'>size</span>
  <span class='id limit'>limit</span>  <span class='op'>=</span> <span class='lparen'>(</span><span class='id lhsize'>lhsize</span> <span class='op'>&gt;</span> <span class='id rhsize'>rhsize</span> <span class='op'>?</span> <span class='id lhsize'>lhsize</span> <span class='op'>:</span> <span class='id rhsize'>rhsize</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>1</span>

  <span class='id i'>i</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='kw'>while</span> <span class='id i'>i</span> <span class='op'>&lt;=</span> <span class='id limit'>limit</span>
    <span class='id lhs'>lhs</span><span class='comma'>,</span> <span class='id rhs'>rhs</span> <span class='op'>=</span> <span class='id lhsegments'>lhsegments</span><span class='lbracket'>[</span><span class='id i'>i</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id rhsegments'>rhsegments</span><span class='lbracket'>[</span><span class='id i'>i</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span>
    <span class='id i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>

    <span class='kw'>next</span>      <span class='kw'>if</span> <span class='id lhs'>lhs</span> <span class='op'>==</span> <span class='id rhs'>rhs</span>
    <span class='kw'>return</span> <span class='op'>-</span><span class='int'>1</span> <span class='kw'>if</span> <span class='const'>String</span>  <span class='op'>===</span> <span class='id lhs'>lhs</span> <span class='op'>&amp;&amp;</span> <span class='const'>Numeric</span> <span class='op'>===</span> <span class='id rhs'>rhs</span>
    <span class='kw'>return</span>  <span class='int'>1</span> <span class='kw'>if</span> <span class='const'>Numeric</span> <span class='op'>===</span> <span class='id lhs'>lhs</span> <span class='op'>&amp;&amp;</span> <span class='const'>String</span>  <span class='op'>===</span> <span class='id rhs'>rhs</span>

    <span class='kw'>return</span> <span class='id lhs'>lhs</span> <span class='op'>&lt;=&gt;</span> <span class='id rhs'>rhs</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="bump-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>bump</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return a new version object where the next to the last revision number is
one greater (e.g., 5.3.1 =&gt; 5.4).</p>

<p>Pre-release (alpha) parts, e.g, 5.3.1.b.2 =&gt; 5.4, are ignored.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202
203
204
205
206
207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 200</span>

<span class='kw'>def</span> <span class='id bump'>bump</span>
  <span class='id segments'>segments</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id segments'>segments</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id segments'>segments</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='kw'>while</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span> <span class='const'>String</span> <span class='op'>===</span> <span class='id s'>s</span> <span class='rbrace'>}</span>
  <span class='id segments'>segments</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='kw'>if</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='id segments'>segments</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id segments'>segments</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id succ'>succ</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id new'>new</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="eql?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>eql?</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A Version is only eql? to another version if it's specified to the same
precision. Version "1.0" is not the same as version "1".</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 213</span>

<span class='kw'>def</span> <span class='id eql?'>eql?</span> <span class='id other'>other</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span> <span class='op'>===</span> <span class='id other'>other</span> <span class='kw'>and</span> <span class='ivar'>@version</span> <span class='op'>==</span> <span class='id other'>other</span><span class='period'>.</span><span class='id version'>version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hash-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 217</span>

<span class='kw'>def</span> <span class='id hash'>hash</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@hash</span> <span class='op'>||=</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id hash'>hash</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 221</span>

<span class='kw'>def</span> <span class='id inspect'>inspect</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id version'>version</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="marshal_dump-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>marshal_dump</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Dump only the raw version string, not the complete object. It's a string
for backwards (RubyGems 1.3.5 and earlier) compatibility.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 229</span>

<span class='kw'>def</span> <span class='id marshal_dump'>marshal_dump</span>
  <span class='lbracket'>[</span><span class='id version'>version</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="marshal_load-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>marshal_load</strong>(array) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Load custom marshal format. It's a string for backwards (RubyGems 1.3.5 and
earlier) compatibility.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 237</span>

<span class='kw'>def</span> <span class='id marshal_load'>marshal_load</span> <span class='id array'>array</span>
  <span class='id initialize'>initialize</span> <span class='id array'>array</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="prerelease?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>prerelease?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A version is considered a prerelease if it contains a letter.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 244</span>

<span class='kw'>def</span> <span class='id prerelease?'>prerelease?</span>
  <span class='ivar'>@prerelease</span> <span class='op'>||=</span> <span class='ivar'>@version</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[a-zA-Z]</span><span class='regexp_end'>/</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pretty_print-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>pretty_print</strong>(q) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


248
249
250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 248</span>

<span class='kw'>def</span> <span class='id pretty_print'>pretty_print</span> <span class='id q'>q</span> <span class='comment'># :nodoc:
</span>  <span class='id q'>q</span><span class='period'>.</span><span class='id text'>text</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Gem::Version.new(</span><span class='embexpr_beg'>#{</span><span class='id version'>version</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="release-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>release</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>The release for this version (e.g. 1.2.0.a -&gt; 1.2.0). Non-prerelease
versions return themselves.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 256</span>

<span class='kw'>def</span> <span class='id release'>release</span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>unless</span> <span class='id prerelease?'>prerelease?</span>

  <span class='id segments'>segments</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id segments'>segments</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id segments'>segments</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='kw'>while</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span> <span class='const'>String</span> <span class='op'>===</span> <span class='id s'>s</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id new'>new</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="segments-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>segments</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 264</span>

<span class='kw'>def</span> <span class='id segments'>segments</span> <span class='comment'># :nodoc:
</span>
  <span class='comment'># segments is lazy so it can pick up version values that come from
</span>  <span class='comment'># old marshaled versions, which don't go through marshal_load.
</span>
  <span class='ivar'>@segments</span> <span class='op'>||=</span> <span class='ivar'>@version</span><span class='period'>.</span><span class='id scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[0-9]+|[a-z]+</span><span class='regexp_end'>/i</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d+$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id s'>s</span> <span class='op'>?</span> <span class='id s'>s</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='op'>:</span> <span class='id s'>s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="spermy_recommendation-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>spermy_recommendation</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A recommended version for use with a ~&gt; Requirement.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubygems/version.rb', line 277</span>

<span class='kw'>def</span> <span class='id spermy_recommendation'>spermy_recommendation</span>
  <span class='id segments'>segments</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id segments'>segments</span><span class='period'>.</span><span class='id dup'>dup</span>

  <span class='id segments'>segments</span><span class='period'>.</span><span class='id pop'>pop</span>    <span class='kw'>while</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span> <span class='const'>String</span> <span class='op'>===</span> <span class='id s'>s</span> <span class='rbrace'>}</span>
  <span class='id segments'>segments</span><span class='period'>.</span><span class='id pop'>pop</span>    <span class='kw'>while</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&gt;</span> <span class='int'>2</span>
  <span class='id segments'>segments</span><span class='period'>.</span><span class='id push'>push</span> <span class='int'>0</span> <span class='kw'>while</span> <span class='id segments'>segments</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&lt;</span> <span class='int'>2</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~&gt; </span><span class='embexpr_beg'>#{</span><span class='id segments'>segments</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:11:16 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>