<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Prime
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo; 
    
    
    <span class="title">Prime</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Prime
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Prime</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2"><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span>, <span class='object_link'><a href="Forwardable.html" title="Forwardable (module)">Forwardable</a></span></dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/prime.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The set of all prime numbers.</p>

<h2>Example</h2>

<pre class="code"><span class='const'>Prime</span><span class='period'>.</span><span class='id each'>each</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id prime'>prime</span><span class='op'>|</span>
  <span class='id p'>p</span> <span class='id prime'>prime</span>  <span class='comment'>#=&gt; 2, 3, 5, 7, 11, ...., 97
</span><span class='kw'>end</span></pre>

<p>Prime is Enumerable:</p>

<pre class="code"><span class='const'>Prime</span><span class='period'>.</span><span class='id first'>first</span> <span class='int'>5</span> <span class='comment'># =&gt; [2, 3, 5, 7, 11]</span></pre>

<h2>Retrieving the instance</h2>

<p><tt>Prime</tt>.new is obsolete. Now <tt>Prime</tt> has the default instance
and you can access it as <tt>Prime</tt>.instance.</p>

<p>For convenience, each instance method of <tt>Prime</tt>.instance can be
accessed as a class method of <tt>Prime</tt>.</p>

<p>e.g.</p>

<pre class="code"><span class='const'>Prime</span><span class='period'>.</span><span class='id instance'>instance</span><span class='period'>.</span><span class='id prime?'>prime?</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; true
</span><span class='const'>Prime</span><span class='period'>.</span><span class='id prime?'>prime?</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>           <span class='comment'>#=&gt; true</span></pre>

<h2>Generators</h2>

<p>A "generator" provides an implementation of enumerating pseudo-prime
numbers and it remembers the position of enumeration and upper bound.
Futhermore, it is a external iterator of prime enumeration which is
compatible to an Enumerator.</p>

<p><tt>Prime</tt>::<tt>PseudoPrimeGenerator</tt> is the base class for
generators. There are few implementations of generator.</p>
<dl class="rdoc-list"><dt><tt>Prime</tt>::<tt>EratosthenesGenerator</tt></dt>
<dd>
<p>Uses eratosthenes's sieve.</p>
</dd><dt><tt>Prime</tt>::<tt>TrialDivisionGenerator</tt></dt>
<dd>
<p>Uses the trial division method.</p>
</dd><dt><tt>Prime</tt>::<tt>Generator23</tt></dt>
<dd>
<p>Generates all positive integers which is not divided by 2 nor 3. This
sequence is very bad as a pseudo-prime sequence. But this is faster and
uses much less memory than other generators. So, it is suitable for
factorizing an integer which is not large but has many prime factors. e.g.
for Prime#prime? .</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Prime/OldCompatibility.html" title="Prime::OldCompatibility (module)">OldCompatibility</a></span>
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Prime/EratosthenesGenerator.html" title="Prime::EratosthenesGenerator (class)">EratosthenesGenerator</a></span>, <span class='object_link'><a href="Prime/EratosthenesSieve.html" title="Prime::EratosthenesSieve (class)">EratosthenesSieve</a></span>, <span class='object_link'><a href="Prime/Generator23.html" title="Prime::Generator23 (class)">Generator23</a></span>, <span class='object_link'><a href="Prime/PseudoPrimeGenerator.html" title="Prime::PseudoPrimeGenerator (class)">PseudoPrimeGenerator</a></span>, <span class='object_link'><a href="Prime/TrialDivision.html" title="Prime::TrialDivision (class)">TrialDivision</a></span>, <span class='object_link'><a href="Prime/TrialDivisionGenerator.html" title="Prime::TrialDivisionGenerator (class)">TrialDivisionGenerator</a></span>
    
  
</p>


  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="Forwardable.html" title="Forwardable (module)">Forwardable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Forwardable.html#FORWARDABLE_VERSION-constant" title="Forwardable::FORWARDABLE_VERSION (constant)">FORWARDABLE_VERSION</a></span></p>



  
  
  
  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instance-class_method" title="instance (class method)">+ (Object) <strong>instance</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the default instance of Prime.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#method_added-class_method" title="method_added (class method)">+ (Object) <strong>method_added</strong>(method) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(ubound = nil, generator = EratosthenesGenerator.new, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterates the given block over all prime numbers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Prime) <strong>initialize</strong> </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>obsolete.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#int_from_prime_division-instance_method" title="#int_from_prime_division (instance method)">- (Object) <strong>int_from_prime_division</strong>(pd) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Re-composes a prime factorization and returns the product.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prime%3F-instance_method" title="#prime? (instance method)">- (Boolean) <strong>prime?</strong>(value, generator = Prime::Generator23.new) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if <tt>value</tt> is prime, false for a composite.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prime_division-instance_method" title="#prime_division (instance method)">- (Object) <strong>prime_division</strong>(value, generator = Prime::Generator23.new) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the factorization of <tt>value</tt>.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#to_set-instance_method" title="Enumerable#to_set (method)">to_set</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Forwardable.html" title="Forwardable (module)">Forwardable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Forwardable.html#def_instance_delegator-instance_method" title="Forwardable#def_instance_delegator (method)">def_instance_delegator</a></span>, <span class='object_link'><a href="Forwardable.html#def_instance_delegators-instance_method" title="Forwardable#def_instance_delegators (method)">def_instance_delegators</a></span>, <span class='object_link'><a href="Forwardable.html#instance_delegate-instance_method" title="Forwardable#instance_delegate (method)">instance_delegate</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Prime (class)">Prime</a></span></tt>) <strong>initialize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>obsolete. Use <tt>Prime</tt>::<tt>instance</tt> or class methods of
<tt>Prime</tt>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 96</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span>
  <span class='ivar'>@generator</span> <span class='op'>=</span> <span class='const'>EratosthenesGenerator</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id extend'>extend</span> <span class='const'>OldCompatibility</span>
  <span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prime::new is obsolete. use Prime::instance or class methods of Prime.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="instance-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>instance</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the default instance of Prime.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 106</span>

<span class='kw'>def</span> <span class='id instance'>instance</span><span class='semicolon'>;</span> <span class='ivar'>@the_instance</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="method_added-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>method_added</strong>(method) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 108</span>

<span class='kw'>def</span> <span class='id method_added'>method_added</span><span class='lparen'>(</span><span class='id method'>method</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='lparen'>(</span><span class='kw'>class</span><span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='semicolon'>;</span><span class='kw'>self</span><span class='semicolon'>;</span><span class='kw'>end</span><span class='rparen'>)</span><span class='period'>.</span><span class='id def_delegator'>def_delegator</span> <span class='symbol'>:instance</span><span class='comma'>,</span> <span class='id method'>method</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="each-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each</strong>(ubound = nil, generator = EratosthenesGenerator.new, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Iterates the given block over all prime numbers.</p>

<h2>Parameters</h2>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>ubound</tt></p></td>
<td>
<p>Optional. An arbitrary positive number. The upper bound of enumeration. The
method enumerates prime numbers infinitely if <tt>ubound</tt> is nil.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>generator</tt></p></td>
<td>
<p>Optional. An implementation of pseudo-prime generator.</p>
</td></tr></table>

<h2>Return value</h2>

<p>An evaluated value of the given block at the last time. Or an enumerator
which is compatible to an <tt>Enumerator</tt> if no block given.</p>

<h2>Description</h2>

<p>Calls <tt>block</tt> once for each prime number, passing the prime as a
parameter.</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>ubound</tt></p></td>
<td>
<p>Upper bound of prime numbers. The iterator stops after yields all prime
numbers p &lt;= <tt>ubound</tt>.</p>
</td></tr></table>

<h2>Note</h2>

<p><tt>Prime</tt>.<tt>new</tt> returns a object extended by
<tt>Prime</tt>::<tt>OldCompatibility</tt> in order to compatibility to Ruby
1.8, and <tt>Prime</tt>#each is overwritten by
<tt>Prime</tt>::<tt>OldCompatibility</tt>#<tt>each</tt>.</p>

<p><tt>Prime</tt>.<tt>new</tt> is now obsolete. Use
<tt>Prime</tt>.<tt>instance</tt>.<tt>each</tt> or simply
<tt>Prime</tt>.<tt>each</tt>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 147</span>

<span class='kw'>def</span> <span class='id each'>each</span><span class='lparen'>(</span><span class='id ubound'>ubound</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id generator'>generator</span> <span class='op'>=</span> <span class='const'>EratosthenesGenerator</span><span class='period'>.</span><span class='id new'>new</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id generator'>generator</span><span class='period'>.</span><span class='id upper_bound'>upper_bound</span> <span class='op'>=</span> <span class='id ubound'>ubound</span>
  <span class='id generator'>generator</span><span class='period'>.</span><span class='id each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="int_from_prime_division-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>int_from_prime_division</strong>(pd) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Re-composes a prime factorization and returns the product.</p>

<h2>Parameters</h2>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>pd</tt></p></td>
<td>
<p>Array of pairs of integers. The each internal pair consists of a prime
number -- a prime factor -- and a natural number -- an exponent.</p>
</td></tr></table>

<h2>Example</h2>

<p>For <tt>[[p_1, e_1], [p_2, e_2], ...., [p_n, e_n]]</tt>, it returns:</p>

<pre class="code">p_1**e_1 * p_2**e_2 * .... * p_n**e_n.

Prime.int_from_prime_division([[2,2], [3,1]])  #=&gt; 12</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 182</span>

<span class='kw'>def</span> <span class='id int_from_prime_division'>int_from_prime_division</span><span class='lparen'>(</span><span class='id pd'>pd</span><span class='rparen'>)</span>
  <span class='id pd'>pd</span><span class='period'>.</span><span class='id inject'>inject</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id value'>value</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id prime'>prime</span><span class='comma'>,</span> <span class='id index'>index</span><span class='rparen'>)</span><span class='op'>|</span>
    <span class='id value'>value</span> <span class='op'>*=</span> <span class='id prime'>prime</span><span class='op'>**</span><span class='id index'>index</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="prime?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>prime?</strong>(value, generator = Prime::Generator23.new) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns true if <tt>value</tt> is prime, false for a composite.</p>

<h2>Parameters</h2>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>value</tt></p></td>
<td>
<p>an arbitrary integer to be checked.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>generator</tt></p></td>
<td>
<p>optional. A pseudo-prime generator.</p>
</td></tr></table>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162
163
164
165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 159</span>

<span class='kw'>def</span> <span class='id prime?'>prime?</span><span class='lparen'>(</span><span class='id value'>value</span><span class='comma'>,</span> <span class='id generator'>generator</span> <span class='op'>=</span> <span class='const'>Prime</span><span class='op'>::</span><span class='const'>Generator23</span><span class='period'>.</span><span class='id new'>new</span><span class='rparen'>)</span>
  <span class='id value'>value</span> <span class='op'>=</span> <span class='op'>-</span><span class='id value'>value</span> <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>&lt;</span> <span class='int'>0</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>&lt;</span> <span class='int'>2</span>
  <span class='kw'>for</span> <span class='id num'>num</span> <span class='kw'>in</span> <span class='id generator'>generator</span>
    <span class='id q'>q</span><span class='comma'>,</span><span class='id r'>r</span> <span class='op'>=</span> <span class='id value'>value</span><span class='period'>.</span><span class='id divmod'>divmod</span> <span class='id num'>num</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id q'>q</span> <span class='op'>&lt;</span> <span class='id num'>num</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id r'>r</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="prime_division-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>prime_division</strong>(value, generator = Prime::Generator23.new) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the factorization of <tt>value</tt>.</p>

<h2>Parameters</h2>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>value</tt></p></td>
<td>
<p>An arbitrary integer.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>generator</tt></p></td>
<td>
<p>Optional. A pseudo-prime generator. <tt>generator</tt>.succ must return the
next pseudo-prime number in the ascendent order. It must generate all prime
numbers, but may generate non prime numbers.</p>
</td></tr></table>

<h3>Exceptions</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>ZeroDivisionError</tt></p></td>
<td>
<p>when <tt>value</tt> is zero.</p>
</td></tr></table>

<h2>Example</h2>

<p>For an arbitrary integer:</p>

<pre class="code">n = p_1**e_1 * p_2**e_2 * .... * p_n**e_n,</pre>

<p>prime_division(n) returns:</p>

<pre class="code">[[p_1, e_1], [p_2, e_2], ...., [p_n, e_n]].

Prime.prime_division(12) #=&gt; [[2,2], [3,1]]</pre>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ZeroDivisionError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prime.rb', line 212</span>

<span class='kw'>def</span> <span class='id prime_division'>prime_division</span><span class='lparen'>(</span><span class='id value'>value</span><span class='comma'>,</span> <span class='id generator'>generator</span><span class='op'>=</span> <span class='const'>Prime</span><span class='op'>::</span><span class='const'>Generator23</span><span class='period'>.</span><span class='id new'>new</span><span class='rparen'>)</span>
  <span class='id raise'>raise</span> <span class='const'>ZeroDivisionError</span> <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id value'>value</span> <span class='op'>=</span> <span class='op'>-</span><span class='id value'>value</span>
    <span class='id pv'>pv</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id pv'>pv</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>for</span> <span class='id prime'>prime</span> <span class='kw'>in</span> <span class='id generator'>generator</span>
    <span class='id count'>count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>while</span> <span class='lparen'>(</span><span class='id value1'>value1</span><span class='comma'>,</span> <span class='id mod'>mod</span> <span class='op'>=</span> <span class='id value'>value</span><span class='period'>.</span><span class='id divmod'>divmod</span><span class='lparen'>(</span><span class='id prime'>prime</span><span class='rparen'>)</span>
           <span class='id mod'>mod</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>0</span>
      <span class='id value'>value</span> <span class='op'>=</span> <span class='id value1'>value1</span>
      <span class='id count'>count</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id count'>count</span> <span class='op'>!=</span> <span class='int'>0</span>
      <span class='id pv'>pv</span><span class='period'>.</span><span class='id push'>push</span> <span class='lbracket'>[</span><span class='id prime'>prime</span><span class='comma'>,</span> <span class='id count'>count</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id value1'>value1</span> <span class='op'>&lt;=</span> <span class='id prime'>prime</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id pv'>pv</span><span class='period'>.</span><span class='id push'>push</span> <span class='lbracket'>[</span><span class='id value'>value</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id pv'>pv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:03 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>