<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Net::HTTPGenericRequest
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (H)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Net.html" title="Net (module)">Net</a></span></span>
     &raquo; 
    <span class="title">HTTPGenericRequest</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Net::HTTPGenericRequest
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Net::HTTPGenericRequest</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="HTTPHeader.html" title="Net::HTTPHeader (module)">HTTPHeader</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/net/http.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>HTTPGenericRequest is the parent of the HTTPRequest class. Do not use this
directly; use a subclass of HTTPRequest.</p>

<p>Mixes in the HTTPHeader module to provide easier access to HTTP headers.</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="HTTPRequest.html" title="Net::HTTPRequest (class)">HTTPRequest</a></span></p>
</div>


  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#body-instance_method" title="#body (instance method)">- (Object) <strong>body</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute body.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#body_stream-instance_method" title="#body_stream (instance method)">- (Object) <strong>body_stream</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute body_stream.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#method-instance_method" title="#method (instance method)">- (Object) <strong>method</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute method.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute path.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#body_exist%3F-instance_method" title="#body_exist? (instance method)">- (Boolean) <strong>body_exist?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encode_multipart_form_data-instance_method" title="#encode_multipart_form_data (instance method)">- (Object) <strong>encode_multipart_form_data</strong>(out, params, opt) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec-instance_method" title="#exec (instance method)">- (Object) <strong>exec</strong>(sock, ver, path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>write.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flush_buffer-instance_method" title="#flush_buffer (instance method)">- (Object) <strong>flush_buffer</strong>(out, buf, chunked_p) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (HTTPGenericRequest) <strong>initialize</strong>(m, reqbody, resbody, path, initheader = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of HTTPGenericRequest.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quote_string-instance_method" title="#quote_string (instance method)">- (Object) <strong>quote_string</strong>(str, charset) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_body_permitted%3F-instance_method" title="#request_body_permitted? (instance method)">- (Boolean) <strong>request_body_permitted?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#response_body_permitted%3F-instance_method" title="#response_body_permitted? (instance method)">- (Boolean) <strong>response_body_permitted?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_request_with_body-instance_method" title="#send_request_with_body (instance method)">- (Object) <strong>send_request_with_body</strong>(sock, ver, path, body) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_request_with_body_data-instance_method" title="#send_request_with_body_data (instance method)">- (Object) <strong>send_request_with_body_data</strong>(sock, ver, path, params) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_request_with_body_stream-instance_method" title="#send_request_with_body_stream (instance method)">- (Object) <strong>send_request_with_body_stream</strong>(sock, ver, path, f) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_body_internal-instance_method" title="#set_body_internal (instance method)">- (Object) <strong>set_body_internal</strong>(str) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc: internal use only.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#supply_default_content_type-instance_method" title="#supply_default_content_type (instance method)">- (Object) <strong>supply_default_content_type</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait_for_continue-instance_method" title="#wait_for_continue (instance method)">- (Object) <strong>wait_for_continue</strong>(sock, ver) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits up to the continue timeout for a response from the server provided
we're speaking HTTP 1.1 and are expecting a 100-continue response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_header-instance_method" title="#write_header (instance method)">- (Object) <strong>write_header</strong>(sock, ver, path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="HTTPHeader.html" title="Net::HTTPHeader (module)">HTTPHeader</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="HTTPHeader.html#%5B%5D-instance_method" title="Net::HTTPHeader#[] (method)">#[]</a></span>, <span class='object_link'><a href="HTTPHeader.html#%5B%5D%3D-instance_method" title="Net::HTTPHeader#[]= (method)">#[]=</a></span>, <span class='object_link'><a href="HTTPHeader.html#add_field-instance_method" title="Net::HTTPHeader#add_field (method)">#add_field</a></span>, <span class='object_link'><a href="HTTPHeader.html#basic_auth-instance_method" title="Net::HTTPHeader#basic_auth (method)">#basic_auth</a></span>, <span class='object_link'><a href="HTTPHeader.html#chunked%3F-instance_method" title="Net::HTTPHeader#chunked? (method)">#chunked?</a></span>, <span class='object_link'><a href="HTTPHeader.html#connection_close%3F-instance_method" title="Net::HTTPHeader#connection_close? (method)">#connection_close?</a></span>, <span class='object_link'><a href="HTTPHeader.html#connection_keep_alive%3F-instance_method" title="Net::HTTPHeader#connection_keep_alive? (method)">#connection_keep_alive?</a></span>, <span class='object_link'><a href="HTTPHeader.html#content_length-instance_method" title="Net::HTTPHeader#content_length (method)">#content_length</a></span>, <span class='object_link'><a href="HTTPHeader.html#content_length%3D-instance_method" title="Net::HTTPHeader#content_length= (method)">#content_length=</a></span>, <span class='object_link'><a href="HTTPHeader.html#content_range-instance_method" title="Net::HTTPHeader#content_range (method)">#content_range</a></span>, <span class='object_link'><a href="HTTPHeader.html#content_type-instance_method" title="Net::HTTPHeader#content_type (method)">#content_type</a></span>, <span class='object_link'><a href="HTTPHeader.html#delete-instance_method" title="Net::HTTPHeader#delete (method)">#delete</a></span>, <span class='object_link'><a href="HTTPHeader.html#each_capitalized-instance_method" title="Net::HTTPHeader#each_capitalized (method)">#each_capitalized</a></span>, <span class='object_link'><a href="HTTPHeader.html#each_capitalized_name-instance_method" title="Net::HTTPHeader#each_capitalized_name (method)">#each_capitalized_name</a></span>, <span class='object_link'><a href="HTTPHeader.html#each_header-instance_method" title="Net::HTTPHeader#each_header (method)">#each_header</a></span>, <span class='object_link'><a href="HTTPHeader.html#each_name-instance_method" title="Net::HTTPHeader#each_name (method)">#each_name</a></span>, <span class='object_link'><a href="HTTPHeader.html#each_value-instance_method" title="Net::HTTPHeader#each_value (method)">#each_value</a></span>, <span class='object_link'><a href="HTTPHeader.html#fetch-instance_method" title="Net::HTTPHeader#fetch (method)">#fetch</a></span>, <span class='object_link'><a href="HTTPHeader.html#get_fields-instance_method" title="Net::HTTPHeader#get_fields (method)">#get_fields</a></span>, <span class='object_link'><a href="HTTPHeader.html#initialize_http_header-instance_method" title="Net::HTTPHeader#initialize_http_header (method)">#initialize_http_header</a></span>, <span class='object_link'><a href="HTTPHeader.html#key%3F-instance_method" title="Net::HTTPHeader#key? (method)">#key?</a></span>, <span class='object_link'><a href="HTTPHeader.html#main_type-instance_method" title="Net::HTTPHeader#main_type (method)">#main_type</a></span>, <span class='object_link'><a href="HTTPHeader.html#proxy_basic_auth-instance_method" title="Net::HTTPHeader#proxy_basic_auth (method)">#proxy_basic_auth</a></span>, <span class='object_link'><a href="HTTPHeader.html#range-instance_method" title="Net::HTTPHeader#range (method)">#range</a></span>, <span class='object_link'><a href="HTTPHeader.html#range_length-instance_method" title="Net::HTTPHeader#range_length (method)">#range_length</a></span>, <span class='object_link'><a href="HTTPHeader.html#set_content_type-instance_method" title="Net::HTTPHeader#set_content_type (method)">#set_content_type</a></span>, <span class='object_link'><a href="HTTPHeader.html#set_form-instance_method" title="Net::HTTPHeader#set_form (method)">#set_form</a></span>, <span class='object_link'><a href="HTTPHeader.html#set_form_data-instance_method" title="Net::HTTPHeader#set_form_data (method)">#set_form_data</a></span>, <span class='object_link'><a href="HTTPHeader.html#set_range-instance_method" title="Net::HTTPHeader#set_range (method)">#set_range</a></span>, <span class='object_link'><a href="HTTPHeader.html#size-instance_method" title="Net::HTTPHeader#size (method)">#size</a></span>, <span class='object_link'><a href="HTTPHeader.html#sub_type-instance_method" title="Net::HTTPHeader#sub_type (method)">#sub_type</a></span>, <span class='object_link'><a href="HTTPHeader.html#to_hash-instance_method" title="Net::HTTPHeader#to_hash (method)">#to_hash</a></span>, <span class='object_link'><a href="HTTPHeader.html#type_params-instance_method" title="Net::HTTPHeader#type_params (method)">#type_params</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Net::HTTPGenericRequest (class)">HTTPGenericRequest</a></span></tt>) <strong>initialize</strong>(m, reqbody, resbody, path, initheader = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A new instance of HTTPGenericRequest</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1859</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id m'>m</span><span class='comma'>,</span> <span class='id reqbody'>reqbody</span><span class='comma'>,</span> <span class='id resbody'>resbody</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id initheader'>initheader</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@method</span> <span class='op'>=</span> <span class='id m'>m</span>
  <span class='ivar'>@request_has_body</span> <span class='op'>=</span> <span class='id reqbody'>reqbody</span>
  <span class='ivar'>@response_has_body</span> <span class='op'>=</span> <span class='id resbody'>resbody</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no HTTP request path given</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id path'>path</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP request path is empty</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id path'>path</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id path'>path</span>
  <span class='id initialize_http_header'>initialize_http_header</span> <span class='id initheader'>initheader</span>
  <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Accept</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>*/*</span><span class='tstring_end'>'</span></span>
  <span class='kw'>self</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>User-Agent</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Ruby</span><span class='tstring_end'>'</span></span>
  <span class='ivar'>@body</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@body_stream</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@body_data</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="body=-instance_method"></span>
      <span id="body-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="body-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>body</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute body</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1894
1895
1896</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1894</span>

<span class='kw'>def</span> <span class='id body'>body</span>
  <span class='ivar'>@body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="body_stream=-instance_method"></span>
      <span id="body_stream-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="body_stream-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>body_stream</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute body_stream</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1903
1904
1905</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1903</span>

<span class='kw'>def</span> <span class='id body_stream'>body_stream</span>
  <span class='ivar'>@body_stream</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="method-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="method-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>method</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute method</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1874
1875
1876</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1874</span>

<span class='kw'>def</span> <span class='id method'>method</span>
  <span class='ivar'>@method</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="path-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute path</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1875
1876
1877</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1875</span>

<span class='kw'>def</span> <span class='id path'>path</span>
  <span class='ivar'>@path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="body_exist?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>body_exist?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1889
1890
1891
1892</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1889</span>

<span class='kw'>def</span> <span class='id body_exist?'>body_exist?</span>
  <span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Net::HTTPRequest#body_exist? is obsolete; use response_body_permitted?</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='gvar'>$VERBOSE</span>
  <span class='id response_body_permitted?'>response_body_permitted?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="encode_multipart_form_data-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>encode_multipart_form_data</strong>(out, params, opt) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1989
1990
1991
1992
1993
1994
1995
1996
1997
1998
1999
2000
2001
2002
2003
2004
2005
2006
2007
2008
2009
2010
2011
2012
2013
2014
2015
2016
2017
2018
2019
2020
2021
2022
2023
2024
2025
2026
2027
2028
2029
2030
2031
2032
2033
2034
2035
2036
2037
2038</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1989</span>

<span class='kw'>def</span> <span class='id encode_multipart_form_data'>encode_multipart_form_data</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id params'>params</span><span class='comma'>,</span> <span class='id opt'>opt</span><span class='rparen'>)</span>
  <span class='id charset'>charset</span> <span class='op'>=</span> <span class='id opt'>opt</span><span class='lbracket'>[</span><span class='symbol'>:charset</span><span class='rbracket'>]</span>
  <span class='id boundary'>boundary</span> <span class='op'>=</span> <span class='id opt'>opt</span><span class='lbracket'>[</span><span class='symbol'>:boundary</span><span class='rbracket'>]</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>securerandom</span><span class='tstring_end'>'</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>SecureRandom</span><span class='rparen'>)</span>
  <span class='id boundary'>boundary</span> <span class='op'>||=</span> <span class='const'>SecureRandom</span><span class='period'>.</span><span class='id urlsafe_base64'>urlsafe_base64</span><span class='lparen'>(</span><span class='int'>40</span><span class='rparen'>)</span>
  <span class='id chunked_p'>chunked_p</span> <span class='op'>=</span> <span class='id chunked?'>chunked?</span>

  <span class='id buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='id params'>params</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='comma'>,</span> <span class='id h'>h</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='op'>|</span>
    <span class='id key'>key</span> <span class='op'>=</span> <span class='id quote_string'>quote_string</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id charset'>charset</span><span class='rparen'>)</span>
    <span class='id filename'>filename</span> <span class='op'>=</span>
      <span class='id h'>h</span><span class='period'>.</span><span class='id key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:filename</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id h'>h</span><span class='lbracket'>[</span><span class='symbol'>:filename</span><span class='rbracket'>]</span> <span class='op'>:</span>
      <span class='id value'>value</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_path</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>File</span><span class='period'>.</span><span class='id basename'>basename</span><span class='lparen'>(</span><span class='id value'>value</span><span class='period'>.</span><span class='id to_path'>to_path</span><span class='rparen'>)</span> <span class='op'>:</span>
      <span class='kw'>nil</span>

    <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id boundary'>boundary</span><span class='rbrace'>}</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id filename'>filename</span>
      <span class='id filename'>filename</span> <span class='op'>=</span> <span class='id quote_string'>quote_string</span><span class='lparen'>(</span><span class='id filename'>filename</span><span class='comma'>,</span> <span class='id charset'>charset</span><span class='rparen'>)</span>
      <span class='id type'>type</span> <span class='op'>=</span> <span class='id h'>h</span><span class='lbracket'>[</span><span class='symbol'>:content_type</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/octet-stream</span><span class='tstring_end'>'</span></span>
      <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Disposition: form-data; </span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id key'>key</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;; filename=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id filename'>filename</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;\r\n</span><span class='tstring_end'>&quot;</span></span> \
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Type: </span><span class='embexpr_beg'>#{</span><span class='id type'>type</span><span class='rbrace'>}</span><span class='tstring_content'>\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id out'>out</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:write</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='op'>!</span><span class='id value'>value</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span>
        <span class='comment'># if +out+ is not an IO or +value+ is not an IO
</span>        <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id value'>value</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id value'>value</span><span class='period'>.</span><span class='id read'>read</span> <span class='op'>:</span> <span class='id value'>value</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id value'>value</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:size</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id chunked_p'>chunked_p</span>
        <span class='comment'># if +out+ is an IO and +value+ is a File, use IO.copy_stream
</span>        <span class='id flush_buffer'>flush_buffer</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id buf'>buf</span><span class='comma'>,</span> <span class='id chunked_p'>chunked_p</span><span class='rparen'>)</span>
        <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x\r\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id value'>value</span><span class='period'>.</span><span class='id size'>size</span> <span class='kw'>if</span> <span class='id chunked_p'>chunked_p</span>
        <span class='const'>IO</span><span class='period'>.</span><span class='id copy_stream'>copy_stream</span><span class='lparen'>(</span><span class='id value'>value</span><span class='comma'>,</span> <span class='id out'>out</span><span class='rparen'>)</span>
        <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id chunked_p'>chunked_p</span>
      <span class='kw'>else</span>
        <span class='comment'># +out+ is an IO, and +value+ is not a File but an IO
</span>        <span class='id flush_buffer'>flush_buffer</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id buf'>buf</span><span class='comma'>,</span> <span class='id chunked_p'>chunked_p</span><span class='rparen'>)</span>
        <span class='int'>1</span> <span class='kw'>while</span> <span class='id flush_buffer'>flush_buffer</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id value'>value</span><span class='period'>.</span><span class='id read'>read</span><span class='lparen'>(</span><span class='int'>4096</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id chunked_p'>chunked_p</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='comment'># non-file field:
</span>      <span class='comment'>#   HTML5 says, &quot;The parts of the generated multipart/form-data
</span>      <span class='comment'>#   resource that correspond to non-file fields must not have a
</span>      <span class='comment'>#   Content-Type header specified.&quot;
</span>      <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Disposition: form-data; name=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id key'>key</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id value'>value</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id value'>value</span><span class='period'>.</span><span class='id read'>read</span> <span class='op'>:</span> <span class='id value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id boundary'>boundary</span><span class='rbrace'>}</span><span class='tstring_content'>--\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id flush_buffer'>flush_buffer</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id buf'>buf</span><span class='comma'>,</span> <span class='id chunked_p'>chunked_p</span><span class='rparen'>)</span>
  <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0\r\n\r\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id chunked_p'>chunked_p</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="exec-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>exec</strong>(sock, ver, path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>write</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1921
1922
1923
1924
1925
1926
1927
1928
1929
1930
1931</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1921</span>

<span class='kw'>def</span> <span class='id exec'>exec</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='rparen'>)</span>   <span class='comment'>#:nodoc: internal use only
</span>  <span class='kw'>if</span> <span class='ivar'>@body</span>
    <span class='id send_request_with_body'>send_request_with_body</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='ivar'>@body</span>
  <span class='kw'>elsif</span> <span class='ivar'>@body_stream</span>
    <span class='id send_request_with_body_stream'>send_request_with_body_stream</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='ivar'>@body_stream</span>
  <span class='kw'>elsif</span> <span class='ivar'>@body_data</span>
    <span class='id send_request_with_body_data'>send_request_with_body_data</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='ivar'>@body_data</span>
  <span class='kw'>else</span>
    <span class='id write_header'>write_header</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="flush_buffer-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>flush_buffer</strong>(out, buf, chunked_p) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2045
2046
2047
2048
2049
2050
2051</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 2045</span>

<span class='kw'>def</span> <span class='id flush_buffer'>flush_buffer</span><span class='lparen'>(</span><span class='id out'>out</span><span class='comma'>,</span> <span class='id buf'>buf</span><span class='comma'>,</span> <span class='id chunked_p'>chunked_p</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id buf'>buf</span>
  <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x\r\n</span><span class='tstring_end'>&quot;</span></span><span class='op'>%</span><span class='id buf'>buf</span><span class='period'>.</span><span class='id bytesize'>bytesize</span> <span class='kw'>if</span> <span class='id chunked_p'>chunked_p</span>
  <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='id buf'>buf</span>
  <span class='id out'>out</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id chunked_p'>chunked_p</span>
  <span class='id buf'>buf</span><span class='period'>.</span><span class='id clear'>clear</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1877
1878
1879</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1877</span>

<span class='kw'>def</span> <span class='id inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@method</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="quote_string-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>quote_string</strong>(str, charset) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2040
2041
2042
2043</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 2040</span>

<span class='kw'>def</span> <span class='id quote_string'>quote_string</span><span class='lparen'>(</span><span class='id str'>str</span><span class='comma'>,</span> <span class='id charset'>charset</span><span class='rparen'>)</span>
  <span class='id str'>str</span> <span class='op'>=</span> <span class='id str'>str</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='id charset'>charset</span><span class='comma'>,</span> <span class='label'>fallback:</span><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id c'>c</span><span class='rparen'>)</span><span class='tlambeg'>{</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;#%d;</span><span class='tstring_end'>'</span></span><span class='op'>%</span><span class='id c'>c</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id ord'>ord</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id charset'>charset</span>
  <span class='id str'>str</span> <span class='op'>=</span> <span class='id str'>str</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\\&quot;]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>\\\\\&amp;</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="request_body_permitted?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>request_body_permitted?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1881
1882
1883</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1881</span>

<span class='kw'>def</span> <span class='id request_body_permitted?'>request_body_permitted?</span>
  <span class='ivar'>@request_has_body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="response_body_permitted?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>response_body_permitted?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1885
1886
1887</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1885</span>

<span class='kw'>def</span> <span class='id response_body_permitted?'>response_body_permitted?</span>
  <span class='ivar'>@response_has_body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send_request_with_body-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>send_request_with_body</strong>(sock, ver, path, body) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1935
1936
1937
1938
1939
1940
1941
1942</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1935</span>

<span class='kw'>def</span> <span class='id send_request_with_body'>send_request_with_body</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id body'>body</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id content_length'>content_length</span> <span class='op'>=</span> <span class='id body'>body</span><span class='period'>.</span><span class='id bytesize'>bytesize</span>
  <span class='id delete'>delete</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Transfer-Encoding</span><span class='tstring_end'>'</span></span>
  <span class='id supply_default_content_type'>supply_default_content_type</span>
  <span class='id write_header'>write_header</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span>
  <span class='id wait_for_continue'>wait_for_continue</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span> <span class='kw'>if</span> <span class='id sock'>sock</span><span class='period'>.</span><span class='id continue_timeout'>continue_timeout</span>
  <span class='id sock'>sock</span><span class='period'>.</span><span class='id write'>write</span> <span class='id body'>body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send_request_with_body_data-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>send_request_with_body_data</strong>(sock, ver, path, params) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1964
1965
1966
1967
1968
1969
1970
1971
1972
1973
1974
1975
1976
1977
1978
1979
1980
1981
1982
1983
1984
1985
1986
1987</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1964</span>

<span class='kw'>def</span> <span class='id send_request_with_body_data'>send_request_with_body_data</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id params'>params</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\Amultipart\/form-data\z</span><span class='regexp_end'>/i</span></span> <span class='op'>!~</span> <span class='kw'>self</span><span class='period'>.</span><span class='id content_type'>content_type</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id content_type'>content_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/x-www-form-urlencoded</span><span class='tstring_end'>'</span></span>
    <span class='kw'>return</span> <span class='id send_request_with_body'>send_request_with_body</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='const'>URI</span><span class='period'>.</span><span class='id encode_www_form'>encode_www_form</span><span class='lparen'>(</span><span class='id params'>params</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id opt'>opt</span> <span class='op'>=</span> <span class='ivar'>@form_option</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>securerandom</span><span class='tstring_end'>'</span></span> <span class='kw'>unless</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>SecureRandom</span><span class='rparen'>)</span>
  <span class='id opt'>opt</span><span class='lbracket'>[</span><span class='symbol'>:boundary</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SecureRandom</span><span class='period'>.</span><span class='id urlsafe_base64'>urlsafe_base64</span><span class='lparen'>(</span><span class='int'>40</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id set_content_type'>set_content_type</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id content_type'>content_type</span><span class='comma'>,</span> <span class='label'>boundary:</span> <span class='id opt'>opt</span><span class='lbracket'>[</span><span class='symbol'>:boundary</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id chunked?'>chunked?</span>
    <span class='id write_header'>write_header</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span>
    <span class='id encode_multipart_form_data'>encode_multipart_form_data</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id params'>params</span><span class='comma'>,</span> <span class='id opt'>opt</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>tempfile</span><span class='tstring_end'>'</span></span>
    <span class='id file'>file</span> <span class='op'>=</span> <span class='const'>Tempfile</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>multipart</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='id file'>file</span><span class='period'>.</span><span class='id binmode'>binmode</span>
    <span class='id encode_multipart_form_data'>encode_multipart_form_data</span><span class='lparen'>(</span><span class='id file'>file</span><span class='comma'>,</span> <span class='id params'>params</span><span class='comma'>,</span> <span class='id opt'>opt</span><span class='rparen'>)</span>
    <span class='id file'>file</span><span class='period'>.</span><span class='id rewind'>rewind</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id content_length'>content_length</span> <span class='op'>=</span> <span class='id file'>file</span><span class='period'>.</span><span class='id size'>size</span>
    <span class='id write_header'>write_header</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span>
    <span class='const'>IO</span><span class='period'>.</span><span class='id copy_stream'>copy_stream</span><span class='lparen'>(</span><span class='id file'>file</span><span class='comma'>,</span> <span class='id sock'>sock</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send_request_with_body_stream-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>send_request_with_body_stream</strong>(sock, ver, path, f) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1944
1945
1946
1947
1948
1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959
1960
1961
1962</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1944</span>

<span class='kw'>def</span> <span class='id send_request_with_body_stream'>send_request_with_body_stream</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id f'>f</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id content_length'>content_length</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='id chunked?'>chunked?</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Length not given and Transfer-Encoding is not `chunked'</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id supply_default_content_type'>supply_default_content_type</span>
  <span class='id write_header'>write_header</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span>
  <span class='id wait_for_continue'>wait_for_continue</span> <span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span> <span class='kw'>if</span> <span class='id sock'>sock</span><span class='period'>.</span><span class='id continue_timeout'>continue_timeout</span>
  <span class='kw'>if</span> <span class='id chunked?'>chunked?</span>
    <span class='kw'>while</span> <span class='id s'>s</span> <span class='op'>=</span> <span class='id f'>f</span><span class='period'>.</span><span class='id read'>read</span><span class='lparen'>(</span><span class='int'>1024</span><span class='rparen'>)</span>
      <span class='id sock'>sock</span><span class='period'>.</span><span class='id write'>write</span><span class='lparen'>(</span><span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x\r\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id s'>s</span><span class='period'>.</span><span class='id length'>length</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id sock'>sock</span><span class='period'>.</span><span class='id write'>write</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0\r\n\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>while</span> <span class='id s'>s</span> <span class='op'>=</span> <span class='id f'>f</span><span class='period'>.</span><span class='id read'>read</span><span class='lparen'>(</span><span class='int'>1024</span><span class='rparen'>)</span>
      <span class='id sock'>sock</span><span class='period'>.</span><span class='id write'>write</span> <span class='id s'>s</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_body_internal-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>set_body_internal</strong>(str) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc: internal use only</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1912
1913
1914
1915</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 1912</span>

<span class='kw'>def</span> <span class='id set_body_internal'>set_body_internal</span><span class='lparen'>(</span><span class='id str'>str</span><span class='rparen'>)</span>   <span class='comment'>#:nodoc: internal use only
</span>  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>both of body argument and HTTPRequest#body set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id str'>str</span> <span class='kw'>and</span> <span class='lparen'>(</span><span class='ivar'>@body</span> <span class='kw'>or</span> <span class='ivar'>@body_stream</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id body'>body</span> <span class='op'>=</span> <span class='id str'>str</span> <span class='kw'>if</span> <span class='id str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="supply_default_content_type-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>supply_default_content_type</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2053
2054
2055
2056
2057</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 2053</span>

<span class='kw'>def</span> <span class='id supply_default_content_type'>supply_default_content_type</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id content_type'>content_type</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>net/http: warning: Content-Type did not set; using application/x-www-form-urlencoded</span><span class='tstring_end'>'</span></span> <span class='kw'>if</span> <span class='gvar'>$VERBOSE</span>
  <span class='id set_content_type'>set_content_type</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/x-www-form-urlencoded</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="wait_for_continue-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>wait_for_continue</strong>(sock, ver) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Waits up to the continue timeout for a response from the server provided
we're speaking HTTP 1.1 and are expecting a 100-continue response.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2063
2064
2065
2066
2067
2068
2069
2070
2071
2072
2073</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 2063</span>

<span class='kw'>def</span> <span class='id wait_for_continue'>wait_for_continue</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id ver'>ver</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1.1</span><span class='tstring_end'>'</span></span> <span class='kw'>and</span> <span class='ivar'>@header</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>expect</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='kw'>and</span>
      <span class='ivar'>@header</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>expect</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>100-continue</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='const'>IO</span><span class='period'>.</span><span class='id select'>select</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id sock'>sock</span><span class='period'>.</span><span class='id io'>io</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id sock'>sock</span><span class='period'>.</span><span class='id continue_timeout'>continue_timeout</span><span class='rparen'>)</span>
      <span class='id res'>res</span> <span class='op'>=</span> <span class='const'>HTTPResponse</span><span class='period'>.</span><span class='id read_new'>read_new</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='rparen'>)</span>
      <span class='kw'>unless</span> <span class='id res'>res</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTPContinue</span><span class='rparen'>)</span>
        <span class='id throw'>throw</span> <span class='symbol'>:response</span><span class='comma'>,</span> <span class='id res'>res</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_header-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_header</strong>(sock, ver, path) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2075
2076
2077
2078
2079
2080
2081
2082</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/net/http.rb', line 2075</span>

<span class='kw'>def</span> <span class='id write_header'>write_header</span><span class='lparen'>(</span><span class='id sock'>sock</span><span class='comma'>,</span> <span class='id ver'>ver</span><span class='comma'>,</span> <span class='id path'>path</span><span class='rparen'>)</span>
  <span class='id buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@method</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id path'>path</span><span class='rbrace'>}</span><span class='tstring_content'> HTTP/</span><span class='embexpr_beg'>#{</span><span class='id ver'>ver</span><span class='rbrace'>}</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id each_capitalized'>each_capitalized</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id k'>k</span><span class='comma'>,</span><span class='id v'>v</span><span class='op'>|</span>
    <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id k'>k</span><span class='rbrace'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id v'>v</span><span class='rbrace'>}</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id sock'>sock</span><span class='period'>.</span><span class='id write'>write</span> <span class='id buf'>buf</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:41 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>