<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Time
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo; 
    
    
    <span class="title">Time</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Time
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Time</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/time.rb<span class="defines">,<br />
  lib/rss/rss.rb,<br /> lib/rake/ext/time.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>-- Extensions to time to allow comparisons with an early time class.</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ZoneOffset-constant" class="">ZoneOffset =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTC</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='comment'># ISO 8601
</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Z</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='comment'># RFC 822
</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>GMT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>EST</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>EDT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>CST</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>CDT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>MST</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>MDT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PST</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PDT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span>
  <span class='comment'># Following definition of military zones is original one.
</span>  <span class='comment'># See RFC 1123 and RFC 2822 for the error in RFC 822.
</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>A</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>B</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>C</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>D</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+4</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>E</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+5</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>F</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>G</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>H</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>I</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>K</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>L</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>M</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>+12</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>N</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>O</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>P</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Q</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>4</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>R</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>S</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>T</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>U</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>V</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>W</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>X</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Y</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='op'>-</span><span class='int'>12</span><span class='comma'>,</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="LeapYearMonthDays-constant" class="">LeapYearMonthDays =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='int'>31</span><span class='comma'>,</span> <span class='int'>29</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="CommonYearMonthDays-constant" class="">CommonYearMonthDays =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='int'>31</span><span class='comma'>,</span> <span class='int'>28</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>31</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="MonthValue-constant" class="">MonthValue =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>JAN</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>FEB</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>MAR</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>APR</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>MAY</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>JUN</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>6</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>JUL</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>7</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>AUG</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>8</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>SEP</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='int'>9</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>OCT</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span><span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>NOV</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span><span class='int'>11</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>DEC</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span><span class='int'>12</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="RFC2822_DAY_NAME-constant" class="">RFC2822_DAY_NAME =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Sun</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Mon</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Tue</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Wed</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Thu</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Fri</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Sat</span><span class='tstring_end'>'</span></span>
<span class='rbracket'>]</span></pre></dd>
      
        <dt id="RFC2822_MONTH_NAME-constant" class="">RFC2822_MONTH_NAME =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Jan</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Feb</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Mar</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Apr</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>May</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Jun</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Jul</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Aug</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Sep</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Oct</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Nov</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Dec</span><span class='tstring_end'>'</span></span>
<span class='rbracket'>]</span></pre></dd>
      
    </dl>
  





  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#httpdate-class_method" title="httpdate (class method)">+ (Object) <strong>httpdate</strong>(date) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#iso8601-class_method" title="iso8601 (class method)">+ (Object) <strong>iso8601</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-class_method" title="parse (class method)">+ (Object) <strong>parse</strong>(date, now = self.now) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> using Date._parse and converts it to a Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rfc2822-class_method" title="rfc2822 (class method)">+ (Object) <strong>rfc2822</strong>(date) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rfc822-class_method" title="rfc822 (class method)">+ (Object) <strong>rfc822</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strptime-class_method" title="strptime (class method)">+ (Object) <strong>strptime</strong>(date, format, now = self.now) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> using Date._strptime and converts it to a Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xmlschema-class_method" title="xmlschema (class method)">+ (Object) <strong>xmlschema</strong>(date) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zone_offset-class_method" title="zone_offset (class method)">+ (Object) <strong>zone_offset</strong>(zone, year = self.now.year) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">- (Object) <strong>&lt;=&gt;</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#httpdate-instance_method" title="#httpdate (instance method)">- (Object) <strong>httpdate</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rake_original_time_compare-instance_method" title="#rake_original_time_compare (instance method)">- (Object) <strong>rake_original_time_compare</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rfc2822-instance_method" title="#rfc2822 (instance method)">- (Object) <strong>rfc2822</strong> </a>
    

    
      (also: #rfc822)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string which represents the time as date-time defined by RFC
2822:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#w3cdtf-instance_method" title="#w3cdtf (instance method)">- (Object) <strong>w3cdtf</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xmlschema-instance_method" title="#xmlschema (instance method)">- (Object) <strong>xmlschema</strong>(fraction_digits = 0) </a>
    

    
      (also: #iso8601)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string which represents the time as dateTime defined by XML
Schema:.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="httpdate-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>httpdate</strong>(date) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
Time object.</p>

<p>ArgumentError is raised if <tt>date</tt> is not compliant with RFC 2616 or
Time class cannot represent specified date.</p>

<p>See #httpdate for more information on this format.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 361</span>

<span class='kw'>def</span> <span class='id httpdate'>httpdate</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20
      (\d{2})\x20
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
      (\d{4})\x20
      (\d{2}):(\d{2}):(\d{2})\x20
      GMT
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
         (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20
         (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         GMT
         \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='id year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='kw'>if</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
      <span class='id year'>year</span> <span class='op'>+=</span> <span class='int'>2000</span>
    <span class='kw'>else</span>
      <span class='id year'>year</span> <span class='op'>+=</span> <span class='int'>1900</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='backref'>$2</span><span class='comma'>,</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
         (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20
         (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
         (\d\d|\x20\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         (\d{4})
         \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='period'>.</span><span class='id upcase'>upcase</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span>
             <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='comma'>,</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2616 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="iso8601-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>iso8601</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object.  The format is restricted version of the format defined by ISO
8601.</p>

<p>ArgumentError is raised if <tt>date</tt> is not compliant with the format
or Time class cannot represent specified date.</p>

<p>See #xmlschema for more information on this format.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 442</span>

<span class='kw'>def</span> <span class='id xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (-?\d+)-(\d\d)-(\d\d)
      T
      (\d\d):(\d\d):(\d\d)
      (\.\d+)?
      (Z|[+-]\d\d:\d\d)?
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='id year'>year</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id mon'>mon</span> <span class='op'>=</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id day'>day</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id usec'>usec</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='backref'>$7</span>
      <span class='id usec'>usec</span> <span class='op'>=</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='backref'>$7</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000000</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='backref'>$8</span>
      <span class='id zone'>zone</span> <span class='op'>=</span> <span class='backref'>$8</span>
      <span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span> <span class='op'>=</span>
        <span class='id apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id local'>local</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid date: </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parse-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>parse</strong>(date, now = self.now) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> using Date._parse and converts it to a Time object.</p>

<p>If a block is given, the year described in <tt>date</tt> is converted by
the block.  For example:</p>

<pre class="code">Time.parse(...) {|y| 0 &lt;= y &amp;&amp; y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}</pre>

<p>If the upper components of the given time are broken or missing, they are
supplied with those of <tt>now</tt>.  For the lower components, the minimum
values (1 or 0) are assumed if broken or missing.  For example:</p>

<pre class="code"><span class='comment'># Suppose it is &quot;Thu Nov 29 14:33:20 GMT 2001&quot; now and
</span><span class='comment'># your timezone is GMT:
</span><span class='id now'>now</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Thu Nov 29 14:33:20 GMT 2001</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>16:30</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; 2001-11-29 16:30:00 +0900
</span><span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>7/23</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; 2001-07-23 00:00:00 +0900
</span><span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Aug 31</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 2001-08-31 00:00:00 +0900
</span><span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Aug 2000</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; 2000-08-01 00:00:00 +0900</span></pre>

<p>Since there are numerous conflicts among locally defined timezone
abbreviations all over the world, this method is not made to understand all
of them.  For example, the abbreviation "CST" is used variously as:</p>

<pre class="code">-06:00 in America/Chicago,
-05:00 in America/Havana,
+08:00 in Asia/Harbin,
+09:30 in Australia/Darwin,
+10:30 in Australia/Adelaide,
etc.</pre>

<p>Based on the fact, this method only understands the timezone abbreviations
described in RFC 822 and the system timezone, in the order named. (i.e. a
definition in RFC 822 overrides the system timezone definition.)  The
system timezone is taken from <tt>Time.local(year, 1, 1).zone</tt> and
<tt>Time.local(year, 7, 1).zone</tt>. If the extracted timezone
abbreviation does not match any of them, it is ignored and the given time
is regarded as a local time.</p>

<p>ArgumentError is raised if Date._parse cannot extract information from
<tt>date</tt> or Time class cannot represent specified date.</p>

<p>This method can be used as fail-safe for other parsing methods as:</p>

<pre class="code"><span class='const'>Time</span><span class='period'>.</span><span class='id rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id httpdate'>httpdate</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
<span class='const'>Time</span><span class='period'>.</span><span class='id xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='const'>Time</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span></pre>

<p>A failure for Time.parse should be checked, though.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 263</span>

<span class='kw'>def</span> <span class='id parse'>parse</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id now'>now</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id now'>now</span><span class='rparen'>)</span>
  <span class='id comp'>comp</span> <span class='op'>=</span> <span class='op'>!</span><span class='id block_given?'>block_given?</span>
  <span class='id d'>d</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id _parse'>_parse</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id comp'>comp</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mon</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mday</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no time information in </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id year'>year</span> <span class='op'>=</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span>
  <span class='id year'>year</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id year'>year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id year'>year</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id comp'>comp</span>
  <span class='id make_time'>make_time</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mon</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mday</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:zone</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rfc2822-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rfc2822</strong>(date) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object.  The format is identical to the date format defined by RFC 822
and updated by RFC 1123.</p>

<p>ArgumentError is raised if <tt>date</tt> is not compliant with RFC 2822 or
Time class cannot represent specified date.</p>

<p>See #rfc2822 for more information on this format.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 308</span>

<span class='kw'>def</span> <span class='id rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
      (\d{1,2})\s+
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
      (\d{2,})\s+
      (\d{2})\s*
      :\s*(\d{2})\s*
      (?::\s*(\d{2}))?\s+
      ([+-]\d{4}|
       UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='comment'># Since RFC 2822 permit comments, the regexp has no right anchor.
</span>    <span class='id day'>day</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id mon'>mon</span> <span class='op'>=</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$2</span><span class='period'>.</span><span class='id upcase'>upcase</span><span class='rbracket'>]</span>
    <span class='id year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span> <span class='op'>?</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='op'>:</span> <span class='int'>0</span>
    <span class='id zone'>zone</span> <span class='op'>=</span> <span class='backref'>$7</span>

    <span class='comment'># following year completion is compliant with RFC 2822.
</span>    <span class='id year'>year</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
             <span class='int'>2000</span> <span class='op'>+</span> <span class='id year'>year</span>
           <span class='kw'>elsif</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>1000</span>
             <span class='int'>1900</span> <span class='op'>+</span> <span class='id year'>year</span>
           <span class='kw'>else</span>
             <span class='id year'>year</span>
           <span class='kw'>end</span>

    <span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span> <span class='op'>=</span>
      <span class='id apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='rparen'>)</span>
    <span class='id t'>t</span><span class='period'>.</span><span class='id localtime'>localtime</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id zone_utc?'>zone_utc?</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span>
    <span class='id t'>t</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2822 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rfc822-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rfc822</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object.  The format is identical to the date format defined by RFC 822
and updated by RFC 1123.</p>

<p>ArgumentError is raised if <tt>date</tt> is not compliant with RFC 2822 or
Time class cannot represent specified date.</p>

<p>See #rfc2822 for more information on this format.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 346</span>

<span class='kw'>def</span> <span class='id rfc2822'>rfc2822</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
      (\d{1,2})\s+
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
      (\d{2,})\s+
      (\d{2})\s*
      :\s*(\d{2})\s*
      (?::\s*(\d{2}))?\s+
      ([+-]\d{4}|
       UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='comment'># Since RFC 2822 permit comments, the regexp has no right anchor.
</span>    <span class='id day'>day</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id mon'>mon</span> <span class='op'>=</span> <span class='const'>MonthValue</span><span class='lbracket'>[</span><span class='backref'>$2</span><span class='period'>.</span><span class='id upcase'>upcase</span><span class='rbracket'>]</span>
    <span class='id year'>year</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span> <span class='op'>?</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='op'>:</span> <span class='int'>0</span>
    <span class='id zone'>zone</span> <span class='op'>=</span> <span class='backref'>$7</span>

    <span class='comment'># following year completion is compliant with RFC 2822.
</span>    <span class='id year'>year</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>50</span>
             <span class='int'>2000</span> <span class='op'>+</span> <span class='id year'>year</span>
           <span class='kw'>elsif</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>1000</span>
             <span class='int'>1900</span> <span class='op'>+</span> <span class='id year'>year</span>
           <span class='kw'>else</span>
             <span class='id year'>year</span>
           <span class='kw'>end</span>

    <span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span> <span class='op'>=</span>
      <span class='id apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='rparen'>)</span>
    <span class='id t'>t</span><span class='period'>.</span><span class='id localtime'>localtime</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id zone_utc?'>zone_utc?</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span>
    <span class='id t'>t</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not RFC 2822 compliant date: </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="strptime-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>strptime</strong>(date, format, now = self.now) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> using Date._strptime and converts it to a Time object.</p>

<p>If a block is given, the year described in <tt>date</tt> is converted by
the block.  For example:</p>

<pre class="code">Time.strptime(...) {|y| y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}</pre>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 281</span>

<span class='kw'>def</span> <span class='id strptime'>strptime</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id format'>format</span><span class='comma'>,</span> <span class='id now'>now</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id now'>now</span><span class='rparen'>)</span>
  <span class='id d'>d</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id _strptime'>_strptime</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id format'>format</span><span class='rparen'>)</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid strptime format - `</span><span class='embexpr_beg'>#{</span><span class='id format'>format</span><span class='rbrace'>}</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id d'>d</span>
  <span class='id year'>year</span> <span class='op'>=</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span>
  <span class='id year'>year</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id year'>year</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id year'>year</span> <span class='op'>&amp;&amp;</span> <span class='id block_given?'>block_given?</span>
  <span class='id make_time'>make_time</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mon</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:mday</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:hour</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:sec_fraction</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id d'>d</span><span class='lbracket'>[</span><span class='symbol'>:zone</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id now'>now</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xmlschema-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>xmlschema</strong>(date) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object.  The format is restricted version of the format defined by ISO
8601.</p>

<p>ArgumentError is raised if <tt>date</tt> is not compliant with the format
or Time class cannot represent specified date.</p>

<p>See #xmlschema for more information on this format.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 412</span>

<span class='kw'>def</span> <span class='id xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id date'>date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*
      (-?\d+)-(\d\d)-(\d\d)
      T
      (\d\d):(\d\d):(\d\d)
      (\.\d+)?
      (Z|[+-]\d\d:\d\d)?
      \s*\z</span><span class='regexp_end'>/ix</span></span> <span class='op'>=~</span> <span class='id date'>date</span>
    <span class='id year'>year</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id mon'>mon</span> <span class='op'>=</span> <span class='backref'>$2</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id day'>day</span> <span class='op'>=</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id hour'>hour</span> <span class='op'>=</span> <span class='backref'>$4</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id min'>min</span> <span class='op'>=</span> <span class='backref'>$5</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id sec'>sec</span> <span class='op'>=</span> <span class='backref'>$6</span><span class='period'>.</span><span class='id to_i'>to_i</span>
    <span class='id usec'>usec</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>if</span> <span class='backref'>$7</span>
      <span class='id usec'>usec</span> <span class='op'>=</span> <span class='const'>Rational</span><span class='lparen'>(</span><span class='backref'>$7</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000000</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='backref'>$8</span>
      <span class='id zone'>zone</span> <span class='op'>=</span> <span class='backref'>$8</span>
      <span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span> <span class='op'>=</span>
        <span class='id apply_offset'>apply_offset</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id utc'>utc</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id local'>local</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='comma'>,</span> <span class='id usec'>usec</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid date: </span><span class='embexpr_beg'>#{</span><span class='id date'>date</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="zone_offset-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>zone_offset</strong>(zone, year = self.now.year) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 69</span>

<span class='kw'>def</span> <span class='id zone_offset'>zone_offset</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='comma'>,</span> <span class='id year'>year</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id now'>now</span><span class='period'>.</span><span class='id year'>year</span><span class='rparen'>)</span>
  <span class='id off'>off</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id zone'>zone</span> <span class='op'>=</span> <span class='id zone'>zone</span><span class='period'>.</span><span class='id upcase'>upcase</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A([+-])(\d\d):?(\d\d)\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id zone'>zone</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>-</span><span class='tstring_end'>'</span></span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='backref'>$2</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='op'>*</span> <span class='int'>60</span> <span class='op'>+</span> <span class='backref'>$3</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>60</span>
  <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[+-]\d\d\z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id zone'>zone</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='id zone'>zone</span><span class='period'>.</span><span class='id to_i'>to_i</span> <span class='op'>*</span> <span class='int'>3600</span>
  <span class='kw'>elsif</span> <span class='const'>ZoneOffset</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id zone'>zone</span><span class='rparen'>)</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='const'>ZoneOffset</span><span class='lbracket'>[</span><span class='id zone'>zone</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='int'>3600</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id local'>local</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id zone'>zone</span><span class='period'>.</span><span class='id upcase'>upcase</span> <span class='op'>==</span> <span class='id zone'>zone</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='id t'>t</span><span class='period'>.</span><span class='id utc_offset'>utc_offset</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id t'>t</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id local'>local</span><span class='lparen'>(</span><span class='id year'>year</span><span class='comma'>,</span> <span class='int'>7</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id zone'>zone</span><span class='period'>.</span><span class='id upcase'>upcase</span> <span class='op'>==</span> <span class='id zone'>zone</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='id t'>t</span><span class='period'>.</span><span class='id utc_offset'>utc_offset</span>
  <span class='kw'>end</span>
  <span class='id off'>off</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="<=>-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;=&gt;</strong>(other) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8
9
10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/ext/time.rb', line 6</span>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='id other'>other</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>Rake</span><span class='op'>::</span><span class='const'>EarlyTime</span> <span class='op'>===</span> <span class='id other'>other</span>
    <span class='op'>-</span> <span class='id other'>other</span><span class='period'>.</span><span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id rake_original_time_compare'>rake_original_time_compare</span><span class='lparen'>(</span><span class='id other'>other</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="httpdate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>httpdate</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616:</p>

<pre class="code">day-of-week, DD month-name CCYY hh:mm:ss GMT</pre>

<p>Note that the result is always UTC (GMT).</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


493
494
495
496
497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 493</span>

<span class='kw'>def</span> <span class='id httpdate'>httpdate</span>
  <span class='id t'>t</span> <span class='op'>=</span> <span class='id dup'>dup</span><span class='period'>.</span><span class='id utc'>utc</span>
  <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%s, %02d %s %0*d %02d:%02d:%02d GMT</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='const'>RFC2822_DAY_NAME</span><span class='lbracket'>[</span><span class='id t'>t</span><span class='period'>.</span><span class='id wday'>wday</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='id t'>t</span><span class='period'>.</span><span class='id day'>day</span><span class='comma'>,</span> <span class='const'>RFC2822_MONTH_NAME</span><span class='lbracket'>[</span><span class='id t'>t</span><span class='period'>.</span><span class='id mon'>mon</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id t'>t</span><span class='period'>.</span><span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id t'>t</span><span class='period'>.</span><span class='id year'>year</span><span class='comma'>,</span>
    <span class='id t'>t</span><span class='period'>.</span><span class='id hour'>hour</span><span class='comma'>,</span> <span class='id t'>t</span><span class='period'>.</span><span class='id min'>min</span><span class='comma'>,</span> <span class='id t'>t</span><span class='period'>.</span><span class='id sec'>sec</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rake_original_time_compare-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rake_original_time_compare</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/ext/time.rb', line 5</span>

<span class='kw'>alias</span> <span class='id rake_original_time_compare'>rake_original_time_compare</span> <span class='symbol'>:&lt;=&gt;</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rfc2822-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rfc2822</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='rfc822-instance_method'>rfc822</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as date-time defined by RFC
2822:</p>

<pre class="code">day-of-week, DD month-name CCYY hh:mm:ss zone</pre>

<p>where zone is [+-]hhmm.</p>

<p>If <tt>self</tt> is a UTC time, -0000 is used as zone.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


458
459
460
461
462
463
464
465
466
467
468
469
470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 458</span>

<span class='kw'>def</span> <span class='id rfc2822'>rfc2822</span>
  <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%s, %02d %s %0*d %02d:%02d:%02d </span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='const'>RFC2822_DAY_NAME</span><span class='lbracket'>[</span><span class='id wday'>wday</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='id day'>day</span><span class='comma'>,</span> <span class='const'>RFC2822_MONTH_NAME</span><span class='lbracket'>[</span><span class='id mon'>mon</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id year'>year</span><span class='comma'>,</span>
    <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='rparen'>)</span> <span class='op'>+</span>
  <span class='kw'>if</span> <span class='id utc?'>utc?</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>-0000</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='id utc_offset'>utc_offset</span>
    <span class='id sign'>sign</span> <span class='op'>=</span> <span class='id off'>off</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>-</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>+</span><span class='tstring_end'>'</span></span>
    <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%s%02d%02d</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id sign'>sign</span><span class='comma'>,</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id off'>off</span><span class='period'>.</span><span class='id abs'>abs</span> <span class='op'>/</span> <span class='int'>60</span><span class='rparen'>)</span><span class='period'>.</span><span class='id divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="w3cdtf-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>w3cdtf</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8
9
10
11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rss/rss.rb', line 6</span>

<span class='kw'>def</span> <span class='id w3cdtf'>w3cdtf</span>
  <span class='kw'>if</span> <span class='id usec'>usec</span><span class='period'>.</span><span class='id zero?'>zero?</span>
    <span class='id fraction_digits'>fraction_digits</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>else</span>
    <span class='id fraction_digits'>fraction_digits</span> <span class='op'>=</span> <span class='const'>Math</span><span class='period'>.</span><span class='id log10'>log10</span><span class='lparen'>(</span><span class='id usec'>usec</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>0*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span><span class='period'>.</span><span class='id floor'>floor</span> <span class='op'>+</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='id xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id fraction_digits'>fraction_digits</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xmlschema-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>xmlschema</strong>(fraction_digits = 0) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='iso8601-instance_method'>iso8601</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a string which represents the time as dateTime defined by XML
Schema:</p>

<pre class="code">CCYY-MM-DDThh:mm:ssTZD
CCYY-MM-DDThh:mm:ss.sssTZD</pre>

<p>where TZD is Z or [+-]hh:mm.</p>

<p>If self is a UTC time, Z is used as TZD.  [+-]hh:mm is used otherwise.</p>

<p><tt>fractional_seconds</tt> specifies a number of digits of fractional
seconds. Its default value is 0.</p>

<p>time library should be required to use this method as follows.</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/time.rb', line 519</span>

<span class='kw'>def</span> <span class='id xmlschema'>xmlschema</span><span class='lparen'>(</span><span class='id fraction_digits'>fraction_digits</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%0*d-%02d-%02dT%02d:%02d:%02d</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='id year'>year</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='int'>5</span> <span class='op'>:</span> <span class='int'>4</span><span class='comma'>,</span> <span class='id year'>year</span><span class='comma'>,</span> <span class='id mon'>mon</span><span class='comma'>,</span> <span class='id day'>day</span><span class='comma'>,</span> <span class='id hour'>hour</span><span class='comma'>,</span> <span class='id min'>min</span><span class='comma'>,</span> <span class='id sec'>sec</span><span class='rparen'>)</span> <span class='op'>+</span>
  <span class='kw'>if</span> <span class='id fraction_digits'>fraction_digits</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%0*d</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id fraction_digits'>fraction_digits</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id subsec'>subsec</span> <span class='op'>*</span> <span class='int'>10</span><span class='op'>**</span><span class='id fraction_digits'>fraction_digits</span><span class='rparen'>)</span><span class='period'>.</span><span class='id floor'>floor</span><span class='rparen'>)</span>
  <span class='kw'>end</span> <span class='op'>+</span>
  <span class='kw'>if</span> <span class='id utc?'>utc?</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Z</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span>
    <span class='id off'>off</span> <span class='op'>=</span> <span class='id utc_offset'>utc_offset</span>
    <span class='id sign'>sign</span> <span class='op'>=</span> <span class='id off'>off</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>-</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>+</span><span class='tstring_end'>'</span></span>
    <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%s%02d:%02d</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id sign'>sign</span><span class='comma'>,</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id off'>off</span><span class='period'>.</span><span class='id abs'>abs</span> <span class='op'>/</span> <span class='int'>60</span><span class='rparen'>)</span><span class='period'>.</span><span class='id divmod'>divmod</span><span class='lparen'>(</span><span class='int'>60</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:00 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>