<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: DRb::DRbServer::InvokeMethod
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (I)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../DRb.html" title="DRb (module)">DRb</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../DRbServer.html" title="DRb::DRbServer (class)">DRbServer</a></span></span>
     &raquo; 
    <span class="title">InvokeMethod</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: DRb::DRbServer::InvokeMethod
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">DRb::DRbServer::InvokeMethod</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="InvokeMethod18Mixin.html" title="DRb::DRbServer::InvokeMethod18Mixin (module)">InvokeMethod18Mixin</a></span>, InvokeMethod16Mixin</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/drb/drb.rb<span class="defines">,<br />
  lib/drb/drb.rb,<br /> lib/drb/drb.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  
  


  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_insecure_method-instance_method" title="#check_insecure_method (instance method)">- (Object) <strong>check_insecure_method</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#init_with_client-instance_method" title="#init_with_client (instance method)">- (Object) <strong>init_with_client</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (InvokeMethod) <strong>initialize</strong>(drb_server, client) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of InvokeMethod.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#perform-instance_method" title="#perform (instance method)">- (Object) <strong>perform</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#perform_without_block-instance_method" title="#perform_without_block (instance method)">- (Object) <strong>perform_without_block</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_message-instance_method" title="#setup_message (instance method)">- (Object) <strong>setup_message</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="InvokeMethod18Mixin.html" title="DRb::DRbServer::InvokeMethod18Mixin (module)">InvokeMethod18Mixin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="InvokeMethod18Mixin.html#block_yield-instance_method" title="DRb::DRbServer::InvokeMethod18Mixin#block_yield (method)">#block_yield</a></span>, <span class='object_link'><a href="InvokeMethod18Mixin.html#perform_with_block-instance_method" title="DRb::DRbServer::InvokeMethod18Mixin#perform_with_block (method)">#perform_with_block</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="DRb::DRbServer::InvokeMethod (class)">InvokeMethod</a></span></tt>) <strong>initialize</strong>(drb_server, client) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A new instance of InvokeMethod</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1478
1479
1480
1481
1482</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1478</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id drb_server'>drb_server</span><span class='comma'>,</span> <span class='id client'>client</span><span class='rparen'>)</span>
  <span class='ivar'>@drb_server</span> <span class='op'>=</span> <span class='id drb_server'>drb_server</span>
  <span class='ivar'>@safe_level</span> <span class='op'>=</span> <span class='id drb_server'>drb_server</span><span class='period'>.</span><span class='id safe_level'>safe_level</span>
  <span class='ivar'>@client</span> <span class='op'>=</span> <span class='id client'>client</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="check_insecure_method-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>check_insecure_method</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1530
1531
1532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1530</span>

<span class='kw'>def</span> <span class='id check_insecure_method'>check_insecure_method</span>
  <span class='ivar'>@drb_server</span><span class='period'>.</span><span class='id check_insecure_method'>check_insecure_method</span><span class='lparen'>(</span><span class='ivar'>@obj</span><span class='comma'>,</span> <span class='ivar'>@msg_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="init_with_client-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>init_with_client</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1522
1523
1524
1525
1526
1527
1528</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1522</span>

<span class='kw'>def</span> <span class='id init_with_client'>init_with_client</span>
  <span class='id obj'>obj</span><span class='comma'>,</span> <span class='id msg'>msg</span><span class='comma'>,</span> <span class='id argv'>argv</span><span class='comma'>,</span> <span class='id block'>block</span> <span class='op'>=</span> <span class='ivar'>@client</span><span class='period'>.</span><span class='id recv_request'>recv_request</span>
  <span class='ivar'>@obj</span> <span class='op'>=</span> <span class='id obj'>obj</span>
  <span class='ivar'>@msg_id</span> <span class='op'>=</span> <span class='id msg'>msg</span><span class='period'>.</span><span class='id intern'>intern</span>
  <span class='ivar'>@argv</span> <span class='op'>=</span> <span class='id argv'>argv</span>
  <span class='ivar'>@block</span> <span class='op'>=</span> <span class='id block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="perform-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>perform</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1484</span>

<span class='kw'>def</span> <span class='id perform'>perform</span>
  <span class='ivar'>@result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@succ</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id setup_message'>setup_message</span>

  <span class='kw'>if</span> <span class='gvar'>$SAFE</span> <span class='op'>&lt;</span> <span class='ivar'>@safe_level</span>
    <span class='id info'>info</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>DRb</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='ivar'>@block</span>
      <span class='ivar'>@result</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id new'>new</span> <span class='lbrace'>{</span>
        <span class='const'>Thread</span><span class='period'>.</span><span class='id current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>DRb</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id info'>info</span>
        <span class='gvar'>$SAFE</span> <span class='op'>=</span> <span class='ivar'>@safe_level</span>
        <span class='id perform_with_block'>perform_with_block</span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id value'>value</span>
    <span class='kw'>else</span>
      <span class='ivar'>@result</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id new'>new</span> <span class='lbrace'>{</span>
        <span class='const'>Thread</span><span class='period'>.</span><span class='id current'>current</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>DRb</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id info'>info</span>
        <span class='gvar'>$SAFE</span> <span class='op'>=</span> <span class='ivar'>@safe_level</span>
        <span class='id perform_without_block'>perform_without_block</span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='ivar'>@block</span>
      <span class='ivar'>@result</span> <span class='op'>=</span> <span class='id perform_with_block'>perform_with_block</span>
    <span class='kw'>else</span>
      <span class='ivar'>@result</span> <span class='op'>=</span> <span class='id perform_without_block'>perform_without_block</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@succ</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>if</span> <span class='ivar'>@msg_id</span> <span class='op'>==</span> <span class='symbol'>:to_ary</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@result</span><span class='period'>.</span><span class='id class'>class</span> <span class='op'>==</span> <span class='const'>Array</span>
    <span class='ivar'>@result</span> <span class='op'>=</span> <span class='const'>DRbArray</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='ivar'>@result</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@succ</span><span class='comma'>,</span> <span class='ivar'>@result</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='const'>ScriptError</span><span class='comma'>,</span> <span class='const'>Interrupt</span>
  <span class='ivar'>@result</span> <span class='op'>=</span> <span class='gvar'>$!</span>
  <span class='kw'>return</span> <span class='ivar'>@succ</span><span class='comma'>,</span> <span class='ivar'>@result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="perform_without_block-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>perform_without_block</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1539</span>

<span class='kw'>def</span> <span class='id perform_without_block'>perform_without_block</span>
  <span class='kw'>if</span> <span class='const'>Proc</span> <span class='op'>===</span> <span class='ivar'>@obj</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@msg_id</span> <span class='op'>==</span> <span class='symbol'>:__drb_yield</span>
    <span class='kw'>if</span> <span class='ivar'>@argv</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id ary'>ary</span> <span class='op'>=</span> <span class='ivar'>@argv</span>
    <span class='kw'>else</span>
      <span class='id ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@argv</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id ary'>ary</span><span class='period'>.</span><span class='id collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='ivar'>@obj</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='ivar'>@obj</span><span class='period'>.</span><span class='id __send__'>__send__</span><span class='lparen'>(</span><span class='ivar'>@msg_id</span><span class='comma'>,</span> <span class='op'>*</span><span class='ivar'>@argv</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setup_message-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>setup_message</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1534
1535
1536
1537</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/drb/drb.rb', line 1534</span>

<span class='kw'>def</span> <span class='id setup_message'>setup_message</span>
  <span class='id init_with_client'>init_with_client</span>
  <span class='id check_insecure_method'>check_insecure_method</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:16 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>