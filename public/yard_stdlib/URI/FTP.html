<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: URI::FTP
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../URI.html" title="URI (module)">URI</a></span></span>
     &raquo; 
    <span class="title">FTP</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: URI::FTP
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Generic.html" title="URI::Generic (class)">Generic</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Generic.html" title="URI::Generic (class)">Generic</a></span></li>
          
            <li class="next">URI::FTP</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../OpenURI/OpenRead.html" title="OpenURI::OpenRead (module)">OpenURI::OpenRead</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/uri/ftp.rb<span class="defines">,<br />
  lib/open-uri.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>FTP URI syntax is defined by RFC1738 section 3.2.</p>

<p>This class will be redesigned because of difference of implementations; the
structure of its path. draft-hoffman-ftp-uri-04 is a draft but it is a good
summary about the de facto spec. <a
href="http://tools.ietf.org/html/draft-hoffman-ftp-uri-04">tools.ietf.org/html/draft-hoffman-ftp-uri-04</a></p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DEFAULT_PORT-constant" class="">DEFAULT_PORT =
          <div class="docstring">
  <div class="discussion">
    
<p>A Default port of 21 for URI::FTP</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>21</span></pre></dd>
      
        <dt id="COMPONENT-constant" class="">COMPONENT =
          <div class="docstring">
  <div class="discussion">
    
<p>An Array of the available components for URI::FTP</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='symbol'>:scheme</span><span class='comma'>,</span>
  <span class='symbol'>:userinfo</span><span class='comma'>,</span> <span class='symbol'>:host</span><span class='comma'>,</span> <span class='symbol'>:port</span><span class='comma'>,</span>
  <span class='symbol'>:path</span><span class='comma'>,</span> <span class='symbol'>:typecode</span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
        <dt id="TYPECODE-constant" class="">TYPECODE =
          <div class="docstring">
  <div class="discussion">
    
<p>Typecode is "a", "i" or "d".</p>
<ul><li>
<p>"a" indicates a text file (the FTP command was ASCII)</p>
</li><li>
<p>"i" indicates a binary file (FTP command IMAGE)</p>
</li><li>
<p>"d" indicates the contents of a directory should be displayed</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>a</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>i</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>d</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
        <dt id="TYPECODE_PREFIX-constant" class="">TYPECODE_PREFIX =
          <div class="docstring">
  <div class="discussion">
    
<p>Typecode prefix</p>

<pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>;type=</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>;type=</span><span class='tstring_end'>'</span></span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
    </dl>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants inherited from <span class='object_link'><a href="Generic.html" title="URI::Generic (class)">Generic</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Generic.html#COMPONENT-constant" title="URI::Generic::COMPONENT (constant)">COMPONENT</a></span>, <span class='object_link'><a href="Generic.html#DEFAULT_PORT-constant" title="URI::Generic::DEFAULT_PORT (constant)">DEFAULT_PORT</a></span>, <span class='object_link'><a href="Generic.html#USE_REGISTRY-constant" title="URI::Generic::USE_REGISTRY (constant)">USE_REGISTRY</a></span></p>

  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="../URI.html" title="URI (module)">URI</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../URI.html#DEFAULT_PARSER-constant" title="URI::DEFAULT_PARSER (constant)">DEFAULT_PARSER</a></span>, <span class='object_link'><a href="../URI.html#HTML5ASCIIINCOMPAT-constant" title="URI::HTML5ASCIIINCOMPAT (constant)">HTML5ASCIIINCOMPAT</a></span>, <span class='object_link'><a href="../URI.html#TBLDECWWWCOMP_-constant" title="URI::TBLDECWWWCOMP_ (constant)">TBLDECWWWCOMP_</a></span>, <span class='object_link'><a href="../URI.html#TBLENCWWWCOMP_-constant" title="URI::TBLENCWWWCOMP_ (constant)">TBLENCWWWCOMP_</a></span>, <span class='object_link'><a href="../URI.html#VERSION-constant" title="URI::VERSION (constant)">VERSION</a></span>, <span class='object_link'><a href="../URI.html#VERSION_CODE-constant" title="URI::VERSION_CODE (constant)">VERSION_CODE</a></span>, <span class='object_link'><a href="../URI.html#WFKV_-constant" title="URI::WFKV_ (constant)">WFKV_</a></span></p>

  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#typecode-instance_method" title="#typecode (instance method)">- (Object) <strong>typecode</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>typecode accessor.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  
  
  
  
  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Generic.html" title="URI::Generic (class)">Generic</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Generic.html#fragment-instance_method" title="URI::Generic#fragment (method)">fragment</a></span>, <span class='object_link'><a href="Generic.html#host-instance_method" title="URI::Generic#host (method)">host</a></span>, <span class='object_link'><a href="Generic.html#opaque-instance_method" title="URI::Generic#opaque (method)">opaque</a></span>, <span class='object_link'><a href="Generic.html#path-instance_method" title="URI::Generic#path (method)">path</a></span>, <span class='object_link'><a href="Generic.html#port-instance_method" title="URI::Generic#port (method)">port</a></span>, <span class='object_link'><a href="Generic.html#query-instance_method" title="URI::Generic#query (method)">query</a></span>, <span class='object_link'><a href="Generic.html#registry-instance_method" title="URI::Generic#registry (method)">registry</a></span>, <span class='object_link'><a href="Generic.html#scheme-instance_method" title="URI::Generic#scheme (method)">scheme</a></span></p>

  
  
  
  
  
  
  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="build (class method)">+ (Object) <strong>build</strong>(args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<h2>Description.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new2-class_method" title="new2 (class method)">+ (Object) <strong>new2</strong>(user, password, host, port, path, typecode = nil, arg_check = true) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>alternate initialization Creates a new URI::FTP object.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#buffer_open-instance_method" title="#buffer_open (instance method)">- (Object) <strong>buffer_open</strong>(buf, proxy, options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (FTP) <strong>initialize</strong>(*arg) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<h2>Description.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge-instance_method" title="#merge (instance method)">- (Object) <strong>merge</strong>(oth) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the path from an FTP URI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../OpenURI/OpenRead.html" title="OpenURI::OpenRead (module)">OpenURI::OpenRead</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../OpenURI/OpenRead.html#open-instance_method" title="OpenURI::OpenRead#open (method)">#open</a></span>, <span class='object_link'><a href="../OpenURI/OpenRead.html#read-instance_method" title="OpenURI::OpenRead#read (method)">#read</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Generic.html" title="URI::Generic (class)">Generic</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Generic.html#%3D%3D-instance_method" title="URI::Generic#== (method)">#==</a></span>, <span class='object_link'><a href="Generic.html#absolute%3F-instance_method" title="URI::Generic#absolute? (method)">#absolute?</a></span>, <span class='object_link'><a href="Generic.html#build2-class_method" title="URI::Generic.build2 (method)">build2</a></span>, <span class='object_link'><a href="Generic.html#coerce-instance_method" title="URI::Generic#coerce (method)">#coerce</a></span>, <span class='object_link'><a href="Generic.html#component-class_method" title="URI::Generic.component (method)">component</a></span>, <span class='object_link'><a href="Generic.html#component-instance_method" title="URI::Generic#component (method)">#component</a></span>, <span class='object_link'><a href="Generic.html#default_port-instance_method" title="URI::Generic#default_port (method)">#default_port</a></span>, <span class='object_link'><a href="Generic.html#default_port-class_method" title="URI::Generic.default_port (method)">default_port</a></span>, <span class='object_link'><a href="Generic.html#eql%3F-instance_method" title="URI::Generic#eql? (method)">#eql?</a></span>, <span class='object_link'><a href="Generic.html#find_proxy-instance_method" title="URI::Generic#find_proxy (method)">#find_proxy</a></span>, <span class='object_link'><a href="Generic.html#hash-instance_method" title="URI::Generic#hash (method)">#hash</a></span>, <span class='object_link'><a href="Generic.html#hierarchical%3F-instance_method" title="URI::Generic#hierarchical? (method)">#hierarchical?</a></span>, <span class='object_link'><a href="Generic.html#hostname-instance_method" title="URI::Generic#hostname (method)">#hostname</a></span>, <span class='object_link'><a href="Generic.html#hostname%3D-instance_method" title="URI::Generic#hostname= (method)">#hostname=</a></span>, <span class='object_link'><a href="Generic.html#inspect-instance_method" title="URI::Generic#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Generic.html#merge%21-instance_method" title="URI::Generic#merge! (method)">#merge!</a></span>, <span class='object_link'><a href="Generic.html#normalize-instance_method" title="URI::Generic#normalize (method)">#normalize</a></span>, <span class='object_link'><a href="Generic.html#normalize%21-instance_method" title="URI::Generic#normalize! (method)">#normalize!</a></span>, <span class='object_link'><a href="Generic.html#parser-instance_method" title="URI::Generic#parser (method)">#parser</a></span>, <span class='object_link'><a href="Generic.html#password-instance_method" title="URI::Generic#password (method)">#password</a></span>, <span class='object_link'><a href="Generic.html#password%3D-instance_method" title="URI::Generic#password= (method)">#password=</a></span>, <span class='object_link'><a href="Generic.html#relative%3F-instance_method" title="URI::Generic#relative? (method)">#relative?</a></span>, <span class='object_link'><a href="Generic.html#route_from-instance_method" title="URI::Generic#route_from (method)">#route_from</a></span>, <span class='object_link'><a href="Generic.html#route_to-instance_method" title="URI::Generic#route_to (method)">#route_to</a></span>, <span class='object_link'><a href="Generic.html#select-instance_method" title="URI::Generic#select (method)">#select</a></span>, <span class='object_link'><a href="Generic.html#use_registry-class_method" title="URI::Generic.use_registry (method)">use_registry</a></span>, <span class='object_link'><a href="Generic.html#user-instance_method" title="URI::Generic#user (method)">#user</a></span>, <span class='object_link'><a href="Generic.html#user%3D-instance_method" title="URI::Generic#user= (method)">#user=</a></span>, <span class='object_link'><a href="Generic.html#userinfo-instance_method" title="URI::Generic#userinfo (method)">#userinfo</a></span>, <span class='object_link'><a href="Generic.html#userinfo%3D-instance_method" title="URI::Generic#userinfo= (method)">#userinfo=</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../URI.html" title="URI (module)">URI</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../URI.html#decode_www_form-class_method" title="URI.decode_www_form (method)">decode_www_form</a></span>, <span class='object_link'><a href="../URI.html#decode_www_form_component-class_method" title="URI.decode_www_form_component (method)">decode_www_form_component</a></span>, <span class='object_link'><a href="../URI.html#encode_www_form-class_method" title="URI.encode_www_form (method)">encode_www_form</a></span>, <span class='object_link'><a href="../URI.html#encode_www_form_component-class_method" title="URI.encode_www_form_component (method)">encode_www_form_component</a></span>, <span class='object_link'><a href="../URI.html#extract-class_method" title="URI.extract (method)">extract</a></span>, <span class='object_link'><a href="../URI.html#join-class_method" title="URI.join (method)">join</a></span>, <span class='object_link'><a href="../URI.html#parse-class_method" title="URI.parse (method)">parse</a></span>, <span class='object_link'><a href="../URI.html#regexp-class_method" title="URI.regexp (method)">regexp</a></span>, <span class='object_link'><a href="../URI.html#scheme_list-class_method" title="URI.scheme_list (method)">scheme_list</a></span>, <span class='object_link'><a href="../URI.html#split-class_method" title="URI.split (method)">split</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Escape.html" title="URI::Escape (module)">Escape</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Escape.html#escape-instance_method" title="URI::Escape#escape (method)">#escape</a></span>, <span class='object_link'><a href="Escape.html#unescape-instance_method" title="URI::Escape#unescape (method)">#unescape</a></span></p>

  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="URI::FTP (class)">FTP</a></span></tt>) <strong>initialize</strong>(*arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<h2>Description</h2>

<p>Creates a new URI::FTP object from generic URL components with no syntax
checking.</p>

<p>Unlike build(), this method does not escape the path component as required
by RFC1738; instead it is treated as per RFC2396.</p>

<p>Arguments are <tt>scheme</tt>, <tt>userinfo</tt>, <tt>host</tt>,
<tt>port</tt>, <tt>registry</tt>, <tt>path</tt>, <tt>opaque</tt>,
<tt>query</tt> and <tt>fragment</tt>, in that order.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 137</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id arg'>arg</span><span class='rparen'>)</span>
  <span class='id arg'>arg</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id arg'>arg</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^%2F</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='op'>*</span><span class='id arg'>arg</span><span class='rparen'>)</span>
  <span class='ivar'>@typecode</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id tmp'>tmp</span> <span class='op'>=</span> <span class='ivar'>@path</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='const'>TYPECODE_PREFIX</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id tmp'>tmp</span>
    <span class='id typecode'>typecode</span> <span class='op'>=</span> <span class='ivar'>@path</span><span class='lbracket'>[</span><span class='id tmp'>tmp</span> <span class='op'>+</span> <span class='const'>TYPECODE_PREFIX</span><span class='period'>.</span><span class='id size'>size</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='ivar'>@path</span> <span class='op'>=</span> <span class='ivar'>@path</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id tmp'>tmp</span> <span class='op'>-</span> <span class='int'>1</span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id arg'>arg</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id typecode'>typecode</span> <span class='op'>=</span> <span class='id typecode'>typecode</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id set_typecode'>set_typecode</span><span class='lparen'>(</span><span class='id typecode'>typecode</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="typecode=-instance_method"></span>
      <span id="typecode-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="typecode-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>typecode</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>typecode accessor</p>

<p>see URI::FTP::COMPONENT</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 157</span>

<span class='kw'>def</span> <span class='id typecode'>typecode</span>
  <span class='ivar'>@typecode</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="build-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>build</strong>(args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<h2>Description</h2>

<p>Creates a new URI::FTP object from components, with syntax checking.</p>

<p>The components accepted are <tt>userinfo</tt>, <tt>host</tt>,
<tt>port</tt>, <tt>path</tt> and <tt>typecode</tt>.</p>

<p>The components should be provided either as an Array, or as a Hash with
keys formed by preceding the component names with a colon.</p>

<p>If an Array is used, the components must be passed in the order</p>
<dl class="rdoc-list"><dt>userinfo, host, port, path, typecode</dt>
<dd>
<p>If the path supplied is absolute, it will be escaped in order to make it
absolute in the URI. Examples:</p>

<pre class="code">require 'uri'

uri = URI::FTP.build(['user:password', 'ftp.example.com', nil,
  '/path/file.&gt; zip', 'i'])
puts uri.to_s  -&gt;  ftp://user:password@ftp.example.com/%2Fpath/file.zip;type=a

uri2 = URI::FTP.build({:host =&gt; 'ftp.example.com',
  :path =&gt; 'ruby/src'})
puts uri2.to_s  -&gt;  ftp://ftp.example.com/ruby/src</pre>
</dd></dl>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 100</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id build'>build</span><span class='lparen'>(</span><span class='id args'>args</span><span class='rparen'>)</span>

  <span class='comment'># Fix the incoming path to be generic URL syntax
</span>  <span class='comment'># FTP path  -&gt;  URL path
</span>  <span class='comment'># foo/bar       /foo/bar
</span>  <span class='comment'># /foo/bar      /%2Ffoo/bar
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%2F</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id args'>args</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%2F</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id tmp'>tmp</span> <span class='op'>=</span> <span class='const'>Util</span><span class='op'>::</span><span class='id make_components_hash'>make_components_hash</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id args'>args</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:typecode</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:typecode</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:typecode</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>TYPECODE_PREFIX</span> <span class='op'>+</span> <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:typecode</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id tmp'>tmp</span><span class='lbracket'>[</span><span class='symbol'>:typecode</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='id tmp'>tmp</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new2-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>new2</strong>(user, password, host, port, path, typecode = nil, arg_check = true) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>alternate initialization Creates a new URI::FTP object.</p>

<p>Unlike build(), this method does not escape the path component as required
by RFC1738; instead it is treated as per RFC2396.</p>

<p>Arguments are user, password, host, port, path, typecode, and arg_check, in
that order.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 56</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id new2'>new2</span><span class='lparen'>(</span><span class='id user'>user</span><span class='comma'>,</span> <span class='id password'>password</span><span class='comma'>,</span> <span class='id host'>host</span><span class='comma'>,</span> <span class='id port'>port</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span>
              <span class='id typecode'>typecode</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id arg_check'>arg_check</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id typecode'>typecode</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id typecode'>typecode</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='kw'>if</span> <span class='id typecode'>typecode</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>TYPECODE</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id typecode'>typecode</span><span class='rparen'>)</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad typecode is specified: </span><span class='embexpr_beg'>#{</span><span class='id typecode'>typecode</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># do escape
</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ftp</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
           <span class='lbracket'>[</span><span class='id user'>user</span><span class='comma'>,</span> <span class='id password'>password</span><span class='rbracket'>]</span><span class='comma'>,</span>
           <span class='id host'>host</span><span class='comma'>,</span> <span class='id port'>port</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span>
           <span class='id typecode'>typecode</span> <span class='op'>?</span> <span class='id path'>path</span> <span class='op'>+</span> <span class='const'>TYPECODE_PREFIX</span> <span class='op'>+</span> <span class='id typecode'>typecode</span> <span class='op'>:</span> <span class='id path'>path</span><span class='comma'>,</span>
           <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id arg_check'>arg_check</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="buffer_open-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>buffer_open</strong>(buf, proxy, options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/open-uri.rb', line 776</span>

<span class='kw'>def</span> <span class='id buffer_open'>buffer_open</span><span class='lparen'>(</span><span class='id buf'>buf</span><span class='comma'>,</span> <span class='id proxy'>proxy</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='kw'>if</span> <span class='id proxy'>proxy</span>
    <span class='const'>OpenURI</span><span class='period'>.</span><span class='id open_http'>open_http</span><span class='lparen'>(</span><span class='id buf'>buf</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id proxy'>proxy</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>net/ftp</span><span class='tstring_end'>'</span></span>

  <span class='id path'>path</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id path'>path</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='id path'>path</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\A/</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>%2F</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'># re-encode the beginning slash because uri library decodes it.
</span>  <span class='id directories'>directories</span> <span class='op'>=</span> <span class='id path'>path</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id directories'>directories</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span>
    <span class='id d'>d</span><span class='period'>.</span><span class='id gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%([0-9A-Fa-f][0-9A-Fa-f])</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='lbracket'>[</span><span class='backref'>$1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>H2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
  <span class='kw'>unless</span> <span class='id filename'>filename</span> <span class='op'>=</span> <span class='id directories'>directories</span><span class='period'>.</span><span class='id pop'>pop</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no filename: </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id directories'>directories</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\r\n]</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id d'>d</span>
      <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid directory: </span><span class='embexpr_beg'>#{</span><span class='id d'>d</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\r\n]</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id filename'>filename</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid filename: </span><span class='embexpr_beg'>#{</span><span class='id filename'>filename</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id typecode'>typecode</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id typecode'>typecode</span>
  <span class='kw'>if</span> <span class='id typecode'>typecode</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A[aid]\z</span><span class='regexp_end'>/</span></span> <span class='op'>!~</span> <span class='id typecode'>typecode</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid typecode: </span><span class='embexpr_beg'>#{</span><span class='id typecode'>typecode</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># The access sequence is defined by RFC 1738
</span>  <span class='id ftp'>ftp</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>FTP</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id connect'>connect</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id hostname'>hostname</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id port'>port</span><span class='rparen'>)</span>
  <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id passive'>passive</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:ftp_active_mode</span><span class='rbracket'>]</span>
  <span class='comment'># todo: extract user/passwd from .netrc.
</span>  <span class='id user'>user</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>anonymous</span><span class='tstring_end'>'</span></span>
  <span class='id passwd'>passwd</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id user'>user</span><span class='comma'>,</span> <span class='id passwd'>passwd</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id userinfo'>userinfo</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>:</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id userinfo'>userinfo</span>
  <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id login'>login</span><span class='lparen'>(</span><span class='id user'>user</span><span class='comma'>,</span> <span class='id passwd'>passwd</span><span class='rparen'>)</span>
  <span class='id directories'>directories</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id cwd'>cwd</span><span class='op'>|</span>
    <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CWD </span><span class='embexpr_beg'>#{</span><span class='id cwd'>cwd</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id typecode'>typecode</span>
    <span class='comment'># xxx: typecode D is not handled.
</span>    <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id voidcmd'>voidcmd</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TYPE </span><span class='embexpr_beg'>#{</span><span class='id typecode'>typecode</span><span class='period'>.</span><span class='id upcase'>upcase</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:content_length_proc</span><span class='rbracket'>]</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:content_length_proc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id call'>call</span><span class='lparen'>(</span><span class='id ftp'>ftp</span><span class='period'>.</span><span class='id size'>size</span><span class='lparen'>(</span><span class='id filename'>filename</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id retrbinary'>retrbinary</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RETR </span><span class='embexpr_beg'>#{</span><span class='id filename'>filename</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4096</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id str'>str</span><span class='op'>|</span>
    <span class='id buf'>buf</span> <span class='op'>&lt;&lt;</span> <span class='id str'>str</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:progress_proc</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id call'>call</span><span class='lparen'>(</span><span class='id buf'>buf</span><span class='period'>.</span><span class='id size'>size</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:progress_proc</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
  <span class='id ftp'>ftp</span><span class='period'>.</span><span class='id close'>close</span>
  <span class='id buf'>buf</span><span class='period'>.</span><span class='id io'>io</span><span class='period'>.</span><span class='id rewind'>rewind</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="merge-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>merge</strong>(oth) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 211</span>

<span class='kw'>def</span> <span class='id merge'>merge</span><span class='lparen'>(</span><span class='id oth'>oth</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='id tmp'>tmp</span> <span class='op'>=</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='id oth'>oth</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>self</span> <span class='op'>!=</span> <span class='id tmp'>tmp</span>
    <span class='id tmp'>tmp</span><span class='period'>.</span><span class='id set_typecode'>set_typecode</span><span class='lparen'>(</span><span class='id oth'>oth</span><span class='period'>.</span><span class='id typecode'>typecode</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id tmp'>tmp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the path from an FTP URI.</p>

<p>RFC 1738 specifically states that the path for an FTP URI does not include
the / which separates the URI path from the URI host. Example:</p>

<pre class="code"><span class='id ftp'>ftp</span><span class='symbol'>:/</span><span class='op'>/</span><span class='id ftp'>ftp</span><span class='period'>.</span><span class='id example'>example</span><span class='period'>.</span><span class='id com'>com</span><span class='op'>/</span><span class='id pub'>pub</span><span class='op'>/</span><span class='id ruby'>ruby</span></pre>

<p>The above URI indicates that the client should connect to ftp.example.com
then cd pub/ruby from the initial login directory.</p>

<p>If you want to cd to an absolute directory, you must include an escaped /
(%2F) in the path. Example:</p>

<pre class="code">ftp://ftp.example.com/%2Fpub/ruby</pre>

<p>This method will then return "/pub/ruby"</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 237</span>

<span class='kw'>def</span> <span class='id path'>path</span>
  <span class='kw'>return</span> <span class='ivar'>@path</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^%2F</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_s-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_s</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri/ftp.rb', line 246</span>

<span class='kw'>def</span> <span class='id to_s'>to_s</span>
  <span class='id save_path'>save_path</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='ivar'>@typecode</span>
    <span class='id save_path'>save_path</span> <span class='op'>=</span> <span class='ivar'>@path</span>
    <span class='ivar'>@path</span> <span class='op'>=</span> <span class='ivar'>@path</span> <span class='op'>+</span> <span class='const'>TYPECODE_PREFIX</span> <span class='op'>+</span> <span class='ivar'>@typecode</span>
  <span class='kw'>end</span>
  <span class='id str'>str</span> <span class='op'>=</span> <span class='kw'>super</span>
  <span class='kw'>if</span> <span class='ivar'>@typecode</span>
    <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id save_path'>save_path</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:10:21 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>