<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Date</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./ext/date/date_core_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/date/date_core.c">ext/date/date_core.c</a></li>
          
            <li><a href="./ext/json/lib/json/add/core_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/json/lib/json/add/core.rb">ext/json/lib/json/add/core.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-_httpdate">::_httpdate</a></li>
          
          <li><a href="#method-c-_iso8601">::_iso8601</a></li>
          
          <li><a href="#method-c-_jisx0301">::_jisx0301</a></li>
          
          <li><a href="#method-c-_parse">::_parse</a></li>
          
          <li><a href="#method-c-_rfc2822">::_rfc2822</a></li>
          
          <li><a href="#method-c-_rfc3339">::_rfc3339</a></li>
          
          <li><a href="#method-c-_rfc822">::_rfc822</a></li>
          
          <li><a href="#method-c-_strptime">::_strptime</a></li>
          
          <li><a href="#method-c-_xmlschema">::_xmlschema</a></li>
          
          <li><a href="#method-c-civil">::civil</a></li>
          
          <li><a href="#method-c-commercial">::commercial</a></li>
          
          <li><a href="#method-c-gregorian_leap-3F">::gregorian_leap?</a></li>
          
          <li><a href="#method-c-httpdate">::httpdate</a></li>
          
          <li><a href="#method-c-iso8601">::iso8601</a></li>
          
          <li><a href="#method-c-jd">::jd</a></li>
          
          <li><a href="#method-c-jisx0301">::jisx0301</a></li>
          
          <li><a href="#method-c-json_create">::json_create</a></li>
          
          <li><a href="#method-c-julian_leap-3F">::julian_leap?</a></li>
          
          <li><a href="#method-c-leap-3F">::leap?</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-c-ordinal">::ordinal</a></li>
          
          <li><a href="#method-c-parse">::parse</a></li>
          
          <li><a href="#method-c-rfc2822">::rfc2822</a></li>
          
          <li><a href="#method-c-rfc3339">::rfc3339</a></li>
          
          <li><a href="#method-c-rfc822">::rfc822</a></li>
          
          <li><a href="#method-c-strptime">::strptime</a></li>
          
          <li><a href="#method-c-today">::today</a></li>
          
          <li><a href="#method-c-valid_civil-3F">::valid_civil?</a></li>
          
          <li><a href="#method-c-valid_commercial-3F">::valid_commercial?</a></li>
          
          <li><a href="#method-c-valid_date-3F">::valid_date?</a></li>
          
          <li><a href="#method-c-valid_jd-3F">::valid_jd?</a></li>
          
          <li><a href="#method-c-valid_ordinal-3F">::valid_ordinal?</a></li>
          
          <li><a href="#method-c-xmlschema">::xmlschema</a></li>
          
          <li><a href="#method-i-2B">#+</a></li>
          
          <li><a href="#method-i-2D">#-</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-3C-3D-3E">#<=></a></li>
          
          <li><a href="#method-i-3D-3D-3D">#===</a></li>
          
          <li><a href="#method-i-3E-3E">#>></a></li>
          
          <li><a href="#method-i-ajd">#ajd</a></li>
          
          <li><a href="#method-i-amjd">#amjd</a></li>
          
          <li><a href="#method-i-as_json">#as_json</a></li>
          
          <li><a href="#method-i-asctime">#asctime</a></li>
          
          <li><a href="#method-i-ctime">#ctime</a></li>
          
          <li><a href="#method-i-cwday">#cwday</a></li>
          
          <li><a href="#method-i-cweek">#cweek</a></li>
          
          <li><a href="#method-i-cwyear">#cwyear</a></li>
          
          <li><a href="#method-i-day">#day</a></li>
          
          <li><a href="#method-i-day_fraction">#day_fraction</a></li>
          
          <li><a href="#method-i-downto">#downto</a></li>
          
          <li><a href="#method-i-england">#england</a></li>
          
          <li><a href="#method-i-friday-3F">#friday?</a></li>
          
          <li><a href="#method-i-gregorian">#gregorian</a></li>
          
          <li><a href="#method-i-gregorian-3F">#gregorian?</a></li>
          
          <li><a href="#method-i-httpdate">#httpdate</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-iso8601">#iso8601</a></li>
          
          <li><a href="#method-i-italy">#italy</a></li>
          
          <li><a href="#method-i-jd">#jd</a></li>
          
          <li><a href="#method-i-jisx0301">#jisx0301</a></li>
          
          <li><a href="#method-i-julian">#julian</a></li>
          
          <li><a href="#method-i-julian-3F">#julian?</a></li>
          
          <li><a href="#method-i-ld">#ld</a></li>
          
          <li><a href="#method-i-leap-3F">#leap?</a></li>
          
          <li><a href="#method-i-mday">#mday</a></li>
          
          <li><a href="#method-i-mjd">#mjd</a></li>
          
          <li><a href="#method-i-mon">#mon</a></li>
          
          <li><a href="#method-i-monday-3F">#monday?</a></li>
          
          <li><a href="#method-i-month">#month</a></li>
          
          <li><a href="#method-i-new_start">#new_start</a></li>
          
          <li><a href="#method-i-next">#next</a></li>
          
          <li><a href="#method-i-next_day">#next_day</a></li>
          
          <li><a href="#method-i-next_month">#next_month</a></li>
          
          <li><a href="#method-i-next_year">#next_year</a></li>
          
          <li><a href="#method-i-prev_day">#prev_day</a></li>
          
          <li><a href="#method-i-prev_month">#prev_month</a></li>
          
          <li><a href="#method-i-prev_year">#prev_year</a></li>
          
          <li><a href="#method-i-rfc2822">#rfc2822</a></li>
          
          <li><a href="#method-i-rfc3339">#rfc3339</a></li>
          
          <li><a href="#method-i-rfc822">#rfc822</a></li>
          
          <li><a href="#method-i-saturday-3F">#saturday?</a></li>
          
          <li><a href="#method-i-start">#start</a></li>
          
          <li><a href="#method-i-step">#step</a></li>
          
          <li><a href="#method-i-strftime">#strftime</a></li>
          
          <li><a href="#method-i-succ">#succ</a></li>
          
          <li><a href="#method-i-sunday-3F">#sunday?</a></li>
          
          <li><a href="#method-i-thursday-3F">#thursday?</a></li>
          
          <li><a href="#method-i-to_date">#to_date</a></li>
          
          <li><a href="#method-i-to_datetime">#to_datetime</a></li>
          
          <li><a href="#method-i-to_json">#to_json</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
          <li><a href="#method-i-to_time">#to_time</a></li>
          
          <li><a href="#method-i-tuesday-3F">#tuesday?</a></li>
          
          <li><a href="#method-i-upto">#upto</a></li>
          
          <li><a href="#method-i-wday">#wday</a></li>
          
          <li><a href="#method-i-wednesday-3F">#wednesday?</a></li>
          
          <li><a href="#method-i-xmlschema">#xmlschema</a></li>
          
          <li><a href="#method-i-yday">#yday</a></li>
          
          <li><a href="#method-i-year">#year</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><span class="include">Comparable</span></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./OpenSSL.html">OpenSSL</a></li>
        
          <li><a href="./OpenSSL/ASN1.html">OpenSSL::ASN1</a></li>
        
          <li><a href="./OpenSSL/ASN1/ASN1Data.html">OpenSSL::ASN1::ASN1Data</a></li>
        
          <li><a href="./OpenSSL/ASN1/ASN1Error.html">OpenSSL::ASN1::ASN1Error</a></li>
        
          <li><a href="./OpenSSL/ASN1/Constructive.html">OpenSSL::ASN1::Constructive</a></li>
        
          <li><a href="./OpenSSL/ASN1/Primitive.html">OpenSSL::ASN1::Primitive</a></li>
        
          <li><a href="./OpenSSL/BN.html">OpenSSL::BN</a></li>
        
          <li><a href="./OpenSSL/BNError.html">OpenSSL::BNError</a></li>
        
          <li><a href="./OpenSSL/Buffering.html">OpenSSL::Buffering</a></li>
        
          <li><a href="./OpenSSL/Cipher.html">OpenSSL::Cipher</a></li>
        
          <li><a href="./OpenSSL/Cipher/Cipher.html">OpenSSL::Cipher::Cipher</a></li>
        
          <li><a href="./OpenSSL/Cipher/CipherError.html">OpenSSL::Cipher::CipherError</a></li>
        
          <li><a href="./OpenSSL/Config.html">OpenSSL::Config</a></li>
        
          <li><a href="./OpenSSL/ConfigError.html">OpenSSL::ConfigError</a></li>
        
          <li><a href="./OpenSSL/Digest.html">OpenSSL::Digest</a></li>
        
          <li><a href="./OpenSSL/Digest/Digest.html">OpenSSL::Digest::Digest</a></li>
        
          <li><a href="./OpenSSL/Digest/DigestError.html">OpenSSL::Digest::DigestError</a></li>
        
          <li><a href="./OpenSSL/Engine.html">OpenSSL::Engine</a></li>
        
          <li><a href="./OpenSSL/Engine/EngineError.html">OpenSSL::Engine::EngineError</a></li>
        
          <li><a href="./OpenSSL/HMAC.html">OpenSSL::HMAC</a></li>
        
          <li><a href="./OpenSSL/HMACError.html">OpenSSL::HMACError</a></li>
        
          <li><a href="./OpenSSL/Netscape.html">OpenSSL::Netscape</a></li>
        
          <li><a href="./OpenSSL/Netscape/SPKI.html">OpenSSL::Netscape::SPKI</a></li>
        
          <li><a href="./OpenSSL/Netscape/SPKIError.html">OpenSSL::Netscape::SPKIError</a></li>
        
          <li><a href="./OpenSSL/OCSP.html">OpenSSL::OCSP</a></li>
        
          <li><a href="./OpenSSL/OCSP/BasicResponse.html">OpenSSL::OCSP::BasicResponse</a></li>
        
          <li><a href="./OpenSSL/OCSP/CertificateId.html">OpenSSL::OCSP::CertificateId</a></li>
        
          <li><a href="./OpenSSL/OCSP/OCSPError.html">OpenSSL::OCSP::OCSPError</a></li>
        
          <li><a href="./OpenSSL/OCSP/Request.html">OpenSSL::OCSP::Request</a></li>
        
          <li><a href="./OpenSSL/OCSP/Response.html">OpenSSL::OCSP::Response</a></li>
        
          <li><a href="./OpenSSL/OpenSSLError.html">OpenSSL::OpenSSLError</a></li>
        
          <li><a href="./OpenSSL/PKCS12.html">OpenSSL::PKCS12</a></li>
        
          <li><a href="./OpenSSL/PKCS12/PKCS12Error.html">OpenSSL::PKCS12::PKCS12Error</a></li>
        
          <li><a href="./OpenSSL/PKCS5.html">OpenSSL::PKCS5</a></li>
        
          <li><a href="./OpenSSL/PKCS5/PKCS5Error.html">OpenSSL::PKCS5::PKCS5Error</a></li>
        
          <li><a href="./OpenSSL/PKCS7.html">OpenSSL::PKCS7</a></li>
        
          <li><a href="./OpenSSL/PKCS7/PKCS7Error.html">OpenSSL::PKCS7::PKCS7Error</a></li>
        
          <li><a href="./OpenSSL/PKCS7/RecipientInfo.html">OpenSSL::PKCS7::RecipientInfo</a></li>
        
          <li><a href="./OpenSSL/PKCS7/SignerInfo.html">OpenSSL::PKCS7::SignerInfo</a></li>
        
          <li><a href="./OpenSSL/PKey.html">OpenSSL::PKey</a></li>
        
          <li><a href="./OpenSSL/PKey/DH.html">OpenSSL::PKey::DH</a></li>
        
          <li><a href="./OpenSSL/PKey/DHError.html">OpenSSL::PKey::DHError</a></li>
        
          <li><a href="./OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a></li>
        
          <li><a href="./OpenSSL/PKey/DSAError.html">OpenSSL::PKey::DSAError</a></li>
        
          <li><a href="./OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Group.html">OpenSSL::PKey::EC::Group</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Group/Error.html">OpenSSL::PKey::EC::Group::Error</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Point.html">OpenSSL::PKey::EC::Point</a></li>
        
          <li><a href="./OpenSSL/PKey/EC/Point/Error.html">OpenSSL::PKey::EC::Point::Error</a></li>
        
          <li><a href="./OpenSSL/PKey/ECError.html">OpenSSL::PKey::ECError</a></li>
        
          <li><a href="./OpenSSL/PKey/PKey.html">OpenSSL::PKey::PKey</a></li>
        
          <li><a href="./OpenSSL/PKey/PKeyError.html">OpenSSL::PKey::PKeyError</a></li>
        
          <li><a href="./OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a></li>
        
          <li><a href="./OpenSSL/PKey/RSAError.html">OpenSSL::PKey::RSAError</a></li>
        
          <li><a href="./OpenSSL/Random.html">OpenSSL::Random</a></li>
        
          <li><a href="./OpenSSL/Random/RandomError.html">OpenSSL::Random::RandomError</a></li>
        
          <li><a href="./OpenSSL/SSL.html">OpenSSL::SSL</a></li>
        
          <li><a href="./OpenSSL/SSL/Nonblock.html">OpenSSL::SSL::Nonblock</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLContext.html">OpenSSL::SSL::SSLContext</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLError.html">OpenSSL::SSL::SSLError</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLServer.html">OpenSSL::SSL::SSLServer</a></li>
        
          <li><a href="./OpenSSL/SSL/SSLSocket.html">OpenSSL::SSL::SSLSocket</a></li>
        
          <li><a href="./OpenSSL/SSL/Session.html">OpenSSL::SSL::Session</a></li>
        
          <li><a href="./OpenSSL/SSL/Session/SessionError.html">OpenSSL::SSL::Session::SessionError</a></li>
        
          <li><a href="./OpenSSL/SSL/SocketForwarder.html">OpenSSL::SSL::SocketForwarder</a></li>
        
          <li><a href="./OpenSSL/X509.html">OpenSSL::X509</a></li>
        
          <li><a href="./OpenSSL/X509/Attribute.html">OpenSSL::X509::Attribute</a></li>
        
          <li><a href="./OpenSSL/X509/AttributeError.html">OpenSSL::X509::AttributeError</a></li>
        
          <li><a href="./OpenSSL/X509/CRL.html">OpenSSL::X509::CRL</a></li>
        
          <li><a href="./OpenSSL/X509/CRLError.html">OpenSSL::X509::CRLError</a></li>
        
          <li><a href="./OpenSSL/X509/Certificate.html">OpenSSL::X509::Certificate</a></li>
        
          <li><a href="./OpenSSL/X509/CertificateError.html">OpenSSL::X509::CertificateError</a></li>
        
          <li><a href="./OpenSSL/X509/Extension.html">OpenSSL::X509::Extension</a></li>
        
          <li><a href="./OpenSSL/X509/ExtensionError.html">OpenSSL::X509::ExtensionError</a></li>
        
          <li><a href="./OpenSSL/X509/ExtensionFactory.html">OpenSSL::X509::ExtensionFactory</a></li>
        
          <li><a href="./OpenSSL/X509/Name.html">OpenSSL::X509::Name</a></li>
        
          <li><a href="./OpenSSL/X509/Name/RFC2253DN.html">OpenSSL::X509::Name::RFC2253DN</a></li>
        
          <li><a href="./OpenSSL/X509/NameError.html">OpenSSL::X509::NameError</a></li>
        
          <li><a href="./OpenSSL/X509/Request.html">OpenSSL::X509::Request</a></li>
        
          <li><a href="./OpenSSL/X509/RequestError.html">OpenSSL::X509::RequestError</a></li>
        
          <li><a href="./OpenSSL/X509/Revoked.html">OpenSSL::X509::Revoked</a></li>
        
          <li><a href="./OpenSSL/X509/RevokedError.html">OpenSSL::X509::RevokedError</a></li>
        
          <li><a href="./OpenSSL/X509/Store.html">OpenSSL::X509::Store</a></li>
        
          <li><a href="./OpenSSL/X509/StoreContext.html">OpenSSL::X509::StoreContext</a></li>
        
          <li><a href="./OpenSSL/X509/StoreError.html">OpenSSL::X509::StoreError</a></li>
        
          <li><a href="./Psych.html">Psych</a></li>
        
          <li><a href="./Psych/Coder.html">Psych::Coder</a></li>
        
          <li><a href="./Psych/Emitter.html">Psych::Emitter</a></li>
        
          <li><a href="./Psych/Exception.html">Psych::Exception</a></li>
        
          <li><a href="./Psych/Handler.html">Psych::Handler</a></li>
        
          <li><a href="./Psych/JSON.html">Psych::JSON</a></li>
        
          <li><a href="./Psych/JSON/Stream.html">Psych::JSON::Stream</a></li>
        
          <li><a href="./Psych/JSON/TreeBuilder.html">Psych::JSON::TreeBuilder</a></li>
        
          <li><a href="./Psych/Nodes.html">Psych::Nodes</a></li>
        
          <li><a href="./Psych/Nodes/Alias.html">Psych::Nodes::Alias</a></li>
        
          <li><a href="./Psych/Nodes/Document.html">Psych::Nodes::Document</a></li>
        
          <li><a href="./Psych/Nodes/Mapping.html">Psych::Nodes::Mapping</a></li>
        
          <li><a href="./Psych/Nodes/Node.html">Psych::Nodes::Node</a></li>
        
          <li><a href="./Psych/Nodes/Scalar.html">Psych::Nodes::Scalar</a></li>
        
          <li><a href="./Psych/Nodes/Sequence.html">Psych::Nodes::Sequence</a></li>
        
          <li><a href="./Psych/Nodes/Stream.html">Psych::Nodes::Stream</a></li>
        
          <li><a href="./Psych/Omap.html">Psych::Omap</a></li>
        
          <li><a href="./Psych/Parser.html">Psych::Parser</a></li>
        
          <li><a href="./Psych/Parser/Mark.html">Psych::Parser::Mark</a></li>
        
          <li><a href="./Psych/ScalarScanner.html">Psych::ScalarScanner</a></li>
        
          <li><a href="./Psych/Set.html">Psych::Set</a></li>
        
          <li><a href="./Psych/Stream.html">Psych::Stream</a></li>
        
          <li><a href="./Psych/Streaming.html">Psych::Streaming</a></li>
        
          <li><a href="./Psych/SyntaxError.html">Psych::SyntaxError</a></li>
        
          <li><a href="./Psych/TreeBuilder.html">Psych::TreeBuilder</a></li>
        
          <li><a href="./Psych/Visitors.html">Psych::Visitors</a></li>
        
          <li><a href="./Psych/Visitors/DepthFirst.html">Psych::Visitors::DepthFirst</a></li>
        
          <li><a href="./Psych/Visitors/Emitter.html">Psych::Visitors::Emitter</a></li>
        
          <li><a href="./Psych/Visitors/JSONTree.html">Psych::Visitors::JSONTree</a></li>
        
          <li><a href="./Psych/Visitors/ToRuby.html">Psych::Visitors::ToRuby</a></li>
        
          <li><a href="./Psych/Visitors/Visitor.html">Psych::Visitors::Visitor</a></li>
        
          <li><a href="./Psych/Visitors/YAMLTree.html">Psych::Visitors::YAMLTree</a></li>
        
          <li><a href="./DL.html">DL</a></li>
        
          <li><a href="./DL/BasicTypes.html">DL::BasicTypes</a></li>
        
          <li><a href="./DL/CFunc.html">DL::CFunc</a></li>
        
          <li><a href="./DL/CParser.html">DL::CParser</a></li>
        
          <li><a href="./DL/CPtr.html">DL::CPtr</a></li>
        
          <li><a href="./DL/CStruct.html">DL::CStruct</a></li>
        
          <li><a href="./DL/CStructBuilder.html">DL::CStructBuilder</a></li>
        
          <li><a href="./DL/CStructEntity.html">DL::CStructEntity</a></li>
        
          <li><a href="./DL/CUnion.html">DL::CUnion</a></li>
        
          <li><a href="./DL/CUnionEntity.html">DL::CUnionEntity</a></li>
        
          <li><a href="./DL/CarriedFunction.html">DL::CarriedFunction</a></li>
        
          <li><a href="./DL/CompositeHandler.html">DL::CompositeHandler</a></li>
        
          <li><a href="./DL/DLError.html">DL::DLError</a></li>
        
          <li><a href="./DL/DLTypeError.html">DL::DLTypeError</a></li>
        
          <li><a href="./DL/Function.html">DL::Function</a></li>
        
          <li><a href="./DL/Handle.html">DL::Handle</a></li>
        
          <li><a href="./DL/Importer.html">DL::Importer</a></li>
        
          <li><a href="./DL/PackInfo.html">DL::PackInfo</a></li>
        
          <li><a href="./DL/Packer.html">DL::Packer</a></li>
        
          <li><a href="./DL/Stack.html">DL::Stack</a></li>
        
          <li><a href="./DL/TempFunction.html">DL::TempFunction</a></li>
        
          <li><a href="./DL/ValueUtil.html">DL::ValueUtil</a></li>
        
          <li><a href="./DL/Win32Types.html">DL::Win32Types</a></li>
        
          <li><a href="./Zlib.html">Zlib</a></li>
        
          <li><a href="./Zlib/BufError.html">Zlib::BufError</a></li>
        
          <li><a href="./Zlib/DataError.html">Zlib::DataError</a></li>
        
          <li><a href="./Zlib/Deflate.html">Zlib::Deflate</a></li>
        
          <li><a href="./Zlib/Error.html">Zlib::Error</a></li>
        
          <li><a href="./Zlib/GzipFile.html">Zlib::GzipFile</a></li>
        
          <li><a href="./Zlib/GzipFile/CRCError.html">Zlib::GzipFile::CRCError</a></li>
        
          <li><a href="./Zlib/GzipFile/Error.html">Zlib::GzipFile::Error</a></li>
        
          <li><a href="./Zlib/GzipFile/LengthError.html">Zlib::GzipFile::LengthError</a></li>
        
          <li><a href="./Zlib/GzipFile/NoFooter.html">Zlib::GzipFile::NoFooter</a></li>
        
          <li><a href="./Zlib/GzipReader.html">Zlib::GzipReader</a></li>
        
          <li><a href="./Zlib/GzipWriter.html">Zlib::GzipWriter</a></li>
        
          <li><a href="./Zlib/Inflate.html">Zlib::Inflate</a></li>
        
          <li><a href="./Zlib/MemError.html">Zlib::MemError</a></li>
        
          <li><a href="./Zlib/NeedDict.html">Zlib::NeedDict</a></li>
        
          <li><a href="./Zlib/StreamEnd.html">Zlib::StreamEnd</a></li>
        
          <li><a href="./Zlib/StreamError.html">Zlib::StreamError</a></li>
        
          <li><a href="./Zlib/VersionError.html">Zlib::VersionError</a></li>
        
          <li><a href="./Zlib/ZStream.html">Zlib::ZStream</a></li>
        
          <li><a href="./Win32.html">Win32</a></li>
        
          <li><a href="./Win32/Registry.html">Win32::Registry</a></li>
        
          <li><a href="./Win32/Registry/API.html">Win32::Registry::API</a></li>
        
          <li><a href="./Win32/Registry/Constants.html">Win32::Registry::Constants</a></li>
        
          <li><a href="./Win32/Registry/Error.html">Win32::Registry::Error</a></li>
        
          <li><a href="./Win32/Registry/Error/Kernel32.html">Win32::Registry::Error::Kernel32</a></li>
        
          <li><a href="./Win32/Registry/PredefinedKey.html">Win32::Registry::PredefinedKey</a></li>
        
          <li><a href="./Win32/Resolv.html">Win32::Resolv</a></li>
        
          <li><a href="./Win32/Resolv/Kernel32.html">Win32::Resolv::Kernel32</a></li>
        
          <li><a href="./Win32/SSPI.html">Win32::SSPI</a></li>
        
          <li><a href="./Win32/SSPI/API.html">Win32::SSPI::API</a></li>
        
          <li><a href="./Win32/SSPI/Identity.html">Win32::SSPI::Identity</a></li>
        
          <li><a href="./Win32/SSPI/NegotiateAuth.html">Win32::SSPI::NegotiateAuth</a></li>
        
          <li><a href="./Win32/SSPI/SSPIResult.html">Win32::SSPI::SSPIResult</a></li>
        
          <li><a href="./Win32/SSPI/SecurityBuffer.html">Win32::SSPI::SecurityBuffer</a></li>
        
          <li><a href="./Win32/SSPI/SecurityHandle.html">Win32::SSPI::SecurityHandle</a></li>
        
          <li><a href="./Win32/SSPI/TimeStamp.html">Win32::SSPI::TimeStamp</a></li>
        
          <li><a href="./JSON.html">JSON</a></li>
        
          <li><a href="./JSON/Ext.html">JSON::Ext</a></li>
        
          <li><a href="./JSON/GeneratorError.html">JSON::GeneratorError</a></li>
        
          <li><a href="./JSON/JSONError.html">JSON::JSONError</a></li>
        
          <li><a href="./JSON/MissingUnicodeSupport.html">JSON::MissingUnicodeSupport</a></li>
        
          <li><a href="./JSON/NestingError.html">JSON::NestingError</a></li>
        
          <li><a href="./JSON/ParserError.html">JSON::ParserError</a></li>
        
          <li><a href="./JSON/GeneratorError.html">JSON::UnparserError</a></li>
        
          <li><a href="./Iconv.html">Iconv</a></li>
        
          <li><a href="./Iconv/BrokenLibrary.html">Iconv::BrokenLibrary</a></li>
        
          <li><a href="./Iconv/Failure.html">Iconv::Failure</a></li>
        
          <li><a href="./Iconv/IllegalSequence.html">Iconv::IllegalSequence</a></li>
        
          <li><a href="./Iconv/InvalidCharacter.html">Iconv::InvalidCharacter</a></li>
        
          <li><a href="./Iconv/InvalidEncoding.html">Iconv::InvalidEncoding</a></li>
        
          <li><a href="./Iconv/OutOfRange.html">Iconv::OutOfRange</a></li>
        
          <li><a href="./Ripper.html">Ripper</a></li>
        
          <li><a href="./Ripper/Filter.html">Ripper::Filter</a></li>
        
          <li><a href="./Ripper/TokenPattern.html">Ripper::TokenPattern</a></li>
        
          <li><a href="./Ripper/TokenPattern/CompileError.html">Ripper::TokenPattern::CompileError</a></li>
        
          <li><a href="./Ripper/TokenPattern/Error.html">Ripper::TokenPattern::Error</a></li>
        
          <li><a href="./Ripper/TokenPattern/MatchData.html">Ripper::TokenPattern::MatchData</a></li>
        
          <li><a href="./Ripper/TokenPattern/MatchError.html">Ripper::TokenPattern::MatchError</a></li>
        
          <li><a href="./Digest.html">Digest</a></li>
        
          <li><a href="./Digest/Base.html">Digest::Base</a></li>
        
          <li><a href="./Digest/Class.html">Digest::Class</a></li>
        
          <li><a href="./Digest/HMAC.html">Digest::HMAC</a></li>
        
          <li><a href="./Digest/Instance.html">Digest::Instance</a></li>
        
          <li><a href="./Fiddle.html">Fiddle</a></li>
        
          <li><a href="./Fiddle/Closure.html">Fiddle::Closure</a></li>
        
          <li><a href="./Fiddle/Closure/BlockCaller.html">Fiddle::Closure::BlockCaller</a></li>
        
          <li><a href="./Fiddle/Function.html">Fiddle::Function</a></li>
        
          <li><a href="./DL/CPtr.html">Fiddle::Pointer</a></li>
        
          <li><a href="./Socket.html">Socket</a></li>
        
          <li><a href="./Socket/AncillaryData.html">Socket::AncillaryData</a></li>
        
          <li><a href="./Socket/Constants.html">Socket::Constants</a></li>
        
          <li><a href="./Socket/Option.html">Socket::Option</a></li>
        
          <li><a href="./Socket/UDPSource.html">Socket::UDPSource</a></li>
        
          <li><a href="./Curses.html">Curses</a></li>
        
          <li><a href="./Curses/Key.html">Curses::Key</a></li>
        
          <li><a href="./Curses/MouseEvent.html">Curses::MouseEvent</a></li>
        
          <li><a href="./Curses/Window.html">Curses::Window</a></li>
        
          <li><a href="./PTY.html">PTY</a></li>
        
          <li><a href="./PTY/ChildExited.html">PTY::ChildExited</a></li>
        
          <li><a href="./StringScanner.html">StringScanner</a></li>
        
          <li><a href="./StringScanner/Error.html">StringScanner::Error</a></li>
        
          <li><a href="./Syslog.html">Syslog</a></li>
        
          <li><a href="./Syslog/Constants.html">Syslog::Constants</a></li>
        
          <li><a href="./WIN32OLE.html">WIN32OLE</a></li>
        
          <li><a href="./WIN32OLE/VARIANT.html">WIN32OLE::VARIANT</a></li>
        
          <li><a href="./Addrinfo.html">Addrinfo</a></li>
        
          <li><a href="./BasicSocket.html">BasicSocket</a></li>
        
          <li><a href="./BigDecimal.html">BigDecimal</a></li>
        
          <li><a href="./BigMath.html">BigMath</a></li>
        
          <li><a href="./Class.html">Class</a></li>
        
          <li><a href="./Coverage.html">Coverage</a></li>
        
          <li><a href="./DBM.html">DBM</a></li>
        
          <li><a href="./DBMError.html">DBMError</a></li>
        
          <li><a href="./Date.html">Date</a></li>
        
          <li><a href="./DateTime.html">DateTime</a></li>
        
          <li><a href="./Etc.html">Etc</a></li>
        
          <li><a href="./Exception.html">Exception</a></li>
        
          <li><a href="./Fcntl.html">Fcntl</a></li>
        
          <li><a href="./Float.html">Float</a></li>
        
          <li><a href="./GDBM.html">GDBM</a></li>
        
          <li><a href="./GDBMError.html">GDBMError</a></li>
        
          <li><a href="./GDBMFatalError.html">GDBMFatalError</a></li>
        
          <li><a href="./IO.html">IO</a></li>
        
          <li><a href="./IPSocket.html">IPSocket</a></li>
        
          <li><a href="./Integer.html">Integer</a></li>
        
          <li><a href="./Jacobian.html">Jacobian</a></li>
        
          <li><a href="./Kconv.html">Kconv</a></li>
        
          <li><a href="./Kernel.html">Kernel</a></li>
        
          <li><a href="./LUSolve.html">LUSolve</a></li>
        
          <li><a href="./Module.html">Module</a></li>
        
          <li><a href="./NKF.html">NKF</a></li>
        
          <li><a href="./Newton.html">Newton</a></li>
        
          <li><a href="./OLEProperty.html">OLEProperty</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
          <li><a href="./Pathname.html">Pathname</a></li>
        
          <li><a href="./Range.html">Range</a></li>
        
          <li><a href="./Rational.html">Rational</a></li>
        
          <li><a href="./Readline.html">Readline</a></li>
        
          <li><a href="./Regexp.html">Regexp</a></li>
        
          <li><a href="./SDBM.html">SDBM</a></li>
        
          <li><a href="./SDBMError.html">SDBMError</a></li>
        
          <li><a href="./SOCKSSocket.html">SOCKSSocket</a></li>
        
          <li><a href="./SocketError.html">SocketError</a></li>
        
          <li><a href="./String.html">String</a></li>
        
          <li><a href="./StringIO.html">StringIO</a></li>
        
          <li><a href="./Struct.html">Struct</a></li>
        
          <li><a href="./Symbol.html">Symbol</a></li>
        
          <li><a href="./TCPServer.html">TCPServer</a></li>
        
          <li><a href="./TCPSocket.html">TCPSocket</a></li>
        
          <li><a href="./Thread.html">Thread</a></li>
        
          <li><a href="./Time.html">Time</a></li>
        
          <li><a href="./UDPSocket.html">UDPSocket</a></li>
        
          <li><a href="./UNIXServer.html">UNIXServer</a></li>
        
          <li><a href="./UNIXSocket.html">UNIXSocket</a></li>
        
          <li><a href="./WIN32OLERuntimeError.html">WIN32OLERuntimeError</a></li>
        
          <li><a href="./WIN32OLE_EVENT.html">WIN32OLE_EVENT</a></li>
        
          <li><a href="./WIN32OLE_METHOD.html">WIN32OLE_METHOD</a></li>
        
          <li><a href="./WIN32OLE_PARAM.html">WIN32OLE_PARAM</a></li>
        
          <li><a href="./WIN32OLE_TYPE.html">WIN32OLE_TYPE</a></li>
        
          <li><a href="./WIN32OLE_TYPELIB.html">WIN32OLE_TYPELIB</a></li>
        
          <li><a href="./WIN32OLE_VARIABLE.html">WIN32OLE_VARIABLE</a></li>
        
          <li><a href="./WIN32OLE_VARIANT.html">WIN32OLE_VARIANT</a></li>
        
          <li><a href="./Win32API.html">Win32API</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Date</h1>

    <div id="description" class="description">
      
<p>date and datetime class - Tadayoshi Funaba 1998-2011</p>

<p>'date' provides two classes <a href="Date.html">Date</a> and <a
href="DateTime.html">DateTime</a>.</p>

<h2>Terms and definitions</h2>

<p>Some terms and definitions are based on ISO 8601 and JIS X 0301.</p>

<h3>calendar date</h3>

<p>The calendar date is a particular day of a calendar year, identified by its
ordinal number within a calendar month within that year.</p>

<p>In those classes, this is so-called "civil".</p>

<h3>ordinal date</h3>

<p>The ordinal date is a particular day of a calendar year identified by its
ordinal number within the year.</p>

<p>In those classes, this is so-called "ordinal".</p>

<h3>week date</h3>

<p>The week date is a date identified by calendar week and day numbers.</p>

<p>The calendar week is a seven day period within a calendar year, starting on
a Monday and identified by its ordinal number within the year; the first
calendar week of the year is the one that includes the first Thursday of
that year.  In the Gregorian calendar, this is equivalent to the week which
includes January 4.</p>

<p>In those classes, this so-called "commercial".</p>

<h3>julian day number</h3>

<p>The Julian day number is in elapsed days since noon (Greenwich mean time)
on January 1, 4713 BCE (in the Julian calendar).</p>

<p>In this document, the astronomical Julian day number is same as the
original Julian day number.  And the chronological Julian day number is a
variation of the Julian day number.  Its days begin at midnight on local
time.</p>

<p>In this document, when the term "Julian day number" simply appears, it just
refers to "chronological Julian day number", not the original.</p>

<p>In those classes, those are so-called "ajd" and "jd".</p>

<h3>modified julian day number</h3>

<p>The modified Julian day number is in elapsed days since midnight
(Coordinated universal time) on November 17, 1858 CE (in the Gregorian
calendar).</p>

<p>In this document, the astronomical modified Julian day number is same as
the original modified Julian day number.  And the chronological modified
Julian day number is a variation of the modified Julian day number.  Its
days begin at midnight on local time.</p>

<p>In this document, when the term "modified Julian day number" simply
appears, it just refers to "chronological modified Julian day number", not
the original.</p>

<p>In those classes, this is so-called "mjd".</p>

<h2><a href="Date.html">Date</a></h2>

<p>A subclass of <a href="Object.html">Object</a> includes Comparable module,
easily handles date.</p>

<p><a href="Date.html">Date</a> object is created with <a
href="Date.html#method-c-new">Date::new</a>, <a
href="Date.html#method-c-jd">Date::jd</a>, <a
href="Date.html#method-c-ordinal">Date::ordinal</a>, <a
href="Date.html#method-c-commercial">Date::commercial</a>, <a
href="Date.html#method-c-parse">Date::parse</a>, <a
href="Date.html#method-c-strptime">Date::strptime</a>, <a
href="Date.html#method-c-today">Date::today</a>, <a
href="Time.html#method-i-to_date">Time#to_date</a> or etc.</p>

<pre>require 'date'

Date.new(2001,2,3)           #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.jd(2451944)             #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.ordinal(2001,34)        #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.commercial(2001,5,6)    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.parse('2001-02-03')     #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('03-02-2001', '%d-%m-%Y')
                             #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Time.new(2001,2,3).to_date   #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>

<p>All date objects are immutable; hence cannot modify themselves.</p>

<p>The concept of this date object can be represented as a tuple of the day
count, the offset and the day of calendar reform.</p>

<p>The day count denotes the absolute position of a temporal dimension.  The
offset is relative adjustment, which determines decoded local time with the
day count.  The day of calendar reform denotes the start day of the new
style.  The old style of the West is the Julian calendar which was adopted
by Caersar.  The new style is the Gregorian calendar, which is the current
civil calendar of many countries.</p>

<p>The day count is virtually the astronomical Julian day number. The offset
in this class is usually zero, and cannot be specified directly.</p>

<p>An optional argument the day of calendar reform (start) as a Julian day
number, which should be 2298874 to 2426355 or -/+oo. The default value is
Date::ITALY (2299161=1582-10-15).  See also sample/cal.rb.</p>

<pre>$ ruby sample/cal.rb -c it 10 1582
    October 1582
 S  M Tu  W Th  F  S
    1  2  3  4 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30
31

$ ruby sample/cal.rb -c gb  9 1752
   September 1752
 S  M Tu  W Th  F  S
       1  2 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30</pre>

<p><a href="Date.html">Date</a> object has various methods. See each
reference.</p>

<pre>d = Date.parse('3rd Feb 2001')
                             #=&gt; #&lt;Date: 2001-02-03 ...&gt;
d.year                       #=&gt; 2001
d.mon                        #=&gt; 2
d.mday                       #=&gt; 3
d.wday                       #=&gt; 6
d += 1                       #=&gt; #&lt;Date: 2001-02-04 ...&gt;
d.strftime('%a %d %b %Y')    #=&gt; &quot;Sun 04 Feb 2001&quot;</pre>

<h2><a href="DateTime.html">DateTime</a></h2>

<p>A subclass of <a href="Date.html">Date</a> easily handles date, hour,
minute, second and offset.</p>

<p><a href="DateTime.html">DateTime</a> does not consider any leapseconds,
does not track any summer time rules.</p>

<p><a href="DateTime.html">DateTime</a> object is created with <a
href="DateTime.html#method-c-new">DateTime::new</a>, <a
href="DateTime.html#method-c-jd">DateTime::jd</a>, <a
href="DateTime.html#method-c-ordinal">DateTime::ordinal</a>, <a
href="DateTime.html#method-c-commercial">DateTime::commercial</a>, <a
href="DateTime.html#method-c-parse">DateTime::parse</a>, <a
href="DateTime.html#method-c-strptime">DateTime::strptime</a>, <a
href="DateTime.html#method-c-now">DateTime::now</a>, <a
href="Time.html#method-i-to_datetime">Time#to_datetime</a> or etc.</p>

<pre>require 'date'

DateTime.new(2001,2,3,4,5,6)
                     #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+00:00 ...&gt;</pre>

<p>The last element of day, hour, minute or senond can be fractional number.
The fractional number's precision is assumed at most nanosecond.</p>

<pre>DateTime.new(2001,2,3.5)
                     #=&gt; #&lt;DateTime: 2001-02-03T12:00:00+00:00 ...&gt;</pre>

<p>An optional argument the offset indicates the difference between the local
time and UTC.  For example, Rational(3,24) represents ahead of 3 hours of
UTC, Rational(-5,24) represents behind of 5 hours of UTC.  The offset
should be -1 to +1, and its precision is assumed at most second.  The
default value is zero (equals to UTC).</p>

<pre>DateTime.new(2001,2,3,4,5,6,Rational(3,24))
                     #=&gt; #&lt;DateTime: 2001-02-03T03:04:05+03:00 ...&gt;</pre>

<p>also accepts string form.</p>

<pre>DateTime.new(2001,2,3,4,5,6,'+03:00')
                     #=&gt; #&lt;DateTime: 2001-02-03T03:04:05+03:00 ...&gt;</pre>

<p>An optional argument the day of calendar reform (start) denotes a Julian
day number, which should be 2298874 to 2426355 or -/+oo.  The default value
is Date::ITALY (2299161=1582-10-15).</p>

<p><a href="DateTime.html">DateTime</a> object has various methods. See each
reference.</p>

<pre>d = DateTime.parse('3rd Feb 2001 04:05:06+03:30')
                     #=&gt; #&lt;DateTime: 2001-02-03T04:05:06+03:30 ...&gt;
d.hour               #=&gt; 4
d.min                #=&gt; 5
d.sec                #=&gt; 6
d.offset             #=&gt; (7/48)
d.zone               #=&gt; &quot;+03:30&quot;
d += Rational('1.5')
                     #=&gt; #&lt;DateTime: 2001-02-04%16:05:06+03:30 ...&gt;
d = d.new_offset('+09:00')
                     #=&gt; #&lt;DateTime: 2001-02-04%21:35:06+09:00 ...&gt;
d.strftime('%I:%M:%S %p')
                     #=&gt; &quot;09:35:06 PM&quot;
d &gt; DateTime.new(1999)
                     #=&gt; true</pre>
<hr style="height: 1px">

<p><a href="Date.html">Date</a> serialization/deserialization</p>

    </div><!-- description -->

    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="ABBR_DAYNAMES">ABBR_DAYNAMES</a></dt>
          
          <dd class="description"><p>An array of string of abbreviated day name in English.  The first is “Sun”.</p></dd>
          
        
          <dt><a name="ABBR_MONTHNAMES">ABBR_MONTHNAMES</a></dt>
          
          <dd class="description"><p>An array of string of abbreviated month name in English.  The first element
is nil.</p></dd>
          
        
          <dt><a name="DAYNAMES">DAYNAMES</a></dt>
          
          <dd class="description"><p>An array of string of full name of days of the week in English. The first
is “Sunday”.</p></dd>
          
        
          <dt><a name="ENGLAND">ENGLAND</a></dt>
          
          <dd class="description"><p>The Julian day number of the day of calendar reform for England and her
colonies.</p></dd>
          
        
          <dt><a name="GREGORIAN">GREGORIAN</a></dt>
          
          <dd class="description"><p>The Julian day number of the day of calendar reform for the proleptic
Gregorian calendar</p></dd>
          
        
          <dt><a name="ITALY">ITALY</a></dt>
          
          <dd class="description"><p>The Julian day number of the day of calendar reform for Italy and some
catholic countries.</p></dd>
          
        
          <dt><a name="JULIAN">JULIAN</a></dt>
          
          <dd class="description"><p>The Julian day number of the day of calendar reform for the proleptic
Julian calendar</p></dd>
          
        
          <dt><a name="MONTHNAMES">MONTHNAMES</a></dt>
          
          <dd class="description"><p>An array of stirng of full month name in English.  The first element is
nil.</p></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="_httpdate-method" class="method-detail ">
          <a name="method-c-_httpdate"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_httpdate(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_httpdate-source">
<pre>
static VALUE
date_s__httpdate(VALUE klass, VALUE str)
{
    return date__httpdate(str);
}</pre>
            </div><!-- _httpdate-source -->
            
          </div>

          

          
        </div><!-- _httpdate-method -->

      
        <div id="_iso8601-method" class="method-detail ">
          <a name="method-c-_iso8601"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_iso8601(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_iso8601-source">
<pre>
static VALUE
date_s__iso8601(VALUE klass, VALUE str)
{
    return date__iso8601(str);
}</pre>
            </div><!-- _iso8601-source -->
            
          </div>

          

          
        </div><!-- _iso8601-method -->

      
        <div id="_jisx0301-method" class="method-detail ">
          <a name="method-c-_jisx0301"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_jisx0301(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_jisx0301-source">
<pre>
static VALUE
date_s__jisx0301(VALUE klass, VALUE str)
{
    return date__jisx0301(str);
}</pre>
            </div><!-- _jisx0301-source -->
            
          </div>

          

          
        </div><!-- _jisx0301-method -->

      
        <div id="_parse-method" class="method-detail ">
          <a name="method-c-_parse"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_parse(string[, comp=true])  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Parses the given representation of date and time, and returns a hash of
parsed elements.</p>

<p>If the optional second argument is true and the detected year is in the
range “00” to “99”, considers the year a 2-digit form and makes it full.</p>

<p>For example:</p>

<pre>Date._parse('2001-02-03') #=&gt; {:year=&gt;2001, :mon=&gt;2, :mday=&gt;3}</pre>
            

            
            <div class="method-source-code" id="_parse-source">
<pre>
static VALUE
date_s__parse(int argc, VALUE *argv, VALUE klass)
{
    return date_s__parse_internal(argc, argv, klass);
}</pre>
            </div><!-- _parse-source -->
            
          </div>

          

          
        </div><!-- _parse-method -->

      
        <div id="_rfc2822-method" class="method-detail ">
          <a name="method-c-_rfc2822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_rfc2822(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">_rfc822(string)   &rarr;  hash</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_rfc2822-source">
<pre>
static VALUE
date_s__rfc2822(VALUE klass, VALUE str)
{
    return date__rfc2822(str);
}</pre>
            </div><!-- _rfc2822-source -->
            
          </div>

          

          
        </div><!-- _rfc2822-method -->

      
        <div id="_rfc3339-method" class="method-detail ">
          <a name="method-c-_rfc3339"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_rfc3339(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_rfc3339-source">
<pre>
static VALUE
date_s__rfc3339(VALUE klass, VALUE str)
{
    return date__rfc3339(str);
}</pre>
            </div><!-- _rfc3339-source -->
            
          </div>

          

          
        </div><!-- _rfc3339-method -->

      
        <div id="_rfc822-method" class="method-detail ">
          <a name="method-c-_rfc822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_rfc2822(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">_rfc822(string)   &rarr;  hash</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_rfc822-source">
<pre>
static VALUE
date_s__rfc2822(VALUE klass, VALUE str)
{
    return date__rfc2822(str);
}</pre>
            </div><!-- _rfc822-source -->
            
          </div>

          

          
        </div><!-- _rfc822-method -->

      
        <div id="_strptime-method" class="method-detail ">
          <a name="method-c-_strptime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_strptime(string[, format='%F'])  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Parses the given representation of date and time with the given template,
and returns a hash of parsed elements.</p>

<p>For example:</p>

<pre>  Date._strptime('2001-02-03', '%Y-%m-%d')
                            #=&gt; {:year=&gt;2001, :mon=&gt;2, :mday=&gt;3}

See also strptime(3) and strftime.</pre>
            

            
            <div class="method-source-code" id="_strptime-source">
<pre>
static VALUE
date_s__strptime(int argc, VALUE *argv, VALUE klass)
{
    return date_s__strptime_internal(argc, argv, klass, &quot;%F&quot;);
}</pre>
            </div><!-- _strptime-source -->
            
          </div>

          

          
        </div><!-- _strptime-method -->

      
        <div id="_xmlschema-method" class="method-detail ">
          <a name="method-c-_xmlschema"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">_xmlschema(string)  &rarr;  hash</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a hash of parsed elements.</p>
            

            
            <div class="method-source-code" id="_xmlschema-source">
<pre>
static VALUE
date_s__xmlschema(VALUE klass, VALUE str)
{
    return date__xmlschema(str);
}</pre>
            </div><!-- _xmlschema-source -->
            
          </div>

          

          
        </div><!-- _xmlschema-method -->

      
        <div id="civil-method" class="method-detail ">
          <a name="method-c-civil"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">civil([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">new([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])    &rarr;  date</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a date object denoting the given calendar date.</p>

<p>In this class, BCE years are counted astronomically.  Thus, the year before
the year 1 is the year zero, and the year preceding the year zero is the
year -1.  The month and the day of month should be a negative or a positive
number (as a relative month/day from the end of year/month when negative). 
They should not be zero.</p>

<p>The last argument should be a Julian day number which denotes the day of
calendar reform.  Date::ITALY (2299161=1582-10-15), Date::ENGLAND
(2361222=1752-09-14), Date::GREGORIAN (the proleptic Gregorian calendar)
and Date::JULIAN (the proleptic Julian calendar) can be specified as a day
of calendar reform.</p>

<p>For example:</p>

<pre>Date.new(2001)            #=&gt; #&lt;Date: 2001-01-01 ...&gt;
Date.new(2001,2,3)        #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.new(2001,2,-1)       #=&gt; #&lt;Date: 2001-02-28 ...&gt;</pre>

<p>See also jd.</p>
            

            
            <div class="method-source-code" id="civil-source">
<pre>
static VALUE
date_s_civil(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg, y, fr, fr2, ret;
    int m, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    m = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
        val2sg(vsg, sg);
      case 3:
        num2int_with_frac(d, positive_inf);
      case 2:
        m = NUM2INT(vm);
      case 1:
        y = vy;
    }

    if (guess_style(y, sg) &lt; 0) {
        VALUE nth;
        int ry, rm, rd;

        if (!valid_gregorian_p(y, m, d,
                               &amp;nth, &amp;ry,
                               &amp;rm, &amp;rd))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                    nth, 0,
                                    sg,
                                    ry, rm, rd,
                                    HAVE_CIVIL);
    }
    else {
        VALUE nth;
        int ry, rm, rd, rjd, ns;

        if (!valid_civil_p(y, m, d, sg,
                           &amp;nth, &amp;ry,
                           &amp;rm, &amp;rd, &amp;rjd,
                           &amp;ns))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                    nth, rjd,
                                    sg,
                                    ry, rm, rd,
                                    HAVE_JD | HAVE_CIVIL);
    }
    add_frac();
    return ret;
}</pre>
            </div><!-- civil-source -->
            
          </div>

          

          
        </div><!-- civil-method -->

      
        <div id="commercial-method" class="method-detail ">
          <a name="method-c-commercial"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">commercial([cwyear=-4712[, cweek=1[, cwday=1[, start=Date::ITALY]]]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a date object denoting the given week date.</p>

<p>The week and the day of week should be a negative or a positive number (as
a relative week/day from the end of year/week when negative).  They should
not be zero.</p>

<p>For example:</p>

<pre>Date.commercial(2001)     #=&gt; #&lt;Date: 2001-01-01 ...&gt;
Date.commercial(2002)     #=&gt; #&lt;Date: 2001-12-31 ...&gt;
Date.commercial(2001,5,6) #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>

<p>See also jd and new.</p>
            

            
            <div class="method-source-code" id="commercial-source">
<pre>
static VALUE
date_s_commercial(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vw, vd, vsg, y, fr, fr2, ret;
    int w, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vw, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    w = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
        val2sg(vsg, sg);
      case 3:
        num2int_with_frac(d, positive_inf);
      case 2:
        w = NUM2INT(vw);
      case 1:
        y = vy;
    }

    {
        VALUE nth;
        int ry, rw, rd, rjd, ns;

        if (!valid_commercial_p(y, w, d, sg,
                                &amp;nth, &amp;ry,
                                &amp;rw, &amp;rd, &amp;rjd,
                                &amp;ns))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                    nth, rjd,
                                    sg,
                                    0, 0, 0,
                                    HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
            </div><!-- commercial-source -->
            
          </div>

          

          
        </div><!-- commercial-method -->

      
        <div id="gregorian_leap-3F-method" class="method-detail ">
          <a name="method-c-gregorian_leap-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">gregorian_leap?(year)  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">leap?(year)            &rarr;  bool</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given year is a leap year of the proleptic Gregorian
calendar.</p>

<p>For example:</p>

<pre>Date.gregorian_leap?(1900)        #=&gt; false
Date.gregorian_leap?(2000)        #=&gt; true</pre>
            

            
            <div class="method-source-code" id="gregorian_leap-3F-source">
<pre>
static VALUE
date_s_gregorian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, -1, &amp;nth, &amp;ry);
    return f_boolcast(c_gregorian_leap_p(ry));
}</pre>
            </div><!-- gregorian_leap-3F-source -->
            
          </div>

          

          
        </div><!-- gregorian_leap-3F-method -->

      
        <div id="httpdate-method" class="method-detail ">
          <a name="method-c-httpdate"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">httpdate(string='Mon, 01 Jan -4712 00:00:00 GMT'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some RFC 2616 format.</p>

<p>For example:</p>

<pre>Date.httpdate('Sat, 03 Feb 2001 00:00:00 GMT')
                                          #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="httpdate-source">
<pre>
static VALUE
date_s_httpdate(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 01 Jan -4712 00:00:00 GMT&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__httpdate(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- httpdate-source -->
            
          </div>

          

          
        </div><!-- httpdate-method -->

      
        <div id="iso8601-method" class="method-detail ">
          <a name="method-c-iso8601"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">iso8601(string='-4712-01-01'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical ISO 8601 formats.</p>

<p>For example:</p>

<pre>Date.iso8601('2001-02-03')        #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.iso8601('20010203')          #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.iso8601('2001-W05-6')        #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="iso8601-source">
<pre>
static VALUE
date_s_iso8601(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__iso8601(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- iso8601-source -->
            
          </div>

          

          
        </div><!-- iso8601-method -->

      
        <div id="jd-method" class="method-detail ">
          <a name="method-c-jd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">jd([jd=0[, start=Date::ITALY]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a date object denoting the given chronological Julian day number.</p>

<p>For example:</p>

<pre>Date.jd(2451944)          #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.jd(2451945)          #=&gt; #&lt;Date: 2001-02-04 ...&gt;
Date.jd(0)                #=&gt; #&lt;Date: -4712-01-01 ...&gt;</pre>

<p>See also new.</p>
            

            
            <div class="method-source-code" id="jd-source">
<pre>
static VALUE
date_s_jd(int argc, VALUE *argv, VALUE klass)
{
    VALUE vjd, vsg, jd, fr, fr2, ret;
    double sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;vjd, &amp;vsg);

    jd = INT2FIX(0);
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 2:
        val2sg(vsg, sg);
      case 1:
        num2num_with_frac(jd, positive_inf);
    }

    {
        VALUE nth;
        int rjd;

        decode_jd(jd, &amp;nth, &amp;rjd);
        ret = d_simple_new_internal(klass,
                                    nth, rjd,
                                    sg,
                                    0, 0, 0,
                                    HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
            </div><!-- jd-source -->
            
          </div>

          

          
        </div><!-- jd-method -->

      
        <div id="jisx0301-method" class="method-detail ">
          <a name="method-c-jisx0301"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">jisx0301(string='-4712-01-01'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical JIS X 0301 formats.</p>

<p>For example:</p>

<pre>Date.jisx0301('H13.02.03')                #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="jisx0301-source">
<pre>
static VALUE
date_s_jisx0301(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__jisx0301(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- jisx0301-source -->
            
          </div>

          

          
        </div><!-- jisx0301-method -->

      
        <div id="json_create-method" class="method-detail ">
          <a name="method-c-json_create"></a>

          
          <div class="method-heading">
            <span class="method-name">json_create</span><span
              class="method-args">(object)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Deserializes <a href="JSON.html">JSON</a> string by converting Julian year
<tt>y</tt>, month <tt>m</tt>, day <tt>d</tt> and Day of Calendar Reform
<tt>sg</tt> to <a href="Date.html">Date</a>.</p>
            

            
            <div class="method-source-code" id="json_create-source">
<pre>
<span class="ruby-comment"># File ext/json/lib/json/add/core.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">json_create</span>(<span class="ruby-identifier">object</span>)
  <span class="ruby-identifier">civil</span>(*<span class="ruby-identifier">object</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">'y'</span>, <span class="ruby-string">'m'</span>, <span class="ruby-string">'d'</span>, <span class="ruby-string">'sg'</span>))
<span class="ruby-keyword">end</span></pre>
            </div><!-- json_create-source -->
            
          </div>

          

          
        </div><!-- json_create-method -->

      
        <div id="julian_leap-3F-method" class="method-detail ">
          <a name="method-c-julian_leap-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">julian_leap?(year)  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given year is a leap year of the proleptic Julian
calendar.</p>

<p>For example:</p>

<pre>Date.julian_leap?(1900)           #=&gt; true
Date.julian_leap?(1901)           #=&gt; false</pre>
            

            
            <div class="method-source-code" id="julian_leap-3F-source">
<pre>
static VALUE
date_s_julian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, +1, &amp;nth, &amp;ry);
    return f_boolcast(c_julian_leap_p(ry));
}</pre>
            </div><!-- julian_leap-3F-source -->
            
          </div>

          

          
        </div><!-- julian_leap-3F-method -->

      
        <div id="leap-3F-method" class="method-detail ">
          <a name="method-c-leap-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">gregorian_leap?(year)  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">leap?(year)            &rarr;  bool</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given year is a leap year of the proleptic Gregorian
calendar.</p>

<p>For example:</p>

<pre>Date.gregorian_leap?(1900)        #=&gt; false
Date.gregorian_leap?(2000)        #=&gt; true</pre>
            

            
            <div class="method-source-code" id="leap-3F-source">
<pre>
static VALUE
date_s_gregorian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, -1, &amp;nth, &amp;ry);
    return f_boolcast(c_gregorian_leap_p(ry));
}</pre>
            </div><!-- leap-3F-source -->
            
          </div>

          

          
        </div><!-- leap-3F-method -->

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">civil([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">new([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])    &rarr;  date</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a date object denoting the given calendar date.</p>

<p>In this class, BCE years are counted astronomically.  Thus, the year before
the year 1 is the year zero, and the year preceding the year zero is the
year -1.  The month and the day of month should be a negative or a positive
number (as a relative month/day from the end of year/month when negative). 
They should not be zero.</p>

<p>The last argument should be a Julian day number which denotes the day of
calendar reform.  Date::ITALY (2299161=1582-10-15), Date::ENGLAND
(2361222=1752-09-14), Date::GREGORIAN (the proleptic Gregorian calendar)
and Date::JULIAN (the proleptic Julian calendar) can be specified as a day
of calendar reform.</p>

<p>For example:</p>

<pre>Date.new(2001)            #=&gt; #&lt;Date: 2001-01-01 ...&gt;
Date.new(2001,2,3)        #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.new(2001,2,-1)       #=&gt; #&lt;Date: 2001-02-28 ...&gt;</pre>

<p>See also jd.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
static VALUE
date_s_civil(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg, y, fr, fr2, ret;
    int m, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    m = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
        val2sg(vsg, sg);
      case 3:
        num2int_with_frac(d, positive_inf);
      case 2:
        m = NUM2INT(vm);
      case 1:
        y = vy;
    }

    if (guess_style(y, sg) &lt; 0) {
        VALUE nth;
        int ry, rm, rd;

        if (!valid_gregorian_p(y, m, d,
                               &amp;nth, &amp;ry,
                               &amp;rm, &amp;rd))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                    nth, 0,
                                    sg,
                                    ry, rm, rd,
                                    HAVE_CIVIL);
    }
    else {
        VALUE nth;
        int ry, rm, rd, rjd, ns;

        if (!valid_civil_p(y, m, d, sg,
                           &amp;nth, &amp;ry,
                           &amp;rm, &amp;rd, &amp;rjd,
                           &amp;ns))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                    nth, rjd,
                                    sg,
                                    ry, rm, rd,
                                    HAVE_JD | HAVE_CIVIL);
    }
    add_frac();
    return ret;
}</pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
        <div id="ordinal-method" class="method-detail ">
          <a name="method-c-ordinal"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">ordinal([year=-4712[, yday=1[, start=Date::ITALY]]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a date object denoting the given ordinal date.</p>

<p>The day of year should be a negative or a positive number (as a relative
day from the end of year when negative).  It should not be zero.</p>

<p>For example:</p>

<pre>Date.ordinal(2001)        #=&gt; #&lt;Date: 2001-01-01 ...&gt;
Date.ordinal(2001,34)     #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.ordinal(2001,-1)     #=&gt; #&lt;Date: 2001-12-31 ...&gt;</pre>

<p>See also jd and new.</p>
            

            
            <div class="method-source-code" id="ordinal-source">
<pre>
static VALUE
date_s_ordinal(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vd, vsg, y, fr, fr2, ret;
    int d;
    double sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;vy, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 3:
        val2sg(vsg, sg);
      case 2:
        num2int_with_frac(d, positive_inf);
      case 1:
        y = vy;
    }

    {
        VALUE nth;
        int ry, rd, rjd, ns;

        if (!valid_ordinal_p(y, d, sg,
                             &amp;nth, &amp;ry,
                             &amp;rd, &amp;rjd,
                             &amp;ns))
            rb_raise(rb_eArgError, &quot;invalid date&quot;);

        ret = d_simple_new_internal(klass,
                                     nth, rjd,
                                     sg,
                                     0, 0, 0,
                                     HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
            </div><!-- ordinal-source -->
            
          </div>

          

          
        </div><!-- ordinal-method -->

      
        <div id="parse-method" class="method-detail ">
          <a name="method-c-parse"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">parse(string='-4712-01-01'[, comp=true[, start=ITALY]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Parses the given representation of date and time, and creates a date
object.</p>

<p>If the optional second argument is true and the detected year is in the
range “00” to “99”, considers the year a 2-digit form and makes it full.</p>

<p>For example:</p>

<pre>Date.parse('2001-02-03')          #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.parse('20010203')            #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.parse('3rd Feb 2001')        #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="parse-source">
<pre>
static VALUE
date_s_parse(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, comp, sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;str, &amp;comp, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
        comp = Qtrue;
      case 2:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE argv2[2], hash;

        argv2[0] = str;
        argv2[1] = comp;
        hash = date_s__parse(2, argv2, klass);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- parse-source -->
            
          </div>

          

          
        </div><!-- parse-method -->

      
        <div id="rfc2822-method" class="method-detail ">
          <a name="method-c-rfc2822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])   &rarr;  date</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 2822 formats.</p>

<p>For example:</p>

<pre>Date.rfc2822('Sat, 3 Feb 2001 00:00:00 +0000')
                                          #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="rfc2822-source">
<pre>
static VALUE
date_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__rfc2822(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- rfc2822-source -->
            
          </div>

          

          
        </div><!-- rfc2822-method -->

      
        <div id="rfc3339-method" class="method-detail ">
          <a name="method-c-rfc3339"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc3339(string='-4712-01-01T00:00:00+00:00'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 3339 formats.</p>

<p>For example:</p>

<pre>Date.rfc3339('2001-02-03T04:05:06+07:00') #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="rfc3339-source">
<pre>
static VALUE
date_s_rfc3339(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__rfc3339(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- rfc3339-source -->
            
          </div>

          

          
        </div><!-- rfc3339-method -->

      
        <div id="rfc822-method" class="method-detail ">
          <a name="method-c-rfc822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])   &rarr;  date</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 2822 formats.</p>

<p>For example:</p>

<pre>Date.rfc2822('Sat, 3 Feb 2001 00:00:00 +0000')
                                          #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="rfc822-source">
<pre>
static VALUE
date_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__rfc2822(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- rfc822-source -->
            
          </div>

          

          
        </div><!-- rfc822-method -->

      
        <div id="strptime-method" class="method-detail ">
          <a name="method-c-strptime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">strptime([string='-4712-01-01'[, format='%F'[, start=ITALY]]])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Parses the given representation of date and time with the given template,
and creates a date object.</p>

<p>For example:</p>

<pre>Date.strptime('2001-02-03', '%Y-%m-%d')   #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('03-02-2001', '%d-%m-%Y')   #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('2001-034', '%Y-%j')        #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('2001-W05-6', '%G-W%V-%u')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('2001 04 6', '%Y %U %w')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('2001 05 6', '%Y %W %u')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
Date.strptime('sat3feb01', '%a%d%b%y')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>

<p>See also strptime(3) and strftime.</p>
            

            
            <div class="method-source-code" id="strptime-source">
<pre>
static VALUE
date_s_strptime(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, fmt, sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;str, &amp;fmt, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
        fmt = rb_str_new2(&quot;%F&quot;);
      case 2:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE argv2[2], hash;

        argv2[0] = str;
        argv2[1] = fmt;
        hash = date_s__strptime(2, argv2, klass);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- strptime-source -->
            
          </div>

          

          
        </div><!-- strptime-method -->

      
        <div id="today-method" class="method-detail ">
          <a name="method-c-today"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">today([start=Date::ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>For example:</p>

<pre>Date.today                #=&gt; #&lt;Date: 2011-06-11 ..&gt;</pre>

<p>Creates a date object denoting the present day.</p>
            

            
            <div class="method-source-code" id="today-source">
<pre>
static VALUE
date_s_today(int argc, VALUE *argv, VALUE klass)
{
    VALUE vsg, nth, ret;
    double sg;
    time_t t;
    struct tm tm;
    int y, ry, m, d;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vsg);

    if (argc &lt; 1)
        sg = DEFAULT_SG;
    else
        val2sg(vsg, sg);

    if (time(&amp;t) == -1)
        rb_sys_fail(&quot;time&quot;);
    if (!localtime_r(&amp;t, &amp;tm))
        rb_sys_fail(&quot;localtime&quot;);

    y = tm.tm_year + 1900;
    m = tm.tm_mon + 1;
    d = tm.tm_mday;

    decode_year(INT2FIX(y), -1, &amp;nth, &amp;ry);

    ret = d_simple_new_internal(klass,
                                nth, 0,
                                GREGORIAN,
                                ry, m, d,
                                HAVE_CIVIL);
    {
        get_d1(ret);
        set_sg(dat, sg);
    }
    return ret;
}</pre>
            </div><!-- today-source -->
            
          </div>

          

          
        </div><!-- today-method -->

      
        <div id="valid_civil-3F-method" class="method-detail ">
          <a name="method-c-valid_civil-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">valid_civil?(year, month, mday[, start=Date::ITALY])  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">valid_date?(year, month, mday[, start=Date::ITALY])   &rarr;  bool</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given calendar date is valid, and false if not.</p>

<p>For example:</p>

<pre>Date.valid_date?(2001,2,3)        #=&gt; true
Date.valid_date?(2001,2,29)       #=&gt; false</pre>

<p>See also jd and civil.</p>
            

            
            <div class="method-source-code" id="valid_civil-3F-source">
<pre>
static VALUE
date_s_valid_civil_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vm;
    argv2[2] = vd;
    if (argc &lt; 4)
        argv2[3] = INT2FIX(DEFAULT_SG);
    else
        argv2[3] = vsg;

    if (NIL_P(valid_civil_sub(4, argv2, klass, 0)))
        return Qfalse;
    return Qtrue;
}</pre>
            </div><!-- valid_civil-3F-source -->
            
          </div>

          

          
        </div><!-- valid_civil-3F-method -->

      
        <div id="valid_commercial-3F-method" class="method-detail ">
          <a name="method-c-valid_commercial-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">valid_commercial?(cwyear, cweek, cwday[, start=Date::ITALY])  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given week date is valid, and false if not.</p>

<p>For example:</p>

<pre>Date.valid_commercial?(2001,5,6)  #=&gt; true
Date.valid_commercial?(2001,5,8)  #=&gt; false</pre>

<p>See also jd and commercial.</p>
            

            
            <div class="method-source-code" id="valid_commercial-3F-source">
<pre>
static VALUE
date_s_valid_commercial_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vw, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vw, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vw;
    argv2[2] = vd;
    if (argc &lt; 4)
        argv2[3] = INT2FIX(DEFAULT_SG);
    else
        argv2[3] = vsg;

    if (NIL_P(valid_commercial_sub(4, argv2, klass, 0)))
        return Qfalse;
    return Qtrue;
}</pre>
            </div><!-- valid_commercial-3F-source -->
            
          </div>

          

          
        </div><!-- valid_commercial-3F-method -->

      
        <div id="valid_date-3F-method" class="method-detail ">
          <a name="method-c-valid_date-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">valid_civil?(year, month, mday[, start=Date::ITALY])  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">valid_date?(year, month, mday[, start=Date::ITALY])   &rarr;  bool</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given calendar date is valid, and false if not.</p>

<p>For example:</p>

<pre>Date.valid_date?(2001,2,3)        #=&gt; true
Date.valid_date?(2001,2,29)       #=&gt; false</pre>

<p>See also jd and civil.</p>
            

            
            <div class="method-source-code" id="valid_date-3F-source">
<pre>
static VALUE
date_s_valid_civil_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vm;
    argv2[2] = vd;
    if (argc &lt; 4)
        argv2[3] = INT2FIX(DEFAULT_SG);
    else
        argv2[3] = vsg;

    if (NIL_P(valid_civil_sub(4, argv2, klass, 0)))
        return Qfalse;
    return Qtrue;
}</pre>
            </div><!-- valid_date-3F-source -->
            
          </div>

          

          
        </div><!-- valid_date-3F-method -->

      
        <div id="valid_jd-3F-method" class="method-detail ">
          <a name="method-c-valid_jd-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">valid_jd?(jd[, start=Date::ITALY])  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Just returns true.  It’s nonsense, but is for symmetry.</p>

<p>For example:</p>

<pre>Date.valid_jd?(2451944)           #=&gt; true</pre>

<p>See also jd.</p>
            

            
            <div class="method-source-code" id="valid_jd-3F-source">
<pre>
static VALUE
date_s_valid_jd_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vjd, vsg;
    VALUE argv2[2];

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;vjd, &amp;vsg);

    argv2[0] = vjd;
    if (argc &lt; 2)
        argv2[1] = INT2FIX(DEFAULT_SG);
    else
        argv2[1] = vsg;

    if (NIL_P(valid_jd_sub(2, argv2, klass, 0)))
        return Qfalse;
    return Qtrue;
}</pre>
            </div><!-- valid_jd-3F-source -->
            
          </div>

          

          
        </div><!-- valid_jd-3F-method -->

      
        <div id="valid_ordinal-3F-method" class="method-detail ">
          <a name="method-c-valid_ordinal-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">valid_ordinal?(year, yday[, start=Date::ITALY])  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the given ordinal date is valid, and false if not.</p>

<p>For example:</p>

<pre>Date.valid_ordinal?(2001,34)      #=&gt; true
Date.valid_ordinal?(2001,366)     #=&gt; false</pre>

<p>See also jd and ordinal.</p>
            

            
            <div class="method-source-code" id="valid_ordinal-3F-source">
<pre>
static VALUE
date_s_valid_ordinal_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vd, vsg;
    VALUE argv2[3];

    rb_scan_args(argc, argv, &quot;21&quot;, &amp;vy, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vd;
    if (argc &lt; 3)
        argv2[2] = INT2FIX(DEFAULT_SG);
    else
        argv2[2] = vsg;

    if (NIL_P(valid_ordinal_sub(3, argv2, klass, 0)))
        return Qfalse;
    return Qtrue;
}</pre>
            </div><!-- valid_ordinal-3F-source -->
            
          </div>

          

          
        </div><!-- valid_ordinal-3F-method -->

      
        <div id="xmlschema-method" class="method-detail ">
          <a name="method-c-xmlschema"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">xmlschema(string='-4712-01-01'[, start=ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical XML Schema formats.</p>

<p>For example:</p>

<pre>Date.xmlschema('2001-02-03')      #=&gt; #&lt;Date: 2001-02-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="xmlschema-source">
<pre>
static VALUE
date_s_xmlschema(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
        str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
        sg = INT2FIX(DEFAULT_SG);
    }

    {
        VALUE hash = date_s__xmlschema(klass, str);
        return d_new_by_frags(klass, hash, sg);
    }
}</pre>
            </div><!-- xmlschema-source -->
            
          </div>

          

          
        </div><!-- xmlschema-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="2B-method" class="method-detail ">
          <a name="method-i-2B"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d + other  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a date object pointing other days after self.  The other should be
a numeric value.  If the other is flonum, assumes its precision is at most
nanosecond.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) + 1    #=&gt; #&lt;Date: 2001-02-04 ...&gt;
DateTime.new(2001,2,3) + Rational(1,2)
                          #=&gt; #&lt;DateTime: 2001-02-03T12:00:00+00:00 ...&gt;
DateTime.new(2001,2,3) + Rational(-1,2)
                          #=&gt; #&lt;DateTime: 2001-02-02T12:00:00+00:00 ...&gt;
DateTime.jd(0,12) + DateTime.new(2001,2,3).ajd
                          #=&gt; #&lt;DateTime: 2001-02-03T00:00:00+00:00 ...&gt;</pre>
            

            
            <div class="method-source-code" id="2B-source">
<pre>
static VALUE
d_lite_plus(VALUE self, VALUE other)
{
    get_d1(self);

    switch (TYPE(other)) {
      case T_FIXNUM:
        {
            VALUE nth;
            long t;
            int jd;

            nth = m_nth(dat);
            t = FIX2LONG(other);
            if (DIV(t, CM_PERIOD)) {
                nth = f_add(nth, INT2FIX(DIV(t, CM_PERIOD)));
                t = MOD(t, CM_PERIOD);
            }

            if (!t)
                jd = m_jd(dat);
            else {
                jd = m_jd(dat) + (int)t;

                if (jd &lt; 0) {
                    nth = f_sub(nth, INT2FIX(1));
                    jd += CM_PERIOD;
                }
                else if (jd &gt;= CM_PERIOD) {
                    nth = f_add(nth, INT2FIX(1));
                    jd -= CM_PERIOD;
                }
            }

            if (simple_dat_p(dat))
                return d_simple_new_internal(rb_obj_class(self),
                                             nth, jd,
                                             dat-&gt;s.sg,
                                             0, 0, 0,
                                             (dat-&gt;s.flags | HAVE_JD) &amp;
                                             ~HAVE_CIVIL);
            else
                return d_complex_new_internal(rb_obj_class(self),
                                              nth, jd,
                                              dat-&gt;c.df, dat-&gt;c.sf,
                                              dat-&gt;c.of, dat-&gt;c.sg,
                                              0, 0, 0,
#ifndef USE_PACK
                                              dat-&gt;c.hour,
                                              dat-&gt;c.min,
                                              dat-&gt;c.sec,
#else
                                              EX_HOUR(dat-&gt;c.pc),
                                              EX_MIN(dat-&gt;c.pc),
                                              EX_SEC(dat-&gt;c.pc),
#endif
                                              (dat-&gt;c.flags | HAVE_JD) &amp;
                                              ~HAVE_CIVIL);
        }
        break;
      case T_BIGNUM:
        {
            VALUE nth;
            int jd, s;

            if (f_positive_p(other))
                s = +1;
            else {
                s = -1;
                other = f_negate(other);
            }

            nth = f_idiv(other, INT2FIX(CM_PERIOD));
            jd = FIX2INT(f_mod(other, INT2FIX(CM_PERIOD)));

            if (s &lt; 0) {
                nth = f_negate(nth);
                jd = -jd;
            }

            if (!jd)
                jd = m_jd(dat);
            else {
                jd = m_jd(dat) + jd;
                if (jd &lt; 0) {
                    nth = f_sub(nth, INT2FIX(1));
                    jd += CM_PERIOD;
                }
                else if (jd &gt;= CM_PERIOD) {
                    nth = f_add(nth, INT2FIX(1));
                    jd -= CM_PERIOD;
                }
            }

            if (f_zero_p(nth))
                nth = m_nth(dat);
            else
                nth = f_add(m_nth(dat), nth);

            if (simple_dat_p(dat))
                return d_simple_new_internal(rb_obj_class(self),
                                             nth, jd,
                                             dat-&gt;s.sg,
                                             0, 0, 0,
                                             (dat-&gt;s.flags | HAVE_JD) &amp;
                                             ~HAVE_CIVIL);
            else
                return d_complex_new_internal(rb_obj_class(self),
                                              nth, jd,
                                              dat-&gt;c.df, dat-&gt;c.sf,
                                              dat-&gt;c.of, dat-&gt;c.sg,
                                              0, 0, 0,
#ifndef USE_PACK
                                              dat-&gt;c.hour,
                                              dat-&gt;c.min,
                                              dat-&gt;c.sec,
#else
                                              EX_HOUR(dat-&gt;c.pc),
                                              EX_MIN(dat-&gt;c.pc),
                                              EX_SEC(dat-&gt;c.pc),
#endif
                                              (dat-&gt;c.flags | HAVE_JD) &amp;
                                              ~HAVE_CIVIL);
        }
        break;
      case T_FLOAT:
        {
            double jd, o, tmp;
            int s, df;
            VALUE nth, sf;

            o = RFLOAT_VALUE(other);

            if (o &gt; 0)
                s = +1;
            else {
                s = -1;
                o = -o;
            }

            o = modf(o, &amp;tmp);

            if (!floor(tmp / CM_PERIOD)) {
                nth = INT2FIX(0);
                jd = (int)tmp;
            }
            else {
                double i, f;

                f = modf(tmp / CM_PERIOD, &amp;i);
                nth = f_floor(DBL2NUM(i));
                jd = (int)(f * CM_PERIOD);
            }

            o *= DAY_IN_SECONDS;
            o = modf(o, &amp;tmp);
            df = (int)tmp;
            o *= SECOND_IN_NANOSECONDS;
            sf = INT2FIX((int)round(o));

            if (s &lt; 0) {
                jd = -jd;
                df = -df;
                sf = f_negate(sf);
            }

            if (f_zero_p(sf))
                sf = m_sf(dat);
            else {
                sf = f_add(m_sf(dat), sf);
                if (f_lt_p(sf, INT2FIX(0))) {
                    df -= 1;
                    sf = f_add(sf, INT2FIX(SECOND_IN_NANOSECONDS));
                }
                else if (f_ge_p(sf, INT2FIX(SECOND_IN_NANOSECONDS))) {
                    df += 1;
                    sf = f_sub(sf, INT2FIX(SECOND_IN_NANOSECONDS));
                }
            }

            if (!df)
                df = m_df(dat);
            else {
                df = m_df(dat) + df;
                if (df &lt; 0) {
                    jd -= 1;
                    df += DAY_IN_SECONDS;
                }
                else if (df &gt;= DAY_IN_SECONDS) {
                    jd += 1;
                    df -= DAY_IN_SECONDS;
                }
            }

            if (!jd)
                jd = m_jd(dat);
            else {
                jd = m_jd(dat) + jd;
                if (jd &lt; 0) {
                    nth = f_sub(nth, INT2FIX(1));
                    jd += CM_PERIOD;
                }
                else if (jd &gt;= CM_PERIOD) {
                    nth = f_add(nth, INT2FIX(1));
                    jd -= CM_PERIOD;
                }
            }

            if (f_zero_p(nth))
                nth = m_nth(dat);
            else
                nth = f_add(m_nth(dat), nth);

            if (!df &amp;&amp; f_zero_p(sf) &amp;&amp; !m_of(dat))
                return d_simple_new_internal(rb_obj_class(self),
                                             nth, (int)jd,
                                             m_sg(dat),
                                             0, 0, 0,
                                             (dat-&gt;s.flags | HAVE_JD) &amp;
                                             ~(HAVE_CIVIL | HAVE_TIME |
                                               COMPLEX_DAT));
            else
                return d_complex_new_internal(rb_obj_class(self),
                                              nth, (int)jd,
                                              df, sf,
                                              m_of(dat), m_sg(dat),
                                              0, 0, 0,
                                              0, 0, 0,
                                              (dat-&gt;c.flags |
                                               HAVE_JD | HAVE_DF) &amp;
                                              ~(HAVE_CIVIL | HAVE_TIME));
        }
        break;
      default:
        if (!k_numeric_p(other))
            rb_raise(rb_eTypeError, &quot;expected numeric&quot;);
        other = f_to_r(other);
#ifdef CANONICALIZATION_FOR_MATHN
        if (!k_rational_p(other))
            return d_lite_plus(self, other);
#endif
        /* fall through */
      case T_RATIONAL:
        {
            VALUE nth, sf, t;
            int jd, df, s;

            if (wholenum_p(other))
                return d_lite_plus(self, RRATIONAL(other)-&gt;num);

            if (f_positive_p(other))
                s = +1;
            else {
                s = -1;
                other = f_negate(other);
            }

            nth = f_idiv(other, INT2FIX(CM_PERIOD));
            t = f_mod(other, INT2FIX(CM_PERIOD));

            jd = FIX2INT(f_idiv(t, INT2FIX(1)));
            t = f_mod(t, INT2FIX(1));

            t = f_mul(t, INT2FIX(DAY_IN_SECONDS));
            df = FIX2INT(f_idiv(t, INT2FIX(1)));
            t = f_mod(t, INT2FIX(1));

            sf = f_mul(t, INT2FIX(SECOND_IN_NANOSECONDS));

            if (s &lt; 0) {
                nth = f_negate(nth);
                jd = -jd;
                df = -df;
                sf = f_negate(sf);
            }

            if (f_zero_p(sf))
                sf = m_sf(dat);
            else {
                sf = f_add(m_sf(dat), sf);
                if (f_lt_p(sf, INT2FIX(0))) {
                    df -= 1;
                    sf = f_add(sf, INT2FIX(SECOND_IN_NANOSECONDS));
                }
                else if (f_ge_p(sf, INT2FIX(SECOND_IN_NANOSECONDS))) {
                    df += 1;
                    sf = f_sub(sf, INT2FIX(SECOND_IN_NANOSECONDS));
                }
            }

            if (!df)
                df = m_df(dat);
            else {
                df = m_df(dat) + df;
                if (df &lt; 0) {
                    jd -= 1;
                    df += DAY_IN_SECONDS;
                }
                else if (df &gt;= DAY_IN_SECONDS) {
                    jd += 1;
                    df -= DAY_IN_SECONDS;
                }
            }

            if (!jd)
                jd = m_jd(dat);
            else {
                jd = m_jd(dat) + jd;
                if (jd &lt; 0) {
                    nth = f_sub(nth, INT2FIX(1));
                    jd += CM_PERIOD;
                }
                else if (jd &gt;= CM_PERIOD) {
                    nth = f_add(nth, INT2FIX(1));
                    jd -= CM_PERIOD;
                }
            }

            if (f_zero_p(nth))
                nth = m_nth(dat);
            else
                nth = f_add(m_nth(dat), nth);

            if (!df &amp;&amp; f_zero_p(sf) &amp;&amp; !m_of(dat))
                return d_simple_new_internal(rb_obj_class(self),
                                             nth, jd,
                                             m_sg(dat),
                                             0, 0, 0,
                                             (dat-&gt;s.flags | HAVE_JD) &amp;
                                             ~(HAVE_CIVIL | HAVE_TIME |
                                               COMPLEX_DAT));
            else
                return d_complex_new_internal(rb_obj_class(self),
                                              nth, jd,
                                              df, sf,
                                              m_of(dat), m_sg(dat),
                                              0, 0, 0,
                                              0, 0, 0,
                                              (dat-&gt;c.flags |
                                               HAVE_JD | HAVE_DF) &amp;
                                              ~(HAVE_CIVIL | HAVE_TIME));
        }
        break;
    }
}</pre>
            </div><!-- 2B-source -->
            
          </div>

          

          
        </div><!-- 2B-method -->

      
        <div id="2D-method" class="method-detail ">
          <a name="method-i-2D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d - other  &rarr;  date or rational</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the difference between the two dates if the other is a date object.
If the other is a numeric value, returns a date object pointing other days
before self.  If the other is flonum, assumes its precision is at most
nanosecond.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) - 1   #=&gt; #&lt;Date: 2001-02-02 ...&gt;
DateTime.new(2001,2,3) - Rational(1,2)
                         #=&gt; #&lt;DateTime: 2001-02-02T12:00:00+00:00 ...&gt;
Date.new(2001,2,3) - Date.new(2001)
                         #=&gt; (33/1)
DateTime.new(2001,2,3) - DateTime.new(2001,2,2,12)
                         #=&gt; (1/2)</pre>
            

            
            <div class="method-source-code" id="2D-source">
<pre>
static VALUE
d_lite_minus(VALUE self, VALUE other)
{
    if (k_date_p(other))
        return minus_dd(self, other);

    switch (TYPE(other)) {
      case T_FIXNUM:
        return d_lite_plus(self, LONG2NUM(-FIX2LONG(other)));
      case T_FLOAT:
        return d_lite_plus(self, DBL2NUM(-RFLOAT_VALUE(other)));
      default:
        if (!k_numeric_p(other))
            rb_raise(rb_eTypeError, &quot;expected numeric&quot;);
        /* fall through */
      case T_BIGNUM:
      case T_RATIONAL:
        return d_lite_plus(self, f_negate(other));
    }
}</pre>
            </div><!-- 2D-source -->
            
          </div>

          

          
        </div><!-- 2D-method -->

      
        <div id="3C-3C-method" class="method-detail ">
          <a name="method-i-3C-3C"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d << n  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a date object pointing n months before self.  The n should be a
numeric value.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) &lt;&lt; 1   #=&gt; #&lt;Date: 2001-01-03 ...&gt;
Date.new(2001,1,31) &lt;&lt; 11 #=&gt; #&lt;Date: 2000-02-29 ...&gt;
Date.new(2001,2,3) &lt;&lt; -1  #=&gt; #&lt;Date: 2001-03-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="3C-3C-source">
<pre>
static VALUE
d_lite_lshift(VALUE self, VALUE other)
{
    return d_lite_rshift(self, f_negate(other));
}</pre>
            </div><!-- 3C-3C-source -->
            
          </div>

          

          
        </div><!-- 3C-3C-method -->

      
        <div id="3C-3D-3E-method" class="method-detail ">
          <a name="method-i-3C-3D-3E"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d <=> other  &rarr; -1, 0, +1 or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Compares the two dates and returns -1, zero, 1 or nil.  The other should be
a date object or a numeric value as an astronomical Julian day number.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,4) #=&gt; -1
Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,3) #=&gt; 0
Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,2) #=&gt; 1
Date.new(2001,2,3) &lt;=&gt; Object.new         #=&gt; nil
Date.new(2001,2,3) &lt;=&gt; Rational(4903887,2)#=&gt; 0</pre>

<p>See also Comparable.</p>
            

            
            <div class="method-source-code" id="3C-3D-3E-source">
<pre>
static VALUE
d_lite_cmp(VALUE self, VALUE other)
{
    if (!k_date_p(other))
        return cmp_gen(self, other);

    {
        get_d2(self, other);

        if (!(simple_dat_p(adat) &amp;&amp; simple_dat_p(bdat) &amp;&amp;
              m_gregorian_p(adat) == m_gregorian_p(bdat)))
            return cmp_dd(self, other);

        if (have_jd_p(adat) &amp;&amp;
            have_jd_p(bdat)) {
            VALUE a_nth, b_nth;
            int a_jd, b_jd;

            a_nth = m_nth(adat);
            b_nth = m_nth(bdat);
            if (f_eqeq_p(a_nth, b_nth)) {
                a_jd = m_jd(adat);
                b_jd = m_jd(bdat);
                if (a_jd == b_jd) {
                    return INT2FIX(0);
                }
                else if (a_jd &lt; b_jd) {
                    return INT2FIX(-1);
                }
                else {
                    return INT2FIX(1);
                }
            }
            else if (a_nth &lt; b_nth) {
                return INT2FIX(-1);
            }
            else {
                return INT2FIX(1);
            }
        }
        else {
#ifndef USE_PACK
            VALUE a_nth, b_nth;
            int a_year, b_year,
                a_mon, b_mon,
                a_mday, b_mday;
#else
            VALUE a_nth, b_nth;
            int a_year, b_year,
                a_pd, b_pd;
#endif

            a_nth = m_nth(adat);
            b_nth = m_nth(bdat);
            if (f_eqeq_p(a_nth, b_nth)) {
                a_year = m_year(adat);
                b_year = m_year(bdat);
                if (a_year == b_year) {
#ifndef USE_PACK
                    a_mon = m_mon(adat);
                    b_mon = m_mon(bdat);
                    if (a_mon == b_mon) {
                        a_mday = m_mday(adat);
                        b_mday = m_mday(bdat);
                        if (a_mday == b_mday) {
                            return INT2FIX(0);
                        }
                        else if (a_mday &lt; b_mday) {
                            return INT2FIX(-1);
                        }
                        else {
                            return INT2FIX(1);
                        }
                    }
                    else if (a_mon &lt; b_mon) {
                        return INT2FIX(-1);
                    }
                    else {
                        return INT2FIX(1);
                    }
#else
                    a_pd = m_pc(adat);
                    b_pd = m_pc(bdat);
                    if (a_pd == b_pd) {
                        return INT2FIX(0);
                    }
                    else if (a_pd &lt; b_pd) {
                        return INT2FIX(-1);
                    }
                    else {
                        return INT2FIX(1);
                    }
#endif
                }
                else if (a_year &lt; b_year) {
                    return INT2FIX(-1);
                }
                else {
                    return INT2FIX(1);
                }
            }
            else if (f_lt_p(a_nth, b_nth)) {
                return INT2FIX(-1);
            }
            else {
                return INT2FIX(1);
            }
        }
    }
}</pre>
            </div><!-- 3C-3D-3E-source -->
            
          </div>

          

          
        </div><!-- 3C-3D-3E-method -->

      
        <div id="3D-3D-3D-method" class="method-detail ">
          <a name="method-i-3D-3D-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d === other  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if they are the same day.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) === Date.new(2001,2,3)
                                  #=&gt; true
Date.new(2001,2,3) === Date.new(2001,2,4)
                                  #=&gt; false
DateTime.new(2001,2,3) === DateTime.new(2001,2,3,12)
                                  #=&gt; true
DateTime.new(2001,2,3) === DateTime.new(2001,2,3,0,0,0,'+24:00')
                                  #=&gt; true
DateTime.new(2001,2,3) === DateTime.new(2001,2,4,0,0,0,'+24:00')
                                  #=&gt; false</pre>
            

            
            <div class="method-source-code" id="3D-3D-3D-source">
<pre>
static VALUE
d_lite_equal(VALUE self, VALUE other)
{
    if (!k_date_p(other))
        return equal_gen(self, other);

    {
        get_d2(self, other);

        if (!(m_gregorian_p(adat) == m_gregorian_p(bdat)))
            return equal_gen(self, other);

        if (have_jd_p(adat) &amp;&amp;
            have_jd_p(bdat)) {
            VALUE a_nth, b_nth;
            int a_jd, b_jd;

            a_nth = m_nth(adat);
            b_nth = m_nth(bdat);
            a_jd = m_local_jd(adat);
            b_jd = m_local_jd(bdat);
            if (f_eqeq_p(a_nth, b_nth) &amp;&amp;
                a_jd == b_jd)
                return Qtrue;
            return Qfalse;
        }
        else {
#ifndef USE_PACK
            VALUE a_nth, b_nth;
            int a_year, b_year,
                a_mon, b_mon,
                a_mday, b_mday;
#else
            VALUE a_nth, b_nth;
            int a_year, b_year,
                a_pd, b_pd;
#endif

            a_nth = m_nth(adat);
            b_nth = m_nth(bdat);
            if (f_eqeq_p(a_nth, b_nth)) {
                a_year = m_year(adat);
                b_year = m_year(bdat);
                if (a_year == b_year) {
#ifndef USE_PACK
                    a_mon = m_mon(adat);
                    b_mon = m_mon(bdat);
                    if (a_mon == b_mon) {
                        a_mday = m_mday(adat);
                        b_mday = m_mday(bdat);
                        if (a_mday == b_mday)
                            return Qtrue;
                    }
#else
                    /* mon and mday only */
                    a_pd = (m_pc(adat) &gt;&gt; MDAY_SHIFT);
                    b_pd = (m_pc(bdat) &gt;&gt; MDAY_SHIFT);
                    if (a_pd == b_pd) {
                        return Qtrue;
                    }
#endif
                }
            }
            return Qfalse;
        }
    }
}</pre>
            </div><!-- 3D-3D-3D-source -->
            
          </div>

          

          
        </div><!-- 3D-3D-3D-method -->

      
        <div id="3E-3E-method" class="method-detail ">
          <a name="method-i-3E-3E"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">d >> n  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a date object pointing n months after self.  The n should be a
numeric value.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3) &gt;&gt; 1   #=&gt; #&lt;Date: 2001-03-03 ...&gt;
Date.new(2001,1,31) &gt;&gt; 1  #=&gt; #&lt;Date: 2001-02-28 ...&gt;
Date.new(2001,2,3) &gt;&gt; -2  #=&gt; #&lt;Date: 2000-12-03 ...&gt;</pre>
            

            
            <div class="method-source-code" id="3E-3E-source">
<pre>
static VALUE
d_lite_rshift(VALUE self, VALUE other)
{
    VALUE t, y, nth, rjd2;
    int m, d, rjd;
    double sg;

    get_d1(self);
    t = f_add3(f_mul(m_real_year(dat), INT2FIX(12)),
               INT2FIX(m_mon(dat) - 1),
               other);
    if (FIXNUM_P(t)) {
        long it = FIX2LONG(t);
        y = LONG2NUM(DIV(it, 12));
        it = MOD(it, 12);
        m = (int)it + 1;
    }
    else {
        y = f_idiv(t, INT2FIX(12));
        t = f_mod(t, INT2FIX(12));
        m = FIX2INT(t) + 1;
    }
    d = m_mday(dat);
    sg = m_sg(dat);

    while (1) {
        int ry, rm, rd, ns;

        if (valid_civil_p(y, m, d, sg,
                          &amp;nth, &amp;ry,
                          &amp;rm, &amp;rd, &amp;rjd, &amp;ns))
            break;
        if (--d &lt; 1)
            rb_raise(rb_eArgError, &quot;invalid date&quot;);
    }
    encode_jd(nth, rjd, &amp;rjd2);
    return d_lite_plus(self, f_sub(rjd2, m_real_local_jd(dat)));
}</pre>
            </div><!-- 3E-3E-source -->
            
          </div>

          

          
        </div><!-- 3E-3E-method -->

      
        <div id="ajd-method" class="method-detail ">
          <a name="method-i-ajd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">ajd  &rarr;  rational</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the astronomical Julian day number.  This is a fractional number,
which is not adjusted by the offset.</p>

<p>For example:</p>

<pre>DateTime.new(2001,2,3,4,5,6,'+7').ajd     #=&gt; (11769328217/4800)
DateTime.new(2001,2,2,14,5,6,'-7').ajd    #=&gt; (11769328217/4800)</pre>
            

            
            <div class="method-source-code" id="ajd-source">
<pre>
static VALUE
d_lite_ajd(VALUE self)
{
    get_d1(self);
    return m_ajd(dat);
}</pre>
            </div><!-- ajd-source -->
            
          </div>

          

          
        </div><!-- ajd-method -->

      
        <div id="amjd-method" class="method-detail ">
          <a name="method-i-amjd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">amjd  &rarr;  rational</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the astronomical modified Julian day number.  This is a fractional
number, which is not adjusted by the offset.</p>

<p>For example:</p>

<pre>DateTime.new(2001,2,3,4,5,6,'+7').amjd    #=&gt; (249325817/4800)
DateTime.new(2001,2,2,14,5,6,'-7').amjd   #=&gt; (249325817/4800)</pre>
            

            
            <div class="method-source-code" id="amjd-source">
<pre>
static VALUE
d_lite_amjd(VALUE self)
{
    get_d1(self);
    return m_amjd(dat);
}</pre>
            </div><!-- amjd-source -->
            
          </div>

          

          
        </div><!-- amjd-method -->

      
        <div id="as_json-method" class="method-detail ">
          <a name="method-i-as_json"></a>

          
          <div class="method-heading">
            <span class="method-name">as_json</span><span
              class="method-args">(*)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a hash, that will be turned into a <a href="JSON.html">JSON</a>
object and represent this object.</p>
            

            
            <div class="method-source-code" id="as_json-source">
<pre>
<span class="ruby-comment"># File ext/json/lib/json/add/core.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">as_json</span>(*)
  {
    <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
    <span class="ruby-string">'y'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">year</span>,
    <span class="ruby-string">'m'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">month</span>,
    <span class="ruby-string">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">day</span>,
    <span class="ruby-string">'sg'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">start</span>,
  }
<span class="ruby-keyword">end</span></pre>
            </div><!-- as_json-source -->
            
          </div>

          

          
        </div><!-- as_json-method -->

      
        <div id="asctime-method" class="method-detail ">
          <a name="method-i-asctime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">asctime  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">ctime    &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a string in asctime(3) format (but without “n0” at the end).  This
method is equivalent to strftime(‘%c’).</p>

<p>See also asctime(3) or ctime(3).</p>
            

            
            <div class="method-source-code" id="asctime-source">
<pre>
static VALUE
d_lite_asctime(VALUE self)
{
    return strftimev(&quot;%a %b %e %H:%M:%S %Y&quot;, self, set_tmx);
}</pre>
            </div><!-- asctime-source -->
            
          </div>

          

          
        </div><!-- asctime-method -->

      
        <div id="ctime-method" class="method-detail ">
          <a name="method-i-ctime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">asctime  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">ctime    &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a string in asctime(3) format (but without “n0” at the end).  This
method is equivalent to strftime(‘%c’).</p>

<p>See also asctime(3) or ctime(3).</p>
            

            
            <div class="method-source-code" id="ctime-source">
<pre>
static VALUE
d_lite_asctime(VALUE self)
{
    return strftimev(&quot;%a %b %e %H:%M:%S %Y&quot;, self, set_tmx);
}</pre>
            </div><!-- ctime-source -->
            
          </div>

          

          
        </div><!-- ctime-method -->

      
        <div id="cwday-method" class="method-detail ">
          <a name="method-i-cwday"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">cwday  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the day of calendar week (1-7, Monday is 1).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).cwday          #=&gt; 6</pre>
            

            
            <div class="method-source-code" id="cwday-source">
<pre>
static VALUE
d_lite_cwday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_cwday(dat));
}</pre>
            </div><!-- cwday-source -->
            
          </div>

          

          
        </div><!-- cwday-method -->

      
        <div id="cweek-method" class="method-detail ">
          <a name="method-i-cweek"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">cweek  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the calendar week number (1-53).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).cweek          #=&gt; 5</pre>
            

            
            <div class="method-source-code" id="cweek-source">
<pre>
static VALUE
d_lite_cweek(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_cweek(dat));
}</pre>
            </div><!-- cweek-source -->
            
          </div>

          

          
        </div><!-- cweek-method -->

      
        <div id="cwyear-method" class="method-detail ">
          <a name="method-i-cwyear"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">cwyear  &rarr;  integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the calendar week based year.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).cwyear         #=&gt; 2001
Date.new(2000,1,1).cwyear         #=&gt; 1999</pre>
            

            
            <div class="method-source-code" id="cwyear-source">
<pre>
static VALUE
d_lite_cwyear(VALUE self)
{
    get_d1(self);
    return m_real_cwyear(dat);
}</pre>
            </div><!-- cwyear-source -->
            
          </div>

          

          
        </div><!-- cwyear-method -->

      
        <div id="day-method" class="method-detail ">
          <a name="method-i-day"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mday  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">day   &rarr;  fixnum</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the day of the month (1-31).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).mday           #=&gt; 3</pre>
            

            
            <div class="method-source-code" id="day-source">
<pre>
static VALUE
d_lite_mday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mday(dat));
}</pre>
            </div><!-- day-source -->
            
          </div>

          

          
        </div><!-- day-method -->

      
        <div id="day_fraction-method" class="method-detail ">
          <a name="method-i-day_fraction"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">day_fraction  &rarr;  rational</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the fractional part of the day.</p>

<p>For example:</p>

<pre>DateTime.new(2001,2,3,12).day_fraction    #=&gt; (1/2)</pre>
            

            
            <div class="method-source-code" id="day_fraction-source">
<pre>
static VALUE
d_lite_day_fraction(VALUE self)
{
    get_d1(self);
    if (simple_dat_p(dat))
        return INT2FIX(0);
    return m_fr(dat);
}</pre>
            </div><!-- day_fraction-source -->
            
          </div>

          

          
        </div><!-- day_fraction-method -->

      
        <div id="downto-method" class="method-detail ">
          <a name="method-i-downto"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">downto(min)              &rarr;  enumerator</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">downto(min){|date| ...}  &rarr;  self</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to step(min, -1){|date| …}.</p>
            

            
            <div class="method-source-code" id="downto-source">
<pre>
static VALUE
d_lite_downto(VALUE self, VALUE min)
{
    VALUE date;

    RETURN_ENUMERATOR(self, 1, &amp;min);

    date = self;
    while (FIX2INT(d_lite_cmp(date, min)) &gt;= 0) {
        rb_yield(date);
        date = d_lite_plus(date, INT2FIX(-1));
    }
    return self;
}</pre>
            </div><!-- downto-source -->
            
          </div>

          

          
        </div><!-- downto-method -->

      
        <div id="england-method" class="method-detail ">
          <a name="method-i-england"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">england  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to <a
href="Date.html#method-i-new_start">new_start</a>(Date::ENGLAND).</p>
            

            
            <div class="method-source-code" id="england-source">
<pre>
static VALUE
d_lite_england(VALUE self)
{
    return dup_obj_with_new_start(self, ENGLAND);
}</pre>
            </div><!-- england-source -->
            
          </div>

          

          
        </div><!-- england-method -->

      
        <div id="friday-3F-method" class="method-detail ">
          <a name="method-i-friday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">friday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Friday.</p>
            

            
            <div class="method-source-code" id="friday-3F-source">
<pre>
static VALUE
d_lite_friday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 5);
}</pre>
            </div><!-- friday-3F-source -->
            
          </div>

          

          
        </div><!-- friday-3F-method -->

      
        <div id="gregorian-method" class="method-detail ">
          <a name="method-i-gregorian"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">gregorian  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to <a
href="Date.html#method-i-new_start">new_start</a>(Date::GREGORIAN).</p>
            

            
            <div class="method-source-code" id="gregorian-source">
<pre>
static VALUE
d_lite_gregorian(VALUE self)
{
    return dup_obj_with_new_start(self, GREGORIAN);
}</pre>
            </div><!-- gregorian-source -->
            
          </div>

          

          
        </div><!-- gregorian-method -->

      
        <div id="gregorian-3F-method" class="method-detail ">
          <a name="method-i-gregorian-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">gregorian?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Retunrs true if the date is on or after the day of calendar reform.</p>

<p>For example:</p>

<pre>Date.new(1582,10,15).gregorian?          #=&gt; true
(Date.new(1582,10,15) - 1).gregorian?    #=&gt; false</pre>
            

            
            <div class="method-source-code" id="gregorian-3F-source">
<pre>
static VALUE
d_lite_gregorian_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_gregorian_p(dat));
}</pre>
            </div><!-- gregorian-3F-source -->
            
          </div>

          

          
        </div><!-- gregorian-3F-method -->

      
        <div id="httpdate-method" class="method-detail ">
          <a name="method-i-httpdate"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">httpdate  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%a, %d %b %Y %T GMT’). See also RFC
2616.</p>
            

            
            <div class="method-source-code" id="httpdate-source">
<pre>
static VALUE
d_lite_httpdate(VALUE self)
{
    volatile VALUE dup = dup_obj_with_new_offset(self, 0);
    return strftimev(&quot;%a, %d %b %Y %T GMT&quot;, dup, set_tmx);
}</pre>
            </div><!-- httpdate-source -->
            
          </div>

          

          
        </div><!-- httpdate-method -->

      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">inspect  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the value as a string for inspection.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).inspect
          #=&gt; &quot;#&lt;Date: 2001-02-03 ((2451944j,0s,0n),+0s,2299161j)&gt;&quot;
DateTime.new(2001,2,3,4,5,6,'-7').inspect
          #=&gt; &quot;#&lt;DateTime: 2001-02-03T04:05:06-07:00 ((2451944j,39906s,0n),-25200s,2299161j)&gt;&quot;</pre>
            

            
            <div class="method-source-code" id="inspect-source">
<pre>
static VALUE
d_lite_inspect(VALUE self)
{
    get_d1(self);
    return mk_inspect(dat, rb_obj_classname(self),
                      RSTRING_PTR(f_to_s(self)));
}</pre>
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->

      
        <div id="iso8601-method" class="method-detail ">
          <a name="method-i-iso8601"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">iso8601    &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">xmlschema  &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%F’).</p>
            

            
            <div class="method-source-code" id="iso8601-source">
<pre>
static VALUE
d_lite_iso8601(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
            </div><!-- iso8601-source -->
            
          </div>

          

          
        </div><!-- iso8601-method -->

      
        <div id="italy-method" class="method-detail ">
          <a name="method-i-italy"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">italy  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to <a
href="Date.html#method-i-new_start">new_start</a>(Date::ITALY).</p>
            

            
            <div class="method-source-code" id="italy-source">
<pre>
static VALUE
d_lite_italy(VALUE self)
{
    return dup_obj_with_new_start(self, ITALY);
}</pre>
            </div><!-- italy-source -->
            
          </div>

          

          
        </div><!-- italy-method -->

      
        <div id="jd-method" class="method-detail ">
          <a name="method-i-jd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">jd  &rarr;  integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the Julian day number.  This is a whole number, which is adjusted
by the offset as the local time.</p>

<p>For example:</p>

<pre>DateTime.new(2001,2,3,4,5,6,'+7').jd      #=&gt; 2451944
DateTime.new(2001,2,3,4,5,6,'-7').jd      #=&gt; 2451944</pre>
            

            
            <div class="method-source-code" id="jd-source">
<pre>
static VALUE
d_lite_jd(VALUE self)
{
    get_d1(self);
    return m_real_local_jd(dat);
}</pre>
            </div><!-- jd-source -->
            
          </div>

          

          
        </div><!-- jd-method -->

      
        <div id="jisx0301-method" class="method-detail ">
          <a name="method-i-jisx0301"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">jisx0301  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a string in a JIS X 0301 format.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).jisx0301       #=&gt; &quot;H13.02.03&quot;</pre>
            

            
            <div class="method-source-code" id="jisx0301-source">
<pre>
static VALUE
d_lite_jisx0301(VALUE self)
{
    VALUE s;

    get_d1(self);
    s = jisx0301_date(m_real_local_jd(dat),
                      m_real_year(dat));
    return strftimev(RSTRING_PTR(s), self, set_tmx);
}</pre>
            </div><!-- jisx0301-source -->
            
          </div>

          

          
        </div><!-- jisx0301-method -->

      
        <div id="julian-method" class="method-detail ">
          <a name="method-i-julian"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">julian  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to <a
href="Date.html#method-i-new_start">new_start</a>(Date::JULIAN).</p>
            

            
            <div class="method-source-code" id="julian-source">
<pre>
static VALUE
d_lite_julian(VALUE self)
{
    return dup_obj_with_new_start(self, JULIAN);
}</pre>
            </div><!-- julian-source -->
            
          </div>

          

          
        </div><!-- julian-method -->

      
        <div id="julian-3F-method" class="method-detail ">
          <a name="method-i-julian-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">julian?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Retruns true if the date is before the day of calendar reform.</p>

<p>For example:</p>

<pre>Date.new(1582,10,15).julian?             #=&gt; false
(Date.new(1582,10,15) - 1).julian?       #=&gt; true</pre>
            

            
            <div class="method-source-code" id="julian-3F-source">
<pre>
static VALUE
d_lite_julian_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_julian_p(dat));
}</pre>
            </div><!-- julian-3F-source -->
            
          </div>

          

          
        </div><!-- julian-3F-method -->

      
        <div id="ld-method" class="method-detail ">
          <a name="method-i-ld"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">ld  &rarr;  integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the Lilian day number.  This is a whole number, which is adjusted
by the offset as the local time.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).ld            #=&gt; 152784</pre>
            

            
            <div class="method-source-code" id="ld-source">
<pre>
static VALUE
d_lite_ld(VALUE self)
{
    get_d1(self);
    return f_sub(m_real_local_jd(dat), INT2FIX(2299160));
}</pre>
            </div><!-- ld-source -->
            
          </div>

          

          
        </div><!-- ld-method -->

      
        <div id="leap-3F-method" class="method-detail ">
          <a name="method-i-leap-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">leap?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the year is a leap year.</p>

<p>For example:</p>

<pre>Date.new(2000).leap?      #=&gt; true
Date.new(2001).leap?      #=&gt; false</pre>
            

            
            <div class="method-source-code" id="leap-3F-source">
<pre>
static VALUE
d_lite_leap_p(VALUE self)
{
    int rjd, ns, ry, rm, rd;

    get_d1(self);
    if (m_gregorian_p(dat))
        return f_boolcast(c_gregorian_leap_p(m_year(dat)));

    c_civil_to_jd(m_year(dat), 3, 1, m_virtual_sg(dat),
                  &amp;rjd, &amp;ns);
    c_jd_to_civil(rjd - 1, m_virtual_sg(dat), &amp;ry, &amp;rm, &amp;rd);
    return f_boolcast(rd == 29);
}</pre>
            </div><!-- leap-3F-source -->
            
          </div>

          

          
        </div><!-- leap-3F-method -->

      
        <div id="mday-method" class="method-detail ">
          <a name="method-i-mday"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mday  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">day   &rarr;  fixnum</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the day of the month (1-31).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).mday           #=&gt; 3</pre>
            

            
            <div class="method-source-code" id="mday-source">
<pre>
static VALUE
d_lite_mday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mday(dat));
}</pre>
            </div><!-- mday-source -->
            
          </div>

          

          
        </div><!-- mday-method -->

      
        <div id="mjd-method" class="method-detail ">
          <a name="method-i-mjd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mjd  &rarr;  integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the modified Julian day number.  This is a whole number, which is
adjusted by the offset as the local time.</p>

<p>For example:</p>

<pre>DateTime.new(2001,2,3,4,5,6,'+7').mjd     #=&gt; 51943
DateTime.new(2001,2,3,4,5,6,'-7').mjd     #=&gt; 51943</pre>
            

            
            <div class="method-source-code" id="mjd-source">
<pre>
static VALUE
d_lite_mjd(VALUE self)
{
    get_d1(self);
    return f_sub(m_real_local_jd(dat), INT2FIX(2400001));
}</pre>
            </div><!-- mjd-source -->
            
          </div>

          

          
        </div><!-- mjd-method -->

      
        <div id="mon-method" class="method-detail ">
          <a name="method-i-mon"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mon    &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">month  &rarr;  fixnum</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the month (1-12).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).mon            #=&gt; 2</pre>
            

            
            <div class="method-source-code" id="mon-source">
<pre>
static VALUE
d_lite_mon(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mon(dat));
}</pre>
            </div><!-- mon-source -->
            
          </div>

          

          
        </div><!-- mon-method -->

      
        <div id="monday-3F-method" class="method-detail ">
          <a name="method-i-monday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">monday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Monday.</p>
            

            
            <div class="method-source-code" id="monday-3F-source">
<pre>
static VALUE
d_lite_monday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 1);
}</pre>
            </div><!-- monday-3F-source -->
            
          </div>

          

          
        </div><!-- monday-3F-method -->

      
        <div id="month-method" class="method-detail ">
          <a name="method-i-month"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mon    &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">month  &rarr;  fixnum</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the month (1-12).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).mon            #=&gt; 2</pre>
            

            
            <div class="method-source-code" id="month-source">
<pre>
static VALUE
d_lite_mon(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mon(dat));
}</pre>
            </div><!-- month-source -->
            
          </div>

          

          
        </div><!-- month-method -->

      
        <div id="new_start-method" class="method-detail ">
          <a name="method-i-new_start"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">new_start([start=Date::ITALY])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Duplicates self and resets its the day of calendar reform.</p>

<p>For example:</p>

<pre>d = Date.new(1582,10,15)
d.new_start(Date::JULIAN)         #=&gt; #&lt;Date: 1582-10-05 ...&gt;</pre>
            

            
            <div class="method-source-code" id="new_start-source">
<pre>
static VALUE
d_lite_new_start(int argc, VALUE *argv, VALUE self)
{
    VALUE vsg;
    double sg;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vsg);

    sg = DEFAULT_SG;
    if (argc &gt;= 1)
        val2sg(vsg, sg);

    return dup_obj_with_new_start(self, sg);
}</pre>
            </div><!-- new_start-source -->
            
          </div>

          

          
        </div><!-- new_start-method -->

      
        <div id="next-method" class="method-detail ">
          <a name="method-i-next"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a date object denoting the following day.</p>
            

            
            <div class="method-source-code" id="next-source">
<pre>
static VALUE
d_lite_next(VALUE self)
{
    return d_lite_next_day(0, (VALUE *)NULL, self);
}</pre>
            </div><!-- next-source -->
            
          </div>

          

          
        </div><!-- next-method -->

      
        <div id="next_day-method" class="method-detail ">
          <a name="method-i-next_day"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next_day([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d + n.</p>
            

            
            <div class="method-source-code" id="next_day-source">
<pre>
static VALUE
d_lite_next_day(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_plus(self, n);
}</pre>
            </div><!-- next_day-source -->
            
          </div>

          

          
        </div><!-- next_day-method -->

      
        <div id="next_month-method" class="method-detail ">
          <a name="method-i-next_month"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next_month([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d &gt;&gt; n</p>
            

            
            <div class="method-source-code" id="next_month-source">
<pre>
static VALUE
d_lite_next_month(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_rshift(self, n);
}</pre>
            </div><!-- next_month-source -->
            
          </div>

          

          
        </div><!-- next_month-method -->

      
        <div id="next_year-method" class="method-detail ">
          <a name="method-i-next_year"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next_year([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d &gt;&gt; (n * 12)</p>
            

            
            <div class="method-source-code" id="next_year-source">
<pre>
static VALUE
d_lite_next_year(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_rshift(self, f_mul(n, INT2FIX(12)));
}</pre>
            </div><!-- next_year-source -->
            
          </div>

          

          
        </div><!-- next_year-method -->

      
        <div id="prev_day-method" class="method-detail ">
          <a name="method-i-prev_day"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">prev_day([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d - n.</p>
            

            
            <div class="method-source-code" id="prev_day-source">
<pre>
static VALUE
d_lite_prev_day(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_minus(self, n);
}</pre>
            </div><!-- prev_day-source -->
            
          </div>

          

          
        </div><!-- prev_day-method -->

      
        <div id="prev_month-method" class="method-detail ">
          <a name="method-i-prev_month"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">prev_month([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d &lt;&lt; n</p>
            

            
            <div class="method-source-code" id="prev_month-source">
<pre>
static VALUE
d_lite_prev_month(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_lshift(self, n);
}</pre>
            </div><!-- prev_month-source -->
            
          </div>

          

          
        </div><!-- prev_month-method -->

      
        <div id="prev_year-method" class="method-detail ">
          <a name="method-i-prev_year"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">prev_year([n=1])  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to d &lt;&lt; (n * 12)</p>
            

            
            <div class="method-source-code" id="prev_year-source">
<pre>
static VALUE
d_lite_prev_year(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
        n = INT2FIX(1);
    return d_lite_lshift(self, f_mul(n, INT2FIX(12)));
}</pre>
            </div><!-- prev_year-source -->
            
          </div>

          

          
        </div><!-- prev_year-method -->

      
        <div id="rfc2822-method" class="method-detail ">
          <a name="method-i-rfc2822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc2822  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">rfc822   &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%a, %-d %b %Y %T %z’).</p>
            

            
            <div class="method-source-code" id="rfc2822-source">
<pre>
static VALUE
d_lite_rfc2822(VALUE self)
{
    return strftimev(&quot;%a, %-d %b %Y %T %z&quot;, self, set_tmx);
}</pre>
            </div><!-- rfc2822-source -->
            
          </div>

          

          
        </div><!-- rfc2822-method -->

      
        <div id="rfc3339-method" class="method-detail ">
          <a name="method-i-rfc3339"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc3339  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%FT%T%:z’).</p>
            

            
            <div class="method-source-code" id="rfc3339-source">
<pre>
static VALUE
d_lite_rfc3339(VALUE self)
{
    return strftimev(&quot;%Y-%m-%dT%H:%M:%S%:z&quot;, self, set_tmx);
}</pre>
            </div><!-- rfc3339-source -->
            
          </div>

          

          
        </div><!-- rfc3339-method -->

      
        <div id="rfc822-method" class="method-detail ">
          <a name="method-i-rfc822"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rfc2822  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">rfc822   &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%a, %-d %b %Y %T %z’).</p>
            

            
            <div class="method-source-code" id="rfc822-source">
<pre>
static VALUE
d_lite_rfc2822(VALUE self)
{
    return strftimev(&quot;%a, %-d %b %Y %T %z&quot;, self, set_tmx);
}</pre>
            </div><!-- rfc822-source -->
            
          </div>

          

          
        </div><!-- rfc822-method -->

      
        <div id="saturday-3F-method" class="method-detail ">
          <a name="method-i-saturday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">saturday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Saturday.</p>
            

            
            <div class="method-source-code" id="saturday-3F-source">
<pre>
static VALUE
d_lite_saturday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 6);
}</pre>
            </div><!-- saturday-3F-source -->
            
          </div>

          

          
        </div><!-- saturday-3F-method -->

      
        <div id="start-method" class="method-detail ">
          <a name="method-i-start"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">start  &rarr;  float</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the Julian day number denoting the day of calendar reform.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).start                  #=&gt; 2299161.0
Date.new(2001,2,3,Date::GREGORIAN).start  #=&gt; -Infinity</pre>
            

            
            <div class="method-source-code" id="start-source">
<pre>
static VALUE
d_lite_start(VALUE self)
{
    get_d1(self);
    return DBL2NUM(m_sg(dat));
}</pre>
            </div><!-- start-source -->
            
          </div>

          

          
        </div><!-- start-method -->

      
        <div id="step-method" class="method-detail ">
          <a name="method-i-step"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">step(limit[, step=1])              &rarr;  enumerator</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">step(limit[, step=1]){|date| ...}  &rarr;  self</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Iterates evaluation of the given block, which takes a date object. The
limit should be a date object.</p>

<p>For example:</p>

<pre>Date.new(2001).step(Date.new(2001,-1,-1)).select{|d| d.sunday?}.size
                          #=&gt; 52</pre>
            

            
            <div class="method-source-code" id="step-source">
<pre>
static VALUE
d_lite_step(int argc, VALUE *argv, VALUE self)
{
    VALUE limit, step, date;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;limit, &amp;step);

    if (argc &lt; 2)
        step = INT2FIX(1);

#if 0
    if (f_zero_p(step))
        rb_raise(rb_eArgError, &quot;step can't be 0&quot;);
#endif

    RETURN_ENUMERATOR(self, argc, argv);

    date = self;
    switch (FIX2INT(f_cmp(step, INT2FIX(0)))) {
      case -1:
        while (FIX2INT(d_lite_cmp(date, limit)) &gt;= 0) {
            rb_yield(date);
            date = d_lite_plus(date, step);
        }
        break;
      case 0:
        while (1)
            rb_yield(date);
        break;
      case 1:
        while (FIX2INT(d_lite_cmp(date, limit)) &lt;= 0) {
            rb_yield(date);
            date = d_lite_plus(date, step);
        }
        break;
      default:
        abort();
    }
    return self;
}</pre>
            </div><!-- step-source -->
            
          </div>

          

          
        </div><!-- step-method -->

      
        <div id="strftime-method" class="method-detail ">
          <a name="method-i-strftime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">strftime([format='%F'])  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <pre>Formats date according to the directives in the given format
string.
The directives begins with a percent (%) character.
Any text not listed as a directive will be passed through to the
output string.

The directive consists of a percent (%) character,
zero or more flags, optional minimum field width,
optional modifier and a conversion specifier
as follows.

  %&lt;flags&gt;&lt;width&gt;&lt;modifier&gt;&lt;conversion&gt;

Flags:
  -  don't pad a numerical output.
  _  use spaces for padding.
  0  use zeros for padding.
  ^  upcase the result string.
  #  change case.
  :  use colons for %z.

The minimum field width specifies the minimum width.

The modifier is &quot;E&quot; and &quot;O&quot;.
They are ignored.

Format directives:

  Date (Year, Month, Day):
    %Y - Year with century (can be negative, 4 digits at least)
            -0001, 0000, 1995, 2009, 14292, etc.
    %C - year / 100 (round down.  20 in 2009)
    %y - year % 100 (00..99)

    %m - Month of the year, zero-padded (01..12)
            %_m  blank-padded ( 1..12)
            %-m  no-padded (1..12)
    %B - The full month name (``January'')
            %^B  uppercased (``JANUARY'')
    %b - The abbreviated month name (``Jan'')
            %^b  uppercased (``JAN'')
    %h - Equivalent to %b

    %d - Day of the month, zero-padded (01..31)
            %-d  no-padded (1..31)
    %e - Day of the month, blank-padded ( 1..31)

    %j - Day of the year (001..366)

  Time (Hour, Minute, Second, Subsecond):
    %H - Hour of the day, 24-hour clock, zero-padded (00..23)
    %k - Hour of the day, 24-hour clock, blank-padded ( 0..23)
    %I - Hour of the day, 12-hour clock, zero-padded (01..12)
    %l - Hour of the day, 12-hour clock, blank-padded ( 1..12)
    %P - Meridian indicator, lowercase (``am'' or ``pm'')
    %p - Meridian indicator, uppercase (``AM'' or ``PM'')

    %M - Minute of the hour (00..59)

    %S - Second of the minute (00..59)

    %L - Millisecond of the second (000..999)
    %N - Fractional seconds digits, default is 9 digits (nanosecond)
            %3N  millisecond (3 digits)
            %6N  microsecond (6 digits)
            %9N  nanosecond (9 digits)
            %12N picosecond (12 digits)

  Time zone:
    %z - Time zone as hour and minute offset from UTC (e.g. +0900)
            %:z - hour and minute offset from UTC with a colon (e.g. +09:00)
            %::z - hour, minute and second offset from UTC (e.g. +09:00:00)
            %:::z - hour, minute and second offset from UTC
                                              (e.g. +09, +09:30, +09:30:30)
    %Z - Time zone abbreviation name

  Weekday:
    %A - The full weekday name (``Sunday'')
            %^A  uppercased (``SUNDAY'')
    %a - The abbreviated name (``Sun'')
            %^a  uppercased (``SUN'')
    %u - Day of the week (Monday is 1, 1..7)
    %w - Day of the week (Sunday is 0, 0..6)

  ISO 8601 week-based year and week number:
  The week 1 of YYYY starts with a Monday and includes YYYY-01-04.
  The days in the year before the first week are in the last week of
  the previous year.
    %G - The week-based year
    %g - The last 2 digits of the week-based year (00..99)
    %V - Week number of the week-based year (01..53)

  Week number:
  The week 1 of YYYY starts with a Sunday or Monday (according to %U
  or %W).  The days in the year before the first week are in week 0.
    %U - Week number of the year.  The week starts with Sunday.  (00..53)
    %W - Week number of the year.  The week starts with Monday.  (00..53)

  Seconds since the Unix Epoch:
    %s - Number of seconds since 1970-01-01 00:00:00 UTC.
    %Q - Number of microseconds since 1970-01-01 00:00:00 UTC.

  Literal string:
    %n - Newline character (\n)
    %t - Tab character (\t)
    %% - Literal ``%'' character

  Combination:
    %c - date and time (%a %b %e %T %Y)
    %D - Date (%m/%d/%y)
    %F - The ISO 8601 date format (%Y-%m-%d)
    %v - VMS date (%e-%b-%Y)
    %x - Same as %D
    %X - Same as %T
    %r - 12-hour time (%I:%M:%S %p)
    %R - 24-hour time (%H:%M)
    %T - 24-hour time (%H:%M:%S)
    %+ - date(1) (%a %b %e %H:%M:%S %Z %Y)

This method is similar to strftime() function defined in ISO C and POSIX.
Several directives (%a, %A, %b, %B, %c, %p, %r, %x, %X, %E*, %O* and %Z)
are locale dependent in the function.
However this method is locale independent.
So, the result may differ even if a same format string is used in other
systems such as C.
It is good practice to avoid %x and %X because there are corresponding
locale independent representations, %D and %T.

Examples:

  d = DateTime.new(2007,11,19,8,37,48,&quot;-06:00&quot;)
                            #=&gt; #&lt;DateTime: 2007-11-19T08:37:48-0600 ...&gt;
  d.strftime(&quot;Printed on %m/%d/%Y&quot;)   #=&gt; &quot;Printed on 11/19/2007&quot;
  d.strftime(&quot;at %I:%M%p&quot;)            #=&gt; &quot;at 08:37AM&quot;

Various ISO 8601 formats:
  %Y%m%d           =&gt; 20071119                  Calendar date (basic)
  %F               =&gt; 2007-11-19                Calendar date (extended)
  %Y-%m            =&gt; 2007-11                   Calendar date, reduced accuracy, specific month
  %Y               =&gt; 2007                      Calendar date, reduced accuracy, specific year
  %C               =&gt; 20                        Calendar date, reduced accuracy, specific century
  %Y%j             =&gt; 2007323                   Ordinal date (basic)
  %Y-%j            =&gt; 2007-323                  Ordinal date (extended)
  %GW%V%u          =&gt; 2007W471                  Week date (basic)
  %G-W%V-%u        =&gt; 2007-W47-1                Week date (extended)
  %GW%V            =&gt; 2007W47                   Week date, reduced accuracy, specific week (basic)
  %G-W%V           =&gt; 2007-W47                  Week date, reduced accuracy, specific week (extended)
  %H%M%S           =&gt; 083748                    Local time (basic)
  %T               =&gt; 08:37:48                  Local time (extended)
  %H%M             =&gt; 0837                      Local time, reduced accuracy, specific minute (basic)
  %H:%M            =&gt; 08:37                     Local time, reduced accuracy, specific minute (extended)
  %H               =&gt; 08                        Local time, reduced accuracy, specific hour
  %H%M%S,%L        =&gt; 083748,000                Local time with decimal fraction, comma as decimal sign (basic)
  %T,%L            =&gt; 08:37:48,000              Local time with decimal fraction, comma as decimal sign (extended)
  %H%M%S.%L        =&gt; 083748.000                Local time with decimal fraction, full stop as decimal sign (basic)
  %T.%L            =&gt; 08:37:48.000              Local time with decimal fraction, full stop as decimal sign (extended)
  %H%M%S%z         =&gt; 083748-0600               Local time and the difference from UTC (basic)
  %T%:z            =&gt; 08:37:48-06:00            Local time and the difference from UTC (extended)
  %Y%m%dT%H%M%S%z  =&gt; 20071119T083748-0600      Date and time of day for calendar date (basic)
  %FT%T%:z         =&gt; 2007-11-19T08:37:48-06:00 Date and time of day for calendar date (extended)
  %Y%jT%H%M%S%z    =&gt; 2007323T083748-0600       Date and time of day for ordinal date (basic)
  %Y-%jT%T%:z      =&gt; 2007-323T08:37:48-06:00   Date and time of day for ordinal date (extended)
  %GW%V%uT%H%M%S%z =&gt; 2007W471T083748-0600      Date and time of day for week date (basic)
  %G-W%V-%uT%T%:z  =&gt; 2007-W47-1T08:37:48-06:00 Date and time of day for week date (extended)
  %Y%m%dT%H%M      =&gt; 20071119T0837             Calendar date and local time (basic)
  %FT%R            =&gt; 2007-11-19T08:37          Calendar date and local time (extended)
  %Y%jT%H%MZ       =&gt; 2007323T0837Z             Ordinal date and UTC of day (basic)
  %Y-%jT%RZ        =&gt; 2007-323T08:37Z           Ordinal date and UTC of day (extended)
  %GW%V%uT%H%M%z   =&gt; 2007W471T0837-0600        Week date and local time and difference from UTC (basic)
  %G-W%V-%uT%R%:z  =&gt; 2007-W47-1T08:37-06:00    Week date and local time and difference from UTC (extended)</pre>

<p>See also strftime(3) and strptime.</p>
            

            
            <div class="method-source-code" id="strftime-source">
<pre>
static VALUE
d_lite_strftime(int argc, VALUE *argv, VALUE self)
{
    return date_strftime_internal(argc, argv, self,
                                  &quot;%Y-%m-%d&quot;, set_tmx);
}</pre>
            </div><!-- strftime-source -->
            
          </div>

          

          
        </div><!-- strftime-method -->

      
        <div id="succ-method" class="method-detail ">
          <a name="method-i-succ"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next  &rarr;  date</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a date object denoting the following day.</p>
            

            
            <div class="method-source-code" id="succ-source">
<pre>
static VALUE
d_lite_next(VALUE self)
{
    return d_lite_next_day(0, (VALUE *)NULL, self);
}</pre>
            </div><!-- succ-source -->
            
          </div>

          

          
        </div><!-- succ-method -->

      
        <div id="sunday-3F-method" class="method-detail ">
          <a name="method-i-sunday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">sunday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Sunday.</p>
            

            
            <div class="method-source-code" id="sunday-3F-source">
<pre>
static VALUE
d_lite_sunday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 0);
}</pre>
            </div><!-- sunday-3F-source -->
            
          </div>

          

          
        </div><!-- sunday-3F-method -->

      
        <div id="thursday-3F-method" class="method-detail ">
          <a name="method-i-thursday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">thursday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Thursday.</p>
            

            
            <div class="method-source-code" id="thursday-3F-source">
<pre>
static VALUE
d_lite_thursday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 4);
}</pre>
            </div><!-- thursday-3F-source -->
            
          </div>

          

          
        </div><!-- thursday-3F-method -->

      
        <div id="to_date-method" class="method-detail ">
          <a name="method-i-to_date"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_date  &rarr;  self</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns self;</p>
            

            
            <div class="method-source-code" id="to_date-source">
<pre>
static VALUE
date_to_date(VALUE self)
{
    return self;
}</pre>
            </div><!-- to_date-source -->
            
          </div>

          

          
        </div><!-- to_date-method -->

      
        <div id="to_datetime-method" class="method-detail ">
          <a name="method-i-to_datetime"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_datetime  &rarr; datetime</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a <a href="DateTime.html">DateTime</a> object which denotes self.</p>
            

            
            <div class="method-source-code" id="to_datetime-source">
<pre>
static VALUE
date_to_datetime(VALUE self)
{
    get_d1a(self);

    if (simple_dat_p(adat)) {
        VALUE new = d_lite_s_alloc_simple(cDateTime);
        {
            get_d1b(new);
            bdat-&gt;s = adat-&gt;s;
            return new;
        }
    }
    else {
        VALUE new = d_lite_s_alloc_complex(cDateTime);
        {
            get_d1b(new);
            bdat-&gt;c = adat-&gt;c;
            bdat-&gt;c.df = 0;
            bdat-&gt;c.sf = INT2FIX(0);
#ifndef USE_PACK
            bdat-&gt;c.hour = 0;
            bdat-&gt;c.min = 0;
            bdat-&gt;c.sec = 0;
#else
            bdat-&gt;c.pc = PACK5(EX_MON(adat-&gt;c.pc), EX_MDAY(adat-&gt;c.pc),
                               0, 0, 0);
            bdat-&gt;c.flags |= HAVE_DF | HAVE_TIME;
#endif
            return new;
        }
    }
}</pre>
            </div><!-- to_datetime-source -->
            
          </div>

          

          
        </div><!-- to_datetime-method -->

      
        <div id="to_json-method" class="method-detail ">
          <a name="method-i-to_json"></a>

          
          <div class="method-heading">
            <span class="method-name">to_json</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Stores class name (<a href="Date.html">Date</a>) with Julian year
<tt>y</tt>, month <tt>m</tt>, day <tt>d</tt> and Day of Calendar Reform
<tt>sg</tt> as <a href="JSON.html">JSON</a> string</p>
            

            
            <div class="method-source-code" id="to_json-source">
<pre>
<span class="ruby-comment"># File ext/json/lib/json/add/core.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_json</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_json-source -->
            
          </div>

          

          
        </div><!-- to_json-method -->

      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_s  &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a string in an ISO 8601 format (This method doesn’t use the
expanded representations).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).to_s  #=&gt; &quot;2001-02-03&quot;</pre>
            

            
            <div class="method-source-code" id="to_s-source">
<pre>
static VALUE
d_lite_to_s(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->

      
        <div id="to_time-method" class="method-detail ">
          <a name="method-i-to_time"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">to_time  &rarr;  time</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns a <a href="Time.html">Time</a> object which denotes self.</p>
            

            
            <div class="method-source-code" id="to_time-source">
<pre>
static VALUE
date_to_time(VALUE self)
{
    get_d1(self);

    return f_local3(rb_cTime,
                    m_real_year(dat),
                    INT2FIX(m_mon(dat)),
                    INT2FIX(m_mday(dat)));
}</pre>
            </div><!-- to_time-source -->
            
          </div>

          

          
        </div><!-- to_time-method -->

      
        <div id="tuesday-3F-method" class="method-detail ">
          <a name="method-i-tuesday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">tuesday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Tuesday.</p>
            

            
            <div class="method-source-code" id="tuesday-3F-source">
<pre>
static VALUE
d_lite_tuesday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 2);
}</pre>
            </div><!-- tuesday-3F-source -->
            
          </div>

          

          
        </div><!-- tuesday-3F-method -->

      
        <div id="upto-method" class="method-detail ">
          <a name="method-i-upto"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">upto(max)              &rarr;  enumerator</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">upto(max){|date| ...}  &rarr;  self</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to step(max, 1){|date| …}.</p>
            

            
            <div class="method-source-code" id="upto-source">
<pre>
static VALUE
d_lite_upto(VALUE self, VALUE max)
{
    VALUE date;

    RETURN_ENUMERATOR(self, 1, &amp;max);

    date = self;
    while (FIX2INT(d_lite_cmp(date, max)) &lt;= 0) {
        rb_yield(date);
        date = d_lite_plus(date, INT2FIX(1));
    }
    return self;
}</pre>
            </div><!-- upto-source -->
            
          </div>

          

          
        </div><!-- upto-method -->

      
        <div id="wday-method" class="method-detail ">
          <a name="method-i-wday"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">wday  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the day of week (0-6, Sunday is zero).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).wday           #=&gt; 6</pre>
            

            
            <div class="method-source-code" id="wday-source">
<pre>
static VALUE
d_lite_wday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_wday(dat));
}</pre>
            </div><!-- wday-source -->
            
          </div>

          

          
        </div><!-- wday-method -->

      
        <div id="wednesday-3F-method" class="method-detail ">
          <a name="method-i-wednesday-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">wednesday?  &rarr;  bool</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if the date is Wednesday.</p>
            

            
            <div class="method-source-code" id="wednesday-3F-source">
<pre>
static VALUE
d_lite_wednesday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 3);
}</pre>
            </div><!-- wednesday-3F-source -->
            
          </div>

          

          
        </div><!-- wednesday-3F-method -->

      
        <div id="xmlschema-method" class="method-detail ">
          <a name="method-i-xmlschema"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">iso8601    &rarr;  string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">xmlschema  &rarr;  string</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>This method is equivalent to strftime(‘%F’).</p>
            

            
            <div class="method-source-code" id="xmlschema-source">
<pre>
static VALUE
d_lite_iso8601(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
            </div><!-- xmlschema-source -->
            
          </div>

          

          
        </div><!-- xmlschema-method -->

      
        <div id="yday-method" class="method-detail ">
          <a name="method-i-yday"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">yday  &rarr;  fixnum</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the day of the year (1-366).</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).yday           #=&gt; 34</pre>
            

            
            <div class="method-source-code" id="yday-source">
<pre>
static VALUE
d_lite_yday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_yday(dat));
}</pre>
            </div><!-- yday-source -->
            
          </div>

          

          
        </div><!-- yday-method -->

      
        <div id="year-method" class="method-detail ">
          <a name="method-i-year"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">year  &rarr;  integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the year.</p>

<p>For example:</p>

<pre>Date.new(2001,2,3).year           #=&gt; 2001
(Date.new(1,1,1) - 1).year        #=&gt; 0</pre>
            

            
            <div class="method-source-code" id="year-source">
<pre>
static VALUE
d_lite_year(VALUE self)
{
    get_d1(self);
    return m_real_year(dat);
}</pre>
            </div><!-- year-source -->
            
          </div>

          

          
        </div><!-- year-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

