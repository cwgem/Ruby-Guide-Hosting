<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Rake::TaskManager
  
    &mdash; Ruby 1.9 Ruby Standard Library
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Rake.html" title="Rake (module)">Rake</a></span></span>
     &raquo; 
    <span class="title">TaskManager</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Rake::TaskManager
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="Application.html" title="Rake::Application (class)">Application</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rake/task_manager.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The TaskManager module is a mixin for managing tasks.</p>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#record_task_metadata-class_method" title="record_task_metadata (class method)">+ (Object) <strong>record_task_metadata</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute record_task_metadata.</p>
</div></span>
  
</li>

    
  </ul>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_description-instance_method" title="#last_description (instance method)">- (Object) <strong>last_description</strong> </a>
    

    
      (also: #last_comment)
    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Track the last comment made in the Rakefile.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(task_name, scopes = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Find a matching task for <tt>task_name</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_location-instance_method" title="#add_location (instance method)">- (Object) <strong>add_location</strong>(task) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a location to the locations field of the given task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attempt_rule-instance_method" title="#attempt_rule (instance method)">- (Object) <strong>attempt_rule</strong>(task_name, extensions, block, level) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attempt to create a rule given the list of prerequisites.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">- (Object) <strong>clear</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear all tasks in this application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_rule-instance_method" title="#create_rule (instance method)">- (Object) <strong>create_rule</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_scope-instance_method" title="#current_scope (instance method)">- (Object) <strong>current_scope</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the list of scope names currently active in the task manager.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#define_task-instance_method" title="#define_task (instance method)">- (Object) <strong>define_task</strong>(task_class, *args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enhance_with_matching_rule-instance_method" title="#enhance_with_matching_rule (instance method)">- (Object) <strong>enhance_with_matching_rule</strong>(task_name, level = 0) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If a rule can be found that matches the task name, enhance the task with
the prerequisites and actions from the rule.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_location-instance_method" title="#find_location (instance method)">- (Object) <strong>find_location</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Find the location that called into the dsl layer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_name-instance_method" title="#generate_name (instance method)">- (Object) <strong>generate_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate an anonymous namespace name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_description-instance_method" title="#get_description (instance method)">- (Object) <strong>get_description</strong>(task) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the current description, clearing it in the process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#in_namespace-instance_method" title="#in_namespace (instance method)">- (Object) <strong>in_namespace</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Evaluate the block in a nested namespace named <tt>name</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (TaskManager) <strong>initialize</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of TaskManager.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#intern-instance_method" title="#intern (instance method)">- (Object) <strong>intern</strong>(task_class, task_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Lookup a task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup-instance_method" title="#lookup (instance method)">- (Object) <strong>lookup</strong>(task_name, initial_scope = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Lookup a task, using scope and the scope hints in the task name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#make_sources-instance_method" title="#make_sources (instance method)">- (Object) <strong>make_sources</strong>(task_name, extensions) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Make a list of sources from the list of file name extensions / translation
procs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve_args-instance_method" title="#resolve_args (instance method)">- (Object) <strong>resolve_args</strong>(args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resolve the arguments for a task/rule.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#synthesize_file_task-instance_method" title="#synthesize_file_task (instance method)">- (Object) <strong>synthesize_file_task</strong>(task_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tasks-instance_method" title="#tasks (instance method)">- (Object) <strong>tasks</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of all defined tasks in this application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tasks_in_scope-instance_method" title="#tasks_in_scope (instance method)">- (Object) <strong>tasks_in_scope</strong>(scope) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of all the tasks defined in the given scope (and its sub-scopes).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trace_rule-instance_method" title="#trace_rule (instance method)">- (Object) <strong>trace_rule</strong>(level, message) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="record_task_metadata=-class_method"></span>
      <span id="record_task_metadata-class_method"></span>
      <div class="method_details first">
  <p class="signature first" id="record_task_metadata-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>record_task_metadata</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute record_task_metadata</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 302</span>

<span class='kw'>def</span> <span class='id record_task_metadata'>record_task_metadata</span>
  <span class='ivar'>@record_task_metadata</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="last_description=-instance_method"></span>
      <span id="last_description-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="last_description-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>last_description</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='last_comment-instance_method'>last_comment</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Track the last comment made in the Rakefile.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 6</span>

<span class='kw'>def</span> <span class='id last_description'>last_description</span>
  <span class='ivar'>@last_description</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(task_name, scopes = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Find a matching task for <tt>task_name</tt>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 44</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id scopes'>scopes</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id task_name'>task_name</span> <span class='op'>=</span> <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id lookup'>lookup</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id scopes'>scopes</span><span class='rparen'>)</span> <span class='kw'>or</span>
    <span class='id enhance_with_matching_rule'>enhance_with_matching_rule</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span> <span class='kw'>or</span>
    <span class='id synthesize_file_task'>synthesize_file_task</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span> <span class='kw'>or</span>
    <span class='id fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don't know how to build task '</span><span class='embexpr_beg'>#{</span><span class='id task_name'>task_name</span><span class='rbrace'>}</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_location-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add_location</strong>(task) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Add a location to the locations field of the given task.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 216</span>

<span class='kw'>def</span> <span class='id add_location'>add_location</span><span class='lparen'>(</span><span class='id task'>task</span><span class='rparen'>)</span>
  <span class='id loc'>loc</span> <span class='op'>=</span> <span class='id find_location'>find_location</span>
  <span class='id task'>task</span><span class='period'>.</span><span class='id locations'>locations</span> <span class='op'>&lt;&lt;</span> <span class='id loc'>loc</span> <span class='kw'>if</span> <span class='id loc'>loc</span>
  <span class='id task'>task</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attempt_rule-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>attempt_rule</strong>(task_name, extensions, block, level) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Attempt to create a rule given the list of prerequisites.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 245</span>

<span class='kw'>def</span> <span class='id attempt_rule'>attempt_rule</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id extensions'>extensions</span><span class='comma'>,</span> <span class='id block'>block</span><span class='comma'>,</span> <span class='id level'>level</span><span class='rparen'>)</span>
  <span class='id sources'>sources</span> <span class='op'>=</span> <span class='id make_sources'>make_sources</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id extensions'>extensions</span><span class='rparen'>)</span>
  <span class='id prereqs'>prereqs</span> <span class='op'>=</span> <span class='id sources'>sources</span><span class='period'>.</span><span class='id collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id source'>source</span><span class='op'>|</span>
    <span class='id trace_rule'>trace_rule</span> <span class='id level'>level</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Attempting Rule </span><span class='embexpr_beg'>#{</span><span class='id task_name'>task_name</span><span class='rbrace'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id source'>source</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span><span class='lparen'>(</span><span class='id source'>source</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='const'>Rake</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id task_defined?'>task_defined?</span><span class='lparen'>(</span><span class='id source'>source</span><span class='rparen'>)</span>
      <span class='id trace_rule'>trace_rule</span> <span class='id level'>level</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id task_name'>task_name</span><span class='rbrace'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id source'>source</span><span class='rbrace'>}</span><span class='tstring_content'> ... EXIST)</span><span class='tstring_end'>&quot;</span></span>
      <span class='id source'>source</span>
    <span class='kw'>elsif</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='id enhance_with_matching_rule'>enhance_with_matching_rule</span><span class='lparen'>(</span><span class='id source'>source</span><span class='comma'>,</span> <span class='id level'>level</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='id trace_rule'>trace_rule</span> <span class='id level'>level</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id task_name'>task_name</span><span class='rbrace'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id source'>source</span><span class='rbrace'>}</span><span class='tstring_content'> ... ENHANCE)</span><span class='tstring_end'>&quot;</span></span>
      <span class='id parent'>parent</span><span class='period'>.</span><span class='id name'>name</span>
    <span class='kw'>else</span>
      <span class='id trace_rule'>trace_rule</span> <span class='id level'>level</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id task_name'>task_name</span><span class='rbrace'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id source'>source</span><span class='rbrace'>}</span><span class='tstring_content'> ... FAIL)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>return</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='id task'>task</span> <span class='op'>=</span> <span class='const'>FileTask</span><span class='period'>.</span><span class='id define_task'>define_task</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='id task_name'>task_name</span> <span class='op'>=&gt;</span> <span class='id prereqs'>prereqs</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id task'>task</span><span class='period'>.</span><span class='id sources'>sources</span> <span class='op'>=</span> <span class='id prereqs'>prereqs</span>
  <span class='id task'>task</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="clear-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Clear all tasks in this application.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 157</span>

<span class='kw'>def</span> <span class='id clear'>clear</span>
  <span class='ivar'>@tasks</span><span class='period'>.</span><span class='id clear'>clear</span>
  <span class='ivar'>@rules</span><span class='period'>.</span><span class='id clear'>clear</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_rule-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>create_rule</strong>(*args, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 17</span>

<span class='kw'>def</span> <span class='id create_rule'>create_rule</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id pattern'>pattern</span><span class='comma'>,</span> <span class='id _'>_</span><span class='comma'>,</span> <span class='id deps'>deps</span> <span class='op'>=</span> <span class='id resolve_args'>resolve_args</span><span class='lparen'>(</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='id pattern'>pattern</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id quote'>quote</span><span class='lparen'>(</span><span class='id pattern'>pattern</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>$</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>String</span> <span class='op'>===</span> <span class='id pattern'>pattern</span>
  <span class='ivar'>@rules</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id pattern'>pattern</span><span class='comma'>,</span> <span class='id deps'>deps</span><span class='comma'>,</span> <span class='id block'>block</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="current_scope-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>current_scope</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return the list of scope names currently active in the task manager.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 197</span>

<span class='kw'>def</span> <span class='id current_scope'>current_scope</span>
  <span class='ivar'>@scope</span><span class='period'>.</span><span class='id dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="define_task-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>define_task</strong>(task_class, *args, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 23</span>

<span class='kw'>def</span> <span class='id define_task'>define_task</span><span class='lparen'>(</span><span class='id task_class'>task_class</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id arg_names'>arg_names</span><span class='comma'>,</span> <span class='id deps'>deps</span> <span class='op'>=</span> <span class='id resolve_args'>resolve_args</span><span class='lparen'>(</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='id task_name'>task_name</span> <span class='op'>=</span> <span class='id task_class'>task_class</span><span class='period'>.</span><span class='id scope_name'>scope_name</span><span class='lparen'>(</span><span class='ivar'>@scope</span><span class='comma'>,</span> <span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='id deps'>deps</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id deps'>deps</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id deps'>deps</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_ary</span><span class='rparen'>)</span>
  <span class='id deps'>deps</span> <span class='op'>=</span> <span class='id deps'>deps</span><span class='period'>.</span><span class='id collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id d'>d</span><span class='op'>|</span> <span class='id d'>d</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='id task'>task</span> <span class='op'>=</span> <span class='id intern'>intern</span><span class='lparen'>(</span><span class='id task_class'>task_class</span><span class='comma'>,</span> <span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='id task'>task</span><span class='period'>.</span><span class='id set_arg_names'>set_arg_names</span><span class='lparen'>(</span><span class='id arg_names'>arg_names</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id arg_names'>arg_names</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='kw'>if</span> <span class='const'>Rake</span><span class='op'>::</span><span class='const'>TaskManager</span><span class='period'>.</span><span class='id record_task_metadata'>record_task_metadata</span>
    <span class='id add_location'>add_location</span><span class='lparen'>(</span><span class='id task'>task</span><span class='rparen'>)</span>
    <span class='id task'>task</span><span class='period'>.</span><span class='id add_description'>add_description</span><span class='lparen'>(</span><span class='id get_description'>get_description</span><span class='lparen'>(</span><span class='id task'>task</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id task'>task</span><span class='period'>.</span><span class='id enhance'>enhance</span><span class='lparen'>(</span><span class='id deps'>deps</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="enhance_with_matching_rule-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>enhance_with_matching_rule</strong>(task_name, level = 0) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>If a rule can be found that matches the task name, enhance the task with
the prerequisites and actions from the rule.  Set the source attribute of
the task appropriately for the rule.  Return the enhanced task or nil of no
rule was found.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 127</span>

<span class='kw'>def</span> <span class='id enhance_with_matching_rule'>enhance_with_matching_rule</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id level'>level</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id fail'>fail</span> <span class='const'>Rake</span><span class='op'>::</span><span class='const'>RuleRecursionOverflowError</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rule Recursion Too Deep</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id level'>level</span> <span class='op'>&gt;=</span> <span class='int'>16</span>
  <span class='ivar'>@rules</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id pattern'>pattern</span><span class='comma'>,</span> <span class='id extensions'>extensions</span><span class='comma'>,</span> <span class='id block'>block</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id pattern'>pattern</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span>
      <span class='id task'>task</span> <span class='op'>=</span> <span class='id attempt_rule'>attempt_rule</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id extensions'>extensions</span><span class='comma'>,</span> <span class='id block'>block</span><span class='comma'>,</span> <span class='id level'>level</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id task'>task</span> <span class='kw'>if</span> <span class='id task'>task</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>rescue</span> <span class='const'>Rake</span><span class='op'>::</span><span class='const'>RuleRecursionOverflowError</span> <span class='op'>=&gt;</span> <span class='id ex'>ex</span>
  <span class='id ex'>ex</span><span class='period'>.</span><span class='id add_target'>add_target</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='id fail'>fail</span> <span class='id ex'>ex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find_location-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_location</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Find the location that called into the dsl layer.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 223</span>

<span class='kw'>def</span> <span class='id find_location'>find_location</span>
  <span class='id locations'>locations</span> <span class='op'>=</span> <span class='id caller'>caller</span>
  <span class='id i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>while</span> <span class='id locations'>locations</span><span class='lbracket'>[</span><span class='id i'>i</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id locations'>locations</span><span class='lbracket'>[</span><span class='id i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id locations'>locations</span><span class='lbracket'>[</span><span class='id i'>i</span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>rake\/dsl_definition.rb</span><span class='regexp_end'>/</span></span>
    <span class='id i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="generate_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>generate_name</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Generate an anonymous namespace name.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 234</span>

<span class='kw'>def</span> <span class='id generate_name'>generate_name</span>
  <span class='ivar'>@seed</span> <span class='op'>||=</span> <span class='int'>0</span>
  <span class='ivar'>@seed</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_anon_</span><span class='embexpr_beg'>#{</span><span class='ivar'>@seed</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_description-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_description</strong>(task) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return the current description, clearing it in the process.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 295</span>

<span class='kw'>def</span> <span class='id get_description'>get_description</span><span class='lparen'>(</span><span class='id task'>task</span><span class='rparen'>)</span>
  <span class='id desc'>desc</span> <span class='op'>=</span> <span class='ivar'>@last_description</span>
  <span class='ivar'>@last_description</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id desc'>desc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="in_namespace-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>in_namespace</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Evaluate the block in a nested namespace named <tt>name</tt>.  Create an
anonymous namespace if <tt>name</tt> is nil.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207
208
209
210
211</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 203</span>

<span class='kw'>def</span> <span class='id in_namespace'>in_namespace</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id name'>name</span> <span class='op'>||=</span> <span class='id generate_name'>generate_name</span>
  <span class='ivar'>@scope</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id ns'>ns</span> <span class='op'>=</span> <span class='const'>NameSpace</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='ivar'>@scope</span><span class='rparen'>)</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id ns'>ns</span><span class='rparen'>)</span>
  <span class='id ns'>ns</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@scope</span><span class='period'>.</span><span class='id pop'>pop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Rake::TaskManager (module)">TaskManager</a></span></tt>) <strong>initialize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A new instance of TaskManager</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 9</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span>
  <span class='kw'>super</span>
  <span class='ivar'>@tasks</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@rules</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@last_description</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="intern-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>intern</strong>(task_class, task_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Lookup a task.  Return an existing task if found, otherwise create a task
of the current type.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 39</span>

<span class='kw'>def</span> <span class='id intern'>intern</span><span class='lparen'>(</span><span class='id task_class'>task_class</span><span class='comma'>,</span> <span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='ivar'>@tasks</span><span class='lbracket'>[</span><span class='id task_name'>task_name</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id task_class'>task_class</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="lookup-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>lookup</strong>(task_name, initial_scope = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Lookup a task, using scope and the scope hints in the task name. This
method performs straight lookups without trying to synthesize file tasks or
rules.  Special scope names (e.g. '^') are recognized.  If no scope
argument is supplied, use the current scope.  Return nil if the task cannot
be found.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 167</span>

<span class='kw'>def</span> <span class='id lookup'>lookup</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id initial_scope'>initial_scope</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id initial_scope'>initial_scope</span> <span class='op'>||=</span> <span class='ivar'>@scope</span>
  <span class='id task_name'>task_name</span> <span class='op'>=</span> <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='kw'>if</span> <span class='id task_name'>task_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^rake:</span><span class='regexp_end'>/</span></span>
    <span class='id scopes'>scopes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id task_name'>task_name</span> <span class='op'>=</span> <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^rake:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id task_name'>task_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\^+)</span><span class='regexp_end'>/</span></span>
    <span class='id scopes'>scopes</span> <span class='op'>=</span> <span class='id initial_scope'>initial_scope</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='id initial_scope'>initial_scope</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>-</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id size'>size</span><span class='rbracket'>]</span>
    <span class='id task_name'>task_name</span> <span class='op'>=</span> <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\^+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id scopes'>scopes</span> <span class='op'>=</span> <span class='id initial_scope'>initial_scope</span>
  <span class='kw'>end</span>
  <span class='id lookup_in_scope'>lookup_in_scope</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id scopes'>scopes</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="make_sources-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>make_sources</strong>(task_name, extensions) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Make a list of sources from the list of file name extensions / translation
procs.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 267</span>

<span class='kw'>def</span> <span class='id make_sources'>make_sources</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='comma'>,</span> <span class='id extensions'>extensions</span><span class='rparen'>)</span>
  <span class='id result'>result</span> <span class='op'>=</span> <span class='id extensions'>extensions</span><span class='period'>.</span><span class='id collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id ext'>ext</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id ext'>ext</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>%</span><span class='regexp_end'>/</span></span>
      <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id pathmap'>pathmap</span><span class='lparen'>(</span><span class='id ext'>ext</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/</span><span class='regexp_end'>}</span></span>
      <span class='id ext'>ext</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\.</span><span class='regexp_end'>/</span></span>
      <span class='id task_name'>task_name</span><span class='period'>.</span><span class='id ext'>ext</span><span class='lparen'>(</span><span class='id ext'>ext</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>String</span>
      <span class='id ext'>ext</span>
    <span class='kw'>when</span> <span class='const'>Proc</span>
      <span class='kw'>if</span> <span class='id ext'>ext</span><span class='period'>.</span><span class='id arity'>arity</span> <span class='op'>==</span> <span class='int'>1</span>
        <span class='id ext'>ext</span><span class='period'>.</span><span class='id call'>call</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id ext'>ext</span><span class='period'>.</span><span class='id call'>call</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don't know how to handle rule dependent: </span><span class='embexpr_beg'>#{</span><span class='id ext'>ext</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='id result'>result</span><span class='period'>.</span><span class='id flatten'>flatten</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resolve_args-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resolve_args</strong>(args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Resolve the arguments for a task/rule.  Returns a triplet of [task_name,
arg_name_list, prerequisites].</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 59</span>

<span class='kw'>def</span> <span class='id resolve_args'>resolve_args</span><span class='lparen'>(</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id deps'>deps</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id pop'>pop</span>
    <span class='id resolve_args_with_dependencies'>resolve_args_with_dependencies</span><span class='lparen'>(</span><span class='id args'>args</span><span class='comma'>,</span> <span class='id deps'>deps</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id resolve_args_without_dependencies'>resolve_args_without_dependencies</span><span class='lparen'>(</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="synthesize_file_task-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>synthesize_file_task</strong>(task_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 52</span>

<span class='kw'>def</span> <span class='id synthesize_file_task'>synthesize_file_task</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span><span class='lparen'>(</span><span class='id task_name'>task_name</span><span class='rparen'>)</span>
  <span class='id define_task'>define_task</span><span class='lparen'>(</span><span class='const'>Rake</span><span class='op'>::</span><span class='const'>FileTask</span><span class='comma'>,</span> <span class='id task_name'>task_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tasks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tasks</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>List of all defined tasks in this application.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 143</span>

<span class='kw'>def</span> <span class='id tasks'>tasks</span>
  <span class='ivar'>@tasks</span><span class='period'>.</span><span class='id values'>values</span><span class='period'>.</span><span class='id sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id t'>t</span><span class='op'>|</span> <span class='id t'>t</span><span class='period'>.</span><span class='id name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tasks_in_scope-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tasks_in_scope</strong>(scope) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>List of all the tasks defined in the given scope (and its sub-scopes).</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 149</span>

<span class='kw'>def</span> <span class='id tasks_in_scope'>tasks_in_scope</span><span class='lparen'>(</span><span class='id scope'>scope</span><span class='rparen'>)</span>
  <span class='id prefix'>prefix</span> <span class='op'>=</span> <span class='id scope'>scope</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id tasks'>tasks</span><span class='period'>.</span><span class='id select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id t'>t</span><span class='op'>|</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='tstring_content'>:</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id t'>t</span><span class='period'>.</span><span class='id name'>name</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="trace_rule-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>trace_rule</strong>(level, message) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rake/task_manager.rb', line 240</span>

<span class='kw'>def</span> <span class='id trace_rule'>trace_rule</span><span class='lparen'>(</span><span class='id level'>level</span><span class='comma'>,</span> <span class='id message'>message</span><span class='rparen'>)</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    </span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='id level'>level</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id message'>message</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>Rake</span><span class='period'>.</span><span class='id application'>application</span><span class='period'>.</span><span class='id options'>options</span><span class='period'>.</span><span class='id trace_rules'>trace_rules</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Sep  3 14:11:21 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.2 (ruby-1.9.3).
</div>

  </body>
</html>