<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.5" />
<title>Rare Are GC Talks</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}
/*
  pygmentize filter
*/
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f4f4f4; }
.highlight .c { color: #008800; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #AA22FF; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #008800; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #008800 } /* Comment.Preproc */
.highlight .c1 { color: #008800; font-style: italic } /* Comment.Single */
.highlight .cs { color: #008800; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #AA22FF; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #AA22FF; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #AA22FF; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #AA22FF } /* Keyword.Pseudo */
.highlight .kr { color: #AA22FF; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #00BB00; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BB4444 } /* Literal.String */
.highlight .na { color: #BB4444 } /* Name.Attribute */
.highlight .nb { color: #AA22FF } /* Name.Builtin */
.highlight .nc { color: #0000FF } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #00A000 } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #B8860B } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BB4444 } /* Literal.String.Backtick */
.highlight .sc { color: #BB4444 } /* Literal.String.Char */
.highlight .sd { color: #BB4444; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BB4444 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BB4444 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BB4444 } /* Literal.String.Single */
.highlight .ss { color: #B8860B } /* Literal.String.Symbol */
.highlight .bp { color: #AA22FF } /* Name.Builtin.Pseudo */
.highlight .vc { color: #B8860B } /* Name.Variable.Class */
.highlight .vg { color: #B8860B } /* Name.Variable.Global */
.highlight .vi { color: #B8860B } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */

</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName == 'DIV'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName == 'DIV' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Rare Are GC Talks</h1>
<span id="author">nari (Translator Chris White)</span><br />
<span id="revdate">September 4th 2011</span>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This document is a translation of a Japanese article by nari regarding garbage collection (GC), published in <a href="http://jp.rubyist.net/magazine/?0025-RareAreGCTalk">Rubyist Magazine</a>.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>This article is meant to be an easy to understand explanation of GC algorithms to those who think to themselves "I get that garbage collection is useful, but I don&#8217;t really understand how it all works". An explanation of how the CRuby GC works will follow. Finally we&#8217;ll look a little at recent studies on Ruby GC alternatives. Oh, just to set the record straight, the GC described in this article and the Game Cube system has no relationship :-)</p></div>
</div>
</div>
<div class="sect1">
<h2 id="the-gc-talk">When It Comes To Talking About Garbage Collection</h2>
<div class="sectionbody">
<div class="paragraph"><p>At the December 2008 Kyushu Ruby 01 Conference, I asked the audience "How many of you here have some interest in garbage collection?" Out of 200 people, only 3 raised their hands (even so I still proceeded to talk to no end about the subject). It seems as though the majority opinion about garbage collection is "As long as everything works okay behind the scenes I&#8217;m all okay." However garbage collection is one of the taken for granted features that is built into a good number of language processors. It would not hurt as a programmer to properly understand the structure and internal implementation of garbage collection. I would be greatly pleased if you read this article with a "All right, I&#8217;ll take a little break and hear out your talk about garbage collection" type of mindset.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="what-is-gc">What Is GC</h2>
<div class="sectionbody">
<div class="paragraph"><p>GC is an abbreviation for "Garbage Collection". To execute GC means detecting unused regions in memory and freeing the memory held by these regions. It goes without saying that many programmers consider this a great blessing, so I think I&#8217;ll leave the basic definition at that.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gc-enabled-language-processors">GC Enabled Language Processors</h2>
<div class="sectionbody">
<div class="paragraph"><p>Many language processors these days have garbage collection already built-in. A few examples include:</p></div>
<div class="ulist"><ul>
<li>
<p>
Ruby
</p>
</li>
<li>
<p>
Perl
</p>
</li>
<li>
<p>
Java
</p>
</li>
<li>
<p>
Haskell
</p>
</li>
<li>
<p>
C#
</p>
</li>
<li>
<p>
Gauche
</p>
</li>
</ul></div>
<div class="paragraph"><p>One could say that garbage collection is a feature that modern language processors can&#8217;t be without.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gc-algo">GC Algorithms</h2>
<div class="sectionbody">
<div class="paragraph"><p>Now then how does garbage collection decide what is considered garbage for collection? Lets take a look at some of the garbage collection algorithms.</p></div>
<div class="sect2">
<h3 id="three-major-algo">The 3 Major Algorithms</h3>
<div class="paragraph"><p>Garbage collection was first implemented at around the year 1960. Since then much work has gone into the field, and gave birth to the riser of newer algorithms. A good majority of these algorithms can be traced back to three standard algorithms. These are:</p></div>
<div class="ulist"><ul>
<li>
<p>
Mark &amp; Sweep
</p>
</li>
<li>
<p>
Copying
</p>
</li>
<li>
<p>
Reference Count
</p>
</li>
</ul></div>
<div class="paragraph"><p>As they are considered the core foundation, their understand will help bring the developer closer to understand garbage collection.</p></div>
</div>
<div class="sect2">
<h3 id="before-we-begin">Before We Begin</h3>
<div class="paragraph"><p>It&#8217;s generally assumed when talking about garbage collection algorithms that the users has existing knowledge of machine stacks and registers. However this knowledge won&#8217;t be necessary to describe the true nature of the matter. For this purpose I&#8217;ll discuss just the essentials to make it easier for the reader to understand.</p></div>
</div>
<div class="sect2">
<h3 id="book-arrangement-and-gc">Book Arrangement And Garbage Collection</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is tradition in Japan to do large scale cleaning at the end of the year. This is done to start the new year off with a clean slate. <a href="http://gojapan.about.com/cs/japaneseholidays/a/newyeareve.htm">Source</a></td>
</tr></table>
</div>
<div class="paragraph"><p>The year has already started, but I&#8217;m sure many people have cleaned their homes and offices at the end of the year. I myself was also tasked with end of the year cleaning at my company. At the office there is a bookshelf that is tightly packed with many technical publications. Some are old and will never be read again, others are quality works like the Ruby Hacking Guide (RHG). Here I decided to judge between necessary and unnecessary publications, and throw out the unnecessary ones. However the problem is not so simple as it sounds.</p></div>
<div class="paragraph"><p>The reason being is that this bookshelf is shared by everyone in the company, and it would be misguided to judge what is important based on my personal opinion. A work that I think no one will read might be useful to another coworker. This puts the main task at hand to find out which books are unwanted by everyone in the company. So how will I go about this task? The image below is meant to be a simple representation of the bookshelf.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_ms_01.jpg" alt="illustration of the bookshelf" />
</span></p></div>
</div>
<div class="sect2">
<h3 id="mark-and-sweep">Mark &amp; Sweep</h3>
<div class="paragraph"><p>While a bit of an experimental idea, how about the following method. I&#8217;ll take each an every book from the bookshelf, and ask everyone in the office "Do you think you&#8217;ll use this book next year?" The more specific method would work as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Start by taking a single book from the top left of the shelf
</p>
</li>
<li>
<p>
Walk around the office and ask "Do you think you&#8217;ll use this book next year?"
</p>
</li>
<li>
<p>
If someone answers "Yes, I will!", then I&#8217;ll apply a red mark on the spine and return it to the shelf
</p>
</li>
<li>
<p>
If everyone answers "No, don&#8217;t need it at all", then I&#8217;ll return the book to the shelf as is
</p>
</li>
<li>
<p>
Repeat this process, working down to the lower right corner of the bookshelf
</p>
</li>
</ol></div>
<div class="paragraph"><p>After all is said and done, the bookshelf turns out to look like the following:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_ms_02.jpg" alt="illustration of the marked bookshelf" />
</span></p></div>
<div class="paragraph"><p>Using this method, valuable publications could be determined by the presence of a red mark, and unnecessary works by the lack of one. This process is known as the "Mark Phase".</p></div>
<div class="paragraph"><p>The next step is to throw out the unnecessary books. The process works something like:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Once again, take each book from the bookshelf, starting from the upper left
</p>
</li>
<li>
<p>
If the book has a red mark on the spine, take the mark off and return it to the bookshelf
</p>
</li>
<li>
<p>
However, if nothing is on the spine, throw the book into the trash
</p>
</li>
<li>
<p>
Repeat this process, working down to the lower right corner of the bookshelf
</p>
</li>
</ol></div>
<div class="paragraph"><p>Once all is said and done, the bookshelf looks like the following:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_ms_03.jpg" alt="illustration of the sorted bookshelf" />
</span></p></div>
<div class="paragraph"><p>Using this method, valuable books are returned to the bookshelf, and unnecessary books are disposed of. Now only the valuable books are left. This process is known as the "Sweep Phase". The entire process is therefore known as "Mark &amp; Sweep".</p></div>
<div class="sect3">
<h4 id="mark-and-sweep-cons">Cons</h4>
<div class="paragraph"><p>The bookshelf is now sorted, and all is fine and dandy. However there unfortunately remains one problem. Between some of the books there is a space of variable width. So if a book is slightly larger than any of the space, it won&#8217;t fit into the bookshelf.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_ms_04.jpg" alt="the fragmentation problem" />
</span></p></div>
<div class="paragraph"><p>This problem is known as "Fragmentation". If a new book needs to be put into the bookshelf, it may lead to issues. This requires thinking up a new method for sorting. As a side note CRuby utilizes this Mark &amp; Sweep algorithm, and is subject to the same fragmentation problem.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="copying">Copying</h3>
<div class="paragraph"><p>With just one bookshelf there is the problem of fragmentation. So instead two bookshelves will be used for arranging the books.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_cp_01.jpg" alt="full bookshelf and empty bookshelf" />
</span></p></div>
<div class="paragraph"><p>Specifically the following process will be used for arranging:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Start by taking a single book from the top left of the shelf
</p>
</li>
<li>
<p>
Walk around the office and ask "Do you think you&#8217;ll use this book next year?"
</p>
</li>
<li>
<p>
If someone answers "Yes, I will!", place the book in the empty bookshelf
</p>
</li>
<li>
<p>
If everyone answers "No, don&#8217;t need it at all", return the book to the original bookshelf
</p>
</li>
<li>
<p>
Repeat this process, working down to the lower right corner of the bookshelf
</p>
</li>
</ol></div>
<div class="paragraph"><p>Once all is said and done the result looks something like the following:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_cp_02.jpg" alt="arranged bookshelves" />
</span></p></div>
<div class="paragraph"><p>Using this method, valuable books end up in the bookshelf on the right, and unnecessary books end up in the original bookshelf. With the Mark &amp; Sweep method unnecessary books were indicated through the lack of a mark. With this method, they are instead designated by the resulting location that they are put in. So now to go about the removal of the unnecessary books. Well that&#8217;s quite simple:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Throw out all of the books in the bookshelf on the left
</p>
</li>
</ol></div>
<div class="paragraph"><p>This gives the following:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_cp_03.jpg" alt="copying disposed books" />
</span></p></div>
<div class="paragraph"><p>Without thinking about anything all of the books on the left bookshelf can be disposed of. This is method is known as the "Copying" algorithm.  Another thing to note is that the next time books are to be arranged, valuable books will be transferred to the bookshelf on the left instead.</p></div>
<div class="sect3">
<h4 id="_pros">Pros</h4>
<div class="paragraph"><p>Copying provides faster sorting than Mark &amp; Sweep. The Mark &amp; Sweep method also requires an additional pass over all the books in order to dispose of the unnecessary books properly, whereas Copying doesn&#8217;t require this. Also the issue with fragmentation doesn&#8217;t exist, and it&#8217;s easier to fit in new books.</p></div>
</div>
<div class="sect3">
<h4 id="_cons">Cons</h4>
<div class="paragraph"><p>It&#8217;s faster and doesn&#8217;t have fragmentation issues, so it&#8217;s perfect! So let&#8217;s get started right away. Unfortunately there&#8217;s a problem. There are no empty bookshelves laying around. All of the bookshelves are packed with books *facepalm* Comparing to Mark &amp; Sweep, twice the storage space is required. This certainly does no good. A new bookshelf could be purchased, but that seems a bit overkill. Next up a fundamentally different method will be tested.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_reference_count">Reference Count</h3>
<div class="paragraph"><p>Is the reader the type that works on summer homework everyday, or the type that waits until the last two days to complete it? I happen to be in the later group. Because of this, I have recollections of my parents scolding me saying "It&#8217;s because you&#8217;re out playing everyday that things turn out like this!" With this in mind, how about throwing out the notion that the bookshelf needs to be arranged at the end of the year? If the bookshelf is arranged regularly, there&#8217;s no need to fumble around at the end of the year doing it.</p></div>
<div class="paragraph"><p>With this in mind the "Don&#8217;t Toss Me Card" method is created.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_rf_01.jpg" alt="The Don&#8217;t Toss Me Card" />
</span></p></div>
<div class="paragraph"><p>The "Don&#8217;t Toss Me Card" is as the name states a card in which anyone who considers the book valuable will write their name in the card. This card is created for each and every book, then placed inside of it. So how does the usage of the "Don&#8217;t Toss Me Card" work? Take for example a fictional character "Mr. A" who has purchased a new book.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Mr. A purchases the book
</p>
</li>
<li>
<p>
He then creates the "Don&#8217;t Toss Me Card"
</p>
</li>
<li>
<p>
Mr. A then writes his name in the "Don&#8217;t Toss Me Card" and places it inside the book
</p>
</li>
<li>
<p>
Mr. B realizes the presences of the new book
</p>
</li>
<li>
<p>
Mr. B thinks to himself "I think I might want to read this book" and writes his name in the "Don&#8217;t Toss Me Card"
</p>
</li>
</ol></div>
<div class="paragraph"><p>At this point, the "Don&#8217;t Toss Me Card" looks something like this:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_rf_02.jpg" alt="The Filled Out Don&#8217;t Toss Me Card" />
</span></p></div>
<div class="paragraph"><p>In this manner, the book that Mr. A purchases begins to fill up with more names. So, how does this book become unnecessary? It works something like this:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Mr. A finishes reading the book and thinks to himself "I&#8217;m won&#8217;t read this again so I don&#8217;t need it anymore"
</p>
</li>
<li>
<p>
Mr. A crosses his name off the "Don&#8217;t Toss Me Card"
</p>
</li>
<li>
<p>
Mr. B thinks to himself "The technology in this book has gotten pretty old so I don&#8217;t feel like reading it anymore"
</p>
</li>
<li>
<p>
Mr. B crosses his name off the "Don&#8217;t Toss Me Card"
</p>
</li>
<li>
<p>
Since all the names have been crossed off the "Don&#8217;t Toss Me Card", the book is considered unnecessary
</p>
</li>
<li>
<p>
The last person to cross their name off, Mr. B, throws the book away
</p>
</li>
</ol></div>
<div class="paragraph"><p>In this manner unnecessary books are safely disposed of.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/bookshelf_rf_03.jpg" alt="A Don&#8217;t Toss Me Card for an unnecessary book" />
</span></p></div>
<div class="paragraph"><p>This method is referred to as the "Reference Count Algorithm". In the example the interests of the employees are referenced and counted. However in a more practical sense references of mutual objects are instead counted.</p></div>
<div class="sect3">
<h4 id="_pros_2">Pros</h4>
<div class="paragraph"><p>The benefit of this method is the burden is now decentralized. Cleaning the bookshelf at the end of the year is very difficult, but handling it on a normal basis is much more manageable.</p></div>
</div>
<div class="sect3">
<h4 id="_cons_2">Cons</h4>
<div class="paragraph"><p>Annoyance is the main problem with this algorithm. With the Reference Count algorithm, one must ensure that they fill out their name and erase it later. However someone is likely to forget to do this. If someone doesn&#8217;t fill out their name, a valuable book could get thrown out, and if someone forgets to cross out their name, a useless book is left sticking around. This is very annoying.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_so_how_fares_the_arranging">So How Fares The Arranging?</h3>
<div class="paragraph"><p>The book arrangement is very annoying isn&#8217;t it? Fragmentation can occur, another bookshelf could become necessary&#8230; However this is quite a distorted view of things to show how garbage collection works. A more practical solution would simply be to throw out books that no longer look necessary. Also there&#8217;s the method of not sorting the books at all :-) In my case I simply threw out books that didn&#8217;t look necessary to me. There&#8217;s the chance that someone wanted to read that book, but oh well that&#8217;s life!</p></div>
</div>
<div class="sect2">
<h3 id="_a_quick_summary">A Quick Summary</h3>
<div class="paragraph"><p>This section used an easy to understand explanation of garbage collection using the arrangement of books as an example. It was a bit distorted however. I wonder if there is still the reader who thinks to themselves "I want to try and implement this!", or feels that this explanation is not detailed enough.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_ruby_gc_structure">The Ruby GC Structure</h2>
<div class="sectionbody">
<div class="paragraph"><p>Now that the reader has become familiar with the basics of garbage collection algorithms, I&#8217;ll explain the structure of the Ruby GC. First off it is, as mentioned previously, based on the Mark &amp; Sweep algorithm. Since the basics of algorithm have been touched upon in the previous section, we&#8217;ll look at how the Ruby GC implements it.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">From here on out a good amount of knowledge in C and Ruby is required</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_mark_amp_sweep">Mark &amp; Sweep</h3>
<div class="paragraph"><p>Below is a sample program that has been prepared for explanation purposes:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="c1">#Child class definition</span>
<span class="k">class</span> <span class="nc">Child</span><span class="p">;</span> <span class="k">end</span>

<span class="c1">#Array creation</span>
<span class="n">arry1</span> <span class="o">=</span> <span class="o">[]</span>
<span class="c1">#Insertion of Child class instance</span>
<span class="n">arry1</span> <span class="o">&lt;&lt;</span> <span class="no">Child</span><span class="o">.</span><span class="n">new</span>

<span class="c1">#Array creation</span>
<span class="n">arry2</span> <span class="o">=</span> <span class="o">[]</span>
<span class="c1">#Insertion of Child class instance</span>
<span class="n">arry2</span> <span class="o">&lt;&lt;</span> <span class="no">Child</span><span class="o">.</span><span class="n">new</span>
<span class="n">arry2</span> <span class="o">&lt;&lt;</span> <span class="no">Child</span><span class="o">.</span><span class="n">new</span>
<span class="c1">#Destroy the reference</span>
<span class="n">arry2</span> <span class="o">=</span> <span class="kp">nil</span>

<span class="c1">#Start the GC process!</span>
<span class="no">GC</span><span class="o">.</span><span class="n">start</span>
</pre></div></div></div>
<div class="paragraph"><p>We&#8217;ll now take a look at how CRuby would operate if we were to run this program. First is the class definition and the creation of the array.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_01.jpg" alt="Array creation" />
</span></p></div>
<div class="paragraph"><p>First is the heap area referenced in the diagram. This heap area is not referring to the C heap area, but instead the heap area that is used by Ruby. The Ruby heap area is maintained as a collection of RVALUE types.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">For the curious, RVALUE is declared in gc.c in the Ruby source.</td>
</tr></table>
</div>
<div class="paragraph"><p>The RArray that was just created is defined in this heap area. This is the structure of the array instance created by Ruby. When an array is created in Ruby, the CRuby side stores the result in a structure called RArray. Afterwards, a pointer to the RArray is inserted in the root area. This pointer has a similar role to the <tt>arry1</tt> variable on the Ruby side. The details of root will be explained later on, so for now think of this like the management of local variables.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_02.jpg" alt="Object insertion" />
</span></p></div>
<div class="paragraph"><p>A Child class instance has been created. This object is stored in the heap area internally in a structure called RObject. Additionally, a pointer to the object is inserted into the RArray.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_03.jpg" alt="Second array creation" />
</span></p></div>
<div class="paragraph"><p>As with before, an RArray structure is added to the heap area, and a pointer referencing it is inserted into the root.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_04.jpg" alt="Second array object insertion" />
</span></p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_05.jpg" alt="Second array second object insertion" />
</span></p></div>
<div class="paragraph"><p>The same explanation applies here as before.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_06.jpg" alt="Second array dereference" />
</span></p></div>
<div class="paragraph"><p>The local variable arry2 is set to nil. This causes the removal of the pointer to the RArray from the root. As you can tell from the image, there is no longer a reference pointing to the RArray object on the heap. This means the object is no longer necessary and should be collected as garbage. The same status applies for the RObjects contained within the RArray.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_07.jpg" alt="GC mark phase 1" />
</span></p></div>
<div class="paragraph"><p>Now for the long awaited garbage collection phase. In what way will the unnecessary objects be freed?</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_08.jpg" alt="GC mark phase 2" />
</span></p></div>
<div class="paragraph"><p>This is the beginning of the Mark processing phase. During this phase active objects are marked recursively starting from root. More specifically it sets every structure&#8217;s mark bit to 1. If the object has already been marked then it will be skipped. The important thing to note is that objects which are not referenced are not marked. This is similar to the story about the bookshelf. In this manner active objects can be discerned from unnecessary objects.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_09.jpg" alt="GC sweep phase 3" />
</span></p></div>
<div class="paragraph"><p>Next is the sweep phase. In the sweep phase, objects are checked to see if they have been marked or not.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_010.jpg" alt="GC sweep phase 2" />
</span></p></div>
<div class="paragraph"><p>If the object has the bit mark set, its bit mark is set back to 0. This is to prevent bugs from occurring during the next GC pass.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_011.jpg" alt="GC object removal" />
</span></p></div>
<div class="paragraph"><p>If the mark bit is not set, then the objects are removed. This completes the GC process.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/crubygc_ms_012.jpg" alt="GC completion" />
</span></p></div>
<div class="paragraph"><p>Now unnecessary objects are removed and only active objects remain.</p></div>
</div>
<div class="sect2">
<h3 id="_conservative_gc">Conservative GC</h3>
<div class="paragraph"><p>Now what about the talk about root that was put off from before? What exactly is root? Put simply it is the area in which pointers to objects are stored. More specifically it is the area where the machine stack, register, global variables, and Ruby internal global variable management table is stored. If an object is pointed to from a pointer in root, that object is considered active. Following the bookshelf example, the root is the bookshelf shared by everyone, and pointers in the root are considered to be the feeling that the book is important.</p></div>
<div class="sect3">
<h4 id="_object_lifetime_definition">Object Lifetime Definition</h4>
<div class="paragraph"><p>The definition of object lifetime is as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Objects pointed to by the current user program&#8217;s memory area (register, stack, global variables, etc. in other words root) are considered active (necessary objects)
</p>
</li>
<li>
<p>
Objects pointed to by other active objects are themselves active
</p>
</li>
<li>
<p>
All other objects are considered to be garbage and collected accordingly
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_determining_pointers_that_reference_objects">Determining Pointers That Reference Objects</h4>
<div class="paragraph"><p>In the machine stack and register there are numerous values stored that have no relation to pointers. For example, <tt>int</tt> values or <tt>char</tt> values. Basically many values are mixed together without any type of sorting. With this in mind, how are pointers to objects identified? In CRuby, this is determined by whether or not the value is stored in the heap area. As it is bit difficult to put into words, I&#8217;ve written some Ruby code to help explain. The heap area is assumed to be from <tt>0x0000</tt> to <tt>0x1000</tt>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="k">def</span> <span class="nf">is_pointer_to_heap?</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
  <span class="n">heap_start</span> <span class="o">=</span> <span class="mh">0x0000</span>
  <span class="n">heap_end</span>   <span class="o">=</span> <span class="mh">0x1000</span>
  <span class="k">return</span> <span class="kp">true</span> <span class="k">if</span> <span class="n">heap_start</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">heap_end</span>
  <span class="k">return</span> <span class="kp">false</span>
<span class="k">end</span>

<span class="n">stacks</span> <span class="o">=</span> <span class="o">[</span><span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x0500</span><span class="p">,</span> <span class="mh">0x10000</span><span class="o">]</span>
<span class="n">is_pointer_to_heap?</span><span class="p">(</span><span class="n">stacks</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span>     <span class="c1">#=&gt; true</span>
<span class="n">is_pointer_to_heap?</span><span class="p">(</span><span class="n">stacks</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span>     <span class="c1">#=&gt; true</span>
<span class="n">is_pointer_to_heap?</span><span class="p">(</span><span class="n">stacks</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span>     <span class="c1">#=&gt; false</span>
</pre></div></div></div>
<div class="paragraph"><p>As per the code above, pointers to objects are determined through the following method:</p></div>
<div class="ulist"><ul>
<li>
<p>
If the value is inside the heap area, it is considered a pointer to an object
</p>
</li>
<li>
<p>
If the value is outside of the heap area, it is considered not to be a pointer to an object
</p>
</li>
</ul></div>
<div class="paragraph"><p>Through this method it is easy to determine what pointers are pointing to objects. However this method is not perfect. For example, it is unable to determine the difference between the pointer <tt>0x0500</tt> and the integer <tt>0x0500</tt>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">integer</span> <span class="o">=</span> <span class="mh">0x0500</span>
<span class="n">is_pointer_to_heap</span><span class="p">(</span><span class="n">integer</span><span class="p">)</span> <span class="c1">#=&gt; true</span>
</pre></div></div></div>
<div class="paragraph"><p>If there is an inactive object at address <tt>0x0500</tt>, it will be mistaken for an active object. With this method anything that looks like an object pointer is considered to be active. This is unfortunately something that can&#8217;t be helped&#8230; This method of attempting to safely remove doubtful objects is a very conservative outlook, and thus this process is known as "Conservative GC". CRuby uses this conservative GC in its implementation.</p></div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2011-09-19 12:12:53 PDT
</div>
</div>
</body>
</html>
